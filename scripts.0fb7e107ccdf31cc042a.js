function define(t,e,n){define.a[t]={e:e,d:n}}function oneRequire(t,e){define.b(t,e,null)}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap=e(t.Popper)}(this,function(t){"use strict";var e=function(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}}),e.default=t,Object.freeze(e)}(t);const n=t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},i=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#"+n.split("#")[1]),e=n&&"#"!==n?n.trim():null}return e},r=t=>{const e=i(t);return e&&document.querySelector(e)?e:null},o=t=>{const e=i(t);return e?document.querySelector(e):null},s=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),r=Number.parseFloat(n);return i||r?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0},a=t=>{t.dispatchEvent(new Event("transitionend"))},l=t=>(t[0]||t).nodeType,u=(t,e)=>{let n=!1;const i=e+5;t.addEventListener("transitionend",function e(){n=!0,t.removeEventListener("transitionend",e)}),setTimeout(()=>{n||a(t)},i)},c=(t,e,n)=>{Object.keys(n).forEach(i=>{const r=n[i],o=e[i],s=o&&l(o)?"element":null==(a=o)?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();var a;if(!new RegExp(r).test(s))throw new TypeError(t.toUpperCase()+": "+`Option "${i}" provided type "${s}" `+`but expected type "${r}".`)})},h=t=>{if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==n.display&&"hidden"!==e.visibility}return!1},f=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),d=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?d(t.parentNode):null},p=()=>function(){},g=t=>t.offsetHeight,v=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},b=()=>"rtl"===document.documentElement.dir,y=(t,e)=>{var n;n=()=>{const n=v();if(n){const i=n.fn[t];n.fn[t]=e.jQueryInterface,n.fn[t].Constructor=e,n.fn[t].noConflict=()=>(n.fn[t]=i,e.jQueryInterface)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()},m=new Map;var _={set(t,e,n){m.has(t)||m.set(t,new Map);const i=m.get(t);i.has(e)||0===i.size?i.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(t,e)=>m.has(t)&&m.get(t).get(e)||null,remove(t,e){if(!m.has(t))return;const n=m.get(t);n.delete(e),0===n.size&&m.delete(t)}};const x=/[^.]*(?=\..*)\.|.*/,w=/\..*/,k=/::\d+$/,E={};let S=1;const A={mouseenter:"mouseover",mouseleave:"mouseout"},T=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function M(t,e){return e&&`${e}::${S++}`||t.uidEvent||S++}function O(t){const e=M(t);return t.uidEvent=e,E[e]=E[e]||{},E[e]}function C(t,e,n=null){const i=Object.keys(t);for(let r=0,o=i.length;r<o;r++){const o=t[i[r]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function N(t,e,n){const i="string"==typeof e,r=i?n:e;let o=t.replace(w,"");const s=A[o];return s&&(o=s),T.has(o)||(o=t),[i,r,o]}function L(t,e,n,i,r){if("string"!=typeof e||!t)return;n||(n=i,i=null);const[o,s,a]=N(e,n,i),l=O(t),u=l[a]||(l[a]={}),c=C(u,s,o?n:null);if(c)return void(c.oneOff=c.oneOff&&r);const h=M(s,e.replace(x,"")),f=o?function(t,e,n){return function i(r){const o=t.querySelectorAll(e);for(let{target:e}=r;e&&e!==this;e=e.parentNode)for(let s=o.length;s--;)if(o[s]===e)return r.delegateTarget=e,i.oneOff&&P.off(t,r.type,n),n.apply(e,[r]);return null}}(t,n,i):function(t,e){return function n(i){return i.delegateTarget=t,n.oneOff&&P.off(t,i.type,e),e.apply(t,[i])}}(t,n);f.delegationSelector=o?n:null,f.originalHandler=s,f.oneOff=r,f.uidEvent=h,u[h]=f,t.addEventListener(a,f,o)}function D(t,e,n,i,r){const o=C(e[n],i,r);o&&(t.removeEventListener(n,o,Boolean(r)),delete e[n][o.uidEvent])}const P={on(t,e,n,i){L(t,e,n,i,!1)},one(t,e,n,i){L(t,e,n,i,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[r,o,s]=N(e,n,i),a=s!==e,l=O(t),u=e.startsWith(".");if(void 0!==o){if(!l||!l[s])return;return void D(t,l,s,o,r?n:null)}u&&Object.keys(l).forEach(n=>{!function(t,e,n,i){const r=e[n]||{};Object.keys(r).forEach(o=>{if(o.includes(i)){const i=r[o];D(t,e,n,i.originalHandler,i.delegationSelector)}})}(t,l,n,e.slice(1))});const c=l[s]||{};Object.keys(c).forEach(n=>{const i=n.replace(k,"");if(!a||e.includes(i)){const e=c[n];D(t,l,s,e.originalHandler,e.delegationSelector)}})},trigger(t,e,n){if("string"!=typeof e||!t)return null;const i=v(),r=e.replace(w,""),o=e!==r,s=T.has(r);let a,l=!0,u=!0,c=!1,h=null;return o&&i&&(a=i.Event(e,n),i(t).trigger(a),l=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),s?(h=document.createEvent("HTMLEvents"),h.initEvent(r,l,!0)):h=new CustomEvent(e,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach(t=>{Object.defineProperty(h,t,{get:()=>n[t]})}),c&&h.preventDefault(),u&&t.dispatchEvent(h),h.defaultPrevented&&void 0!==a&&a.preventDefault(),h}};class j{constructor(t){(t="string"==typeof t?document.querySelector(t):t)&&(this._element=t,_.set(this._element,this.constructor.DATA_KEY,this))}dispose(){_.remove(this._element,this.constructor.DATA_KEY),this._element=null}static getInstance(t){return _.get(t,this.DATA_KEY)}static get VERSION(){return"5.0.0-beta3"}}class I extends j{static get DATA_KEY(){return"bs.alert"}close(t){const e=t?this._getRootElement(t):this._element,n=this._triggerCloseEvent(e);null===n||n.defaultPrevented||this._removeElement(e)}_getRootElement(t){return o(t)||t.closest(".alert")}_triggerCloseEvent(t){return P.trigger(t,"close.bs.alert")}_removeElement(t){if(t.classList.remove("show"),!t.classList.contains("fade"))return void this._destroyElement(t);const e=s(t);P.one(t,"transitionend",()=>this._destroyElement(t)),u(t,e)}_destroyElement(t){t.parentNode&&t.parentNode.removeChild(t),P.trigger(t,"closed.bs.alert")}static jQueryInterface(t){return this.each(function(){let e=_.get(this,"bs.alert");e||(e=new I(this)),"close"===t&&e[t](this)})}static handleDismiss(t){return function(e){e&&e.preventDefault(),t.close(this)}}}P.on(document,"click.bs.alert.data-api",'[data-bs-dismiss="alert"]',I.handleDismiss(new I)),y("alert",I);class R extends j{static get DATA_KEY(){return"bs.button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){let e=_.get(this,"bs.button");e||(e=new R(this)),"toggle"===t&&e[t]()})}}function q(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function B(t){return t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}P.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',t=>{t.preventDefault();const e=t.target.closest('[data-bs-toggle="button"]');let n=_.get(e,"bs.button");n||(n=new R(e)),n.toggle()}),y("button",R);const F={setDataAttribute(t,e,n){t.setAttribute("data-bs-"+B(e),n)},removeDataAttribute(t,e){t.removeAttribute("data-bs-"+B(e))},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter(t=>t.startsWith("bs")).forEach(n=>{let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=q(t.dataset[n])}),e},getDataAttribute:(t,e)=>q(t.getAttribute("data-bs-"+B(e))),offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:t=>({top:t.offsetTop,left:t.offsetLeft})},z={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const n=[];let i=t.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)i.matches(e)&&n.push(i),i=i.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]}},H={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},U={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},W="next",V="prev",Y="left",X="right";class K extends j{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=z.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return H}static get DATA_KEY(){return"bs.carousel"}next(){this._isSliding||this._slide(W)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._isSliding||this._slide(V)}pause(t){t||(this._isPaused=!0),z.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(a(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=z.findOne(".active.carousel-item",this._element);const e=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0)){if(!this._isSliding)return e===t?(this.pause(),void this.cycle()):void this._slide(t>e?W:V,this._items[t]);P.one(this._element,"slid.bs.carousel",()=>this.to(t))}}dispose(){P.off(this._element,".bs.carousel"),this._items=null,this._config=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null,super.dispose()}_getConfig(t){return t={...H,...t},c("carousel",t,U),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?X:Y)}_addEventListeners(){this._config.keyboard&&P.on(this._element,"keydown.bs.carousel",t=>this._keydown(t)),"hover"===this._config.pause&&(P.on(this._element,"mouseenter.bs.carousel",t=>this.pause(t)),P.on(this._element,"mouseleave.bs.carousel",t=>this.cycle(t))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>{!this._pointerEvent||"pen"!==t.pointerType&&"touch"!==t.pointerType?this._pointerEvent||(this.touchStartX=t.touches[0].clientX):this.touchStartX=t.clientX},e=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},n=t=>{!this._pointerEvent||"pen"!==t.pointerType&&"touch"!==t.pointerType||(this.touchDeltaX=t.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(t=>this.cycle(t),500+this._config.interval))};z.find(".carousel-item img",this._element).forEach(t=>{P.on(t,"dragstart.bs.carousel",t=>t.preventDefault())}),this._pointerEvent?(P.on(this._element,"pointerdown.bs.carousel",e=>t(e)),P.on(this._element,"pointerup.bs.carousel",t=>n(t)),this._element.classList.add("pointer-event")):(P.on(this._element,"touchstart.bs.carousel",e=>t(e)),P.on(this._element,"touchmove.bs.carousel",t=>e(t)),P.on(this._element,"touchend.bs.carousel",t=>n(t)))}_keydown(t){/input|textarea/i.test(t.target.tagName)||("ArrowLeft"===t.key?(t.preventDefault(),this._slide(Y)):"ArrowRight"===t.key&&(t.preventDefault(),this._slide(X)))}_getItemIndex(t){return this._items=t&&t.parentNode?z.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const n=t===W,i=t===V,r=this._getItemIndex(e);if((i&&0===r||n&&r===this._items.length-1)&&!this._config.wrap)return e;const o=(r+(i?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]}_triggerSlideEvent(t,e){const n=this._getItemIndex(t),i=this._getItemIndex(z.findOne(".active.carousel-item",this._element));return P.trigger(this._element,"slide.bs.carousel",{relatedTarget:t,direction:e,from:i,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=z.findOne(".active",this._indicatorsElement);e.classList.remove("active"),e.removeAttribute("aria-current");const n=z.find("[data-bs-target]",this._indicatorsElement);for(let i=0;i<n.length;i++)if(Number.parseInt(n[i].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[i].classList.add("active"),n[i].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||z.findOne(".active.carousel-item",this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const n=this._directionToOrder(t),i=z.findOne(".active.carousel-item",this._element),r=this._getItemIndex(i),o=e||this._getItemByOrder(n,i),a=this._getItemIndex(o),l=Boolean(this._interval),c=n===W,h=c?"carousel-item-start":"carousel-item-end",f=c?"carousel-item-next":"carousel-item-prev",d=this._orderToDirection(n);if(o&&o.classList.contains("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(o,d).defaultPrevented&&i&&o){if(this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o,this._element.classList.contains("slide")){o.classList.add(f),g(o),i.classList.add(h),o.classList.add(h);const t=s(i);P.one(i,"transitionend",()=>{o.classList.remove(h,f),o.classList.add("active"),i.classList.remove("active",f,h),this._isSliding=!1,setTimeout(()=>{P.trigger(this._element,"slid.bs.carousel",{relatedTarget:o,direction:d,from:r,to:a})},0)}),u(i,t)}else i.classList.remove("active"),o.classList.add("active"),this._isSliding=!1,P.trigger(this._element,"slid.bs.carousel",{relatedTarget:o,direction:d,from:r,to:a});l&&this.cycle()}}_directionToOrder(t){return[X,Y].includes(t)?b()?t===X?V:W:t===X?W:V:t}_orderToDirection(t){return[W,V].includes(t)?b()?t===W?Y:X:t===W?X:Y:t}static carouselInterface(t,e){let n=_.get(t,"bs.carousel"),i={...H,...F.getDataAttributes(t)};"object"==typeof e&&(i={...i,...e});const r="string"==typeof e?e:i.slide;if(n||(n=new K(t,i)),"number"==typeof e)n.to(e);else if("string"==typeof r){if(void 0===n[r])throw new TypeError(`No method named "${r}"`);n[r]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each(function(){K.carouselInterface(this,t)})}static dataApiClickHandler(t){const e=o(this);if(!e||!e.classList.contains("carousel"))return;const n={...F.getDataAttributes(e),...F.getDataAttributes(this)},i=this.getAttribute("data-bs-slide-to");i&&(n.interval=!1),K.carouselInterface(e,n),i&&_.get(e,"bs.carousel").to(i),t.preventDefault()}}P.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",K.dataApiClickHandler),P.on(window,"load.bs.carousel.data-api",()=>{const t=z.find('[data-bs-ride="carousel"]');for(let e=0,n=t.length;e<n;e++)K.carouselInterface(t[e],_.get(t[e],"bs.carousel"))}),y("carousel",K);const G={toggle:!0,parent:""},$={toggle:"boolean",parent:"(string|element)"};class Z extends j{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=z.find(`[data-bs-toggle="collapse"][href="#${this._element.id}"],[data-bs-toggle="collapse"][data-bs-target="#${this._element.id}"]`);const n=z.find('[data-bs-toggle="collapse"]');for(let i=0,o=n.length;i<o;i++){const t=n[i],e=r(t),o=z.find(e).filter(t=>t===this._element);null!==e&&o.length&&(this._selector=e,this._triggerArray.push(t))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}static get Default(){return G}static get DATA_KEY(){return"bs.collapse"}toggle(){this._element.classList.contains("show")?this.hide():this.show()}show(){if(this._isTransitioning||this._element.classList.contains("show"))return;let t,e;this._parent&&(t=z.find(".show, .collapsing",this._parent).filter(t=>"string"==typeof this._config.parent?t.getAttribute("data-bs-parent")===this._config.parent:t.classList.contains("collapse")),0===t.length&&(t=null));const n=z.findOne(this._selector);if(t){const i=t.find(t=>n!==t);if(e=i?_.get(i,"bs.collapse"):null,e&&e._isTransitioning)return}if(P.trigger(this._element,"show.bs.collapse").defaultPrevented)return;t&&t.forEach(t=>{n!==t&&Z.collapseInterface(t,"hide"),e||_.set(t,"bs.collapse",null)});const i=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[i]=0,this._triggerArray.length&&this._triggerArray.forEach(t=>{t.classList.remove("collapsed"),t.setAttribute("aria-expanded",!0)}),this.setTransitioning(!0);const r="scroll"+(i[0].toUpperCase()+i.slice(1)),o=s(this._element);P.one(this._element,"transitionend",()=>{this._element.classList.remove("collapsing"),this._element.classList.add("collapse","show"),this._element.style[i]="",this.setTransitioning(!1),P.trigger(this._element,"shown.bs.collapse")}),u(this._element,o),this._element.style[i]=this._element[r]+"px"}hide(){if(this._isTransitioning||!this._element.classList.contains("show"))return;if(P.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const t=this._getDimension();this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",g(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");const e=this._triggerArray.length;if(e>0)for(let i=0;i<e;i++){const t=this._triggerArray[i],e=o(t);e&&!e.classList.contains("show")&&(t.classList.add("collapsed"),t.setAttribute("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[t]="";const n=s(this._element);P.one(this._element,"transitionend",()=>{this.setTransitioning(!1),this._element.classList.remove("collapsing"),this._element.classList.add("collapse"),P.trigger(this._element,"hidden.bs.collapse")}),u(this._element,n)}setTransitioning(t){this._isTransitioning=t}dispose(){super.dispose(),this._config=null,this._parent=null,this._triggerArray=null,this._isTransitioning=null}_getConfig(t){return(t={...G,...t}).toggle=Boolean(t.toggle),c("collapse",t,$),t}_getDimension(){return this._element.classList.contains("width")?"width":"height"}_getParent(){let{parent:t}=this._config;return l(t)?void 0===t.jquery&&void 0===t[0]||(t=t[0]):t=z.findOne(t),z.find(`[data-bs-toggle="collapse"][data-bs-parent="${t}"]`,t).forEach(t=>{const e=o(t);this._addAriaAndCollapsedClass(e,[t])}),t}_addAriaAndCollapsedClass(t,e){if(!t||!e.length)return;const n=t.classList.contains("show");e.forEach(t=>{n?t.classList.remove("collapsed"):t.classList.add("collapsed"),t.setAttribute("aria-expanded",n)})}static collapseInterface(t,e){let n=_.get(t,"bs.collapse");const i={...G,...F.getDataAttributes(t),..."object"==typeof e&&e?e:{}};if(!n&&i.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(i.toggle=!1),n||(n=new Z(t,i)),"string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}static jQueryInterface(t){return this.each(function(){Z.collapseInterface(this,t)})}}P.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=F.getDataAttributes(this),n=r(this);z.find(n).forEach(t=>{const n=_.get(t,"bs.collapse");let i;n?(null===n._parent&&"string"==typeof e.parent&&(n._config.parent=e.parent,n._parent=n._getParent()),i="toggle"):i=e,Z.collapseInterface(t,i)})}),y("collapse",Z);const J=new RegExp("ArrowUp|ArrowDown|Escape"),Q=b()?"top-end":"top-start",tt=b()?"top-start":"top-end",et=b()?"bottom-end":"bottom-start",nt=b()?"bottom-start":"bottom-end",it=b()?"left-start":"right-start",rt=b()?"right-start":"left-start",ot={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null},st={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)"};class at extends j{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}static get Default(){return ot}static get DefaultType(){return st}static get DATA_KEY(){return"bs.dropdown"}toggle(){if(this._element.disabled||this._element.classList.contains("disabled"))return;const t=this._element.classList.contains("show");at.clearMenus(),t||this.show()}show(){if(this._element.disabled||this._element.classList.contains("disabled")||this._menu.classList.contains("show"))return;const t=at.getParentFromElement(this._element),n={relatedTarget:this._element};if(!P.trigger(this._element,"show.bs.dropdown",n).defaultPrevented){if(this._inNavbar)F.setDataAttribute(this._menu,"popper","none");else{if(void 0===e)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let n=this._element;"parent"===this._config.reference?n=t:l(this._config.reference)?(n=this._config.reference,void 0!==this._config.reference.jquery&&(n=this._config.reference[0])):"object"==typeof this._config.reference&&(n=this._config.reference);const i=this._getPopperConfig(),r=i.modifiers.find(t=>"applyStyles"===t.name&&!1===t.enabled);this._popper=e.createPopper(n,this._menu,i),r&&F.setDataAttribute(this._menu,"popper","static")}"ontouchstart"in document.documentElement&&!t.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(t=>P.on(t,"mouseover",null,function(){})),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),P.trigger(this._element,"shown.bs.dropdown",n)}}hide(){if(this._element.disabled||this._element.classList.contains("disabled")||!this._menu.classList.contains("show"))return;const t={relatedTarget:this._element};P.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented||(this._popper&&this._popper.destroy(),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),F.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,"hidden.bs.dropdown",t))}dispose(){P.off(this._element,".bs.dropdown"),this._menu=null,this._popper&&(this._popper.destroy(),this._popper=null),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_addEventListeners(){P.on(this._element,"click.bs.dropdown",t=>{t.preventDefault(),this.toggle()})}_getConfig(t){if(t={...this.constructor.Default,...F.getDataAttributes(this._element),...t},c("dropdown",t,this.constructor.DefaultType),"object"==typeof t.reference&&!l(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError("dropdown".toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return t}_getMenuElement(){return z.next(this._element,".dropdown-menu")[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return it;if(t.classList.contains("dropstart"))return rt;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?tt:Q:e?nt:et}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}static dropdownInterface(t,e){let n=_.get(t,"bs.dropdown");if(n||(n=new at(t,"object"==typeof e?e:null)),"string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}static jQueryInterface(t){return this.each(function(){at.dropdownInterface(this,t)})}static clearMenus(t){if(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;if(/input|select|textarea|form/i.test(t.target.tagName))return}const e=z.find('[data-bs-toggle="dropdown"]');for(let n=0,i=e.length;n<i;n++){const i=_.get(e[n],"bs.dropdown"),r={relatedTarget:e[n]};if(t&&"click"===t.type&&(r.clickEvent=t),!i)continue;const o=i._menu;if(e[n].classList.contains("show")){if(t){if([i._element].some(e=>t.composedPath().includes(e)))continue;if("keyup"===t.type&&"Tab"===t.key&&o.contains(t.target))continue}P.trigger(e[n],"hide.bs.dropdown",r).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(t=>P.off(t,"mouseover",null,function(){})),e[n].setAttribute("aria-expanded","false"),i._popper&&i._popper.destroy(),o.classList.remove("show"),e[n].classList.remove("show"),F.removeDataAttribute(o,"popper"),P.trigger(e[n],"hidden.bs.dropdown",r))}}}static getParentFromElement(t){return o(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?"Space"===t.key||"Escape"!==t.key&&("ArrowDown"!==t.key&&"ArrowUp"!==t.key||t.target.closest(".dropdown-menu")):!J.test(t.key))return;if(t.preventDefault(),t.stopPropagation(),this.disabled||this.classList.contains("disabled"))return;const e=at.getParentFromElement(this),n=this.classList.contains("show");if("Escape"===t.key)return(this.matches('[data-bs-toggle="dropdown"]')?this:z.prev(this,'[data-bs-toggle="dropdown"]')[0]).focus(),void at.clearMenus();if(!n&&("ArrowUp"===t.key||"ArrowDown"===t.key))return void(this.matches('[data-bs-toggle="dropdown"]')?this:z.prev(this,'[data-bs-toggle="dropdown"]')[0]).click();if(!n||"Space"===t.key)return void at.clearMenus();const i=z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",e).filter(h);if(!i.length)return;let r=i.indexOf(t.target);"ArrowUp"===t.key&&r>0&&r--,"ArrowDown"===t.key&&r<i.length-1&&r++,r=-1===r?0:r,i[r].focus()}}P.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',at.dataApiKeydownHandler),P.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",at.dataApiKeydownHandler),P.on(document,"click.bs.dropdown.data-api",at.clearMenus),P.on(document,"keyup.bs.dropdown.data-api",at.clearMenus),P.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',function(t){t.preventDefault(),at.dropdownInterface(this)}),y("dropdown",at);const lt={backdrop:!0,keyboard:!0,focus:!0},ut={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"};class ct extends j{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=z.findOne(".modal-dialog",this._element),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}static get Default(){return lt}static get DATA_KEY(){return"bs.modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;this._isAnimated()&&(this._isTransitioning=!0);const e=P.trigger(this._element,"show.bs.modal",{relatedTarget:t});this._isShown||e.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),P.on(this._element,"click.dismiss.bs.modal",'[data-bs-dismiss="modal"]',t=>this.hide(t)),P.on(this._dialog,"mousedown.dismiss.bs.modal",()=>{P.one(this._element,"mouseup.dismiss.bs.modal",t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}hide(t){if(t&&t.preventDefault(),!this._isShown||this._isTransitioning)return;if(P.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();if(e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),P.off(document,"focusin.bs.modal"),this._element.classList.remove("show"),P.off(this._element,"click.dismiss.bs.modal"),P.off(this._dialog,"mousedown.dismiss.bs.modal"),e){const t=s(this._element);P.one(this._element,"transitionend",t=>this._hideModal(t)),u(this._element,t)}else this._hideModal()}dispose(){[window,this._element,this._dialog].forEach(t=>P.off(t,".bs.modal")),super.dispose(),P.off(document,"focusin.bs.modal"),this._config=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null}handleUpdate(){this._adjustDialog()}_getConfig(t){return t={...lt,...t},c("modal",t,ut),t}_showElement(t){const e=this._isAnimated(),n=z.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),e&&g(this._element),this._element.classList.add("show"),this._config.focus&&this._enforceFocus();const i=()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,P.trigger(this._element,"shown.bs.modal",{relatedTarget:t})};if(e){const t=s(this._dialog);P.one(this._dialog,"transitionend",i),u(this._dialog,t)}else i()}_enforceFocus(){P.off(document,"focusin.bs.modal"),P.on(document,"focusin.bs.modal",t=>{document===t.target||this._element===t.target||this._element.contains(t.target)||this._element.focus()})}_setEscapeEvent(){this._isShown?P.on(this._element,"keydown.dismiss.bs.modal",t=>{this._config.keyboard&&"Escape"===t.key?(t.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==t.key||this._triggerBackdropTransition()}):P.off(this._element,"keydown.dismiss.bs.modal")}_setResizeEvent(){this._isShown?P.on(window,"resize.bs.modal",()=>this._adjustDialog()):P.off(window,"resize.bs.modal")}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(()=>{document.body.classList.remove("modal-open"),this._resetAdjustments(),this._resetScrollbar(),P.trigger(this._element,"hidden.bs.modal")})}_removeBackdrop(){this._backdrop.parentNode.removeChild(this._backdrop),this._backdrop=null}_showBackdrop(t){const e=this._isAnimated();if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",e&&this._backdrop.classList.add("fade"),document.body.appendChild(this._backdrop),P.on(this._element,"click.dismiss.bs.modal",t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===this._config.backdrop?this._triggerBackdropTransition():this.hide())}),e&&g(this._backdrop),this._backdrop.classList.add("show"),!e)return void t();const n=s(this._backdrop);P.one(this._backdrop,"transitionend",t),u(this._backdrop,n)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove("show");const n=()=>{this._removeBackdrop(),t()};if(e){const t=s(this._backdrop);P.one(this._backdrop,"transitionend",n),u(this._backdrop,t)}else n()}else t()}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(P.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight;t||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");const e=s(this._dialog);P.off(this._element,"transitionend"),P.one(this._element,"transitionend",()=>{this._element.classList.remove("modal-static"),t||(P.one(this._element,"transitionend",()=>{this._element.style.overflowY=""}),u(this._element,e))}),u(this._element,e),this._element.focus()}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight;(!this._isBodyOverflowing&&t&&!b()||this._isBodyOverflowing&&!t&&b())&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),(this._isBodyOverflowing&&!t&&!b()||!this._isBodyOverflowing&&t&&b())&&(this._element.style.paddingRight=this._scrollbarWidth+"px")}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}_checkScrollbar(){const t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}_setScrollbar(){this._isBodyOverflowing&&(this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight",t=>t+this._scrollbarWidth),this._setElementAttributes(".sticky-top","marginRight",t=>t-this._scrollbarWidth),this._setElementAttributes("body","paddingRight",t=>t+this._scrollbarWidth)),document.body.classList.add("modal-open")}_setElementAttributes(t,e,n){z.find(t).forEach(t=>{if(t!==document.body&&window.innerWidth>t.clientWidth+this._scrollbarWidth)return;const i=t.style[e],r=window.getComputedStyle(t)[e];F.setDataAttribute(t,e,i),t.style[e]=n(Number.parseFloat(r))+"px"})}_resetScrollbar(){this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight"),this._resetElementAttributes(".sticky-top","marginRight"),this._resetElementAttributes("body","paddingRight")}_resetElementAttributes(t,e){z.find(t).forEach(t=>{const n=F.getDataAttribute(t,e);void 0===n&&t===document.body?t.style[e]="":(F.removeDataAttribute(t,e),t.style[e]=n)})}_getScrollbarWidth(){const t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}static jQueryInterface(t,e){return this.each(function(){let n=_.get(this,"bs.modal");const i={...lt,...F.getDataAttributes(this),..."object"==typeof t&&t?t:{}};if(n||(n=new ct(this,i)),"string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}})}}P.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(t){const e=o(this);"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),P.one(e,"show.bs.modal",t=>{t.defaultPrevented||P.one(e,"hidden.bs.modal",()=>{h(this)&&this.focus()})});let n=_.get(e,"bs.modal");if(!n){const t={...F.getDataAttributes(e),...F.getDataAttributes(this)};n=new ct(e,t)}n.toggle(this)}),y("modal",ct);const ht=()=>{const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)},ft=(t,e,n)=>{const i=ht();z.find(t).forEach(t=>{if(t!==document.body&&window.innerWidth>t.clientWidth+i)return;const r=t.style[e],o=window.getComputedStyle(t)[e];F.setDataAttribute(t,e,r),t.style[e]=n(Number.parseFloat(o))+"px"})},dt=(t,e)=>{z.find(t).forEach(t=>{const n=F.getDataAttribute(t,e);void 0===n&&t===document.body?t.style.removeProperty(e):(F.removeDataAttribute(t,e),t.style[e]=n)})},pt={backdrop:!0,keyboard:!0,scroll:!1},gt={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"};class vt extends j{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._addEventListeners()}static get Default(){return pt}static get DATA_KEY(){return"bs.offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||P.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._config.backdrop&&document.body.classList.add("offcanvas-backdrop"),this._config.scroll||((t=ht())=>{document.body.style.overflow="hidden",ft(".fixed-top, .fixed-bottom, .is-fixed","paddingRight",e=>e+t),ft(".sticky-top","marginRight",e=>e-t),ft("body","paddingRight",e=>e+t)})(),this._element.classList.add("offcanvas-toggling"),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),setTimeout(()=>{this._element.classList.remove("offcanvas-toggling"),P.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t}),this._enforceFocusOnElement(this._element)},s(this._element)))}hide(){this._isShown&&(P.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._element.classList.add("offcanvas-toggling"),P.off(document,"focusin.bs.offcanvas"),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),setTimeout(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.backdrop&&document.body.classList.remove("offcanvas-backdrop"),this._config.scroll||(document.body.style.overflow="auto",dt(".fixed-top, .fixed-bottom, .is-fixed","paddingRight"),dt(".sticky-top","marginRight"),dt("body","paddingRight")),P.trigger(this._element,"hidden.bs.offcanvas"),this._element.classList.remove("offcanvas-toggling")},s(this._element))))}_getConfig(t){return t={...pt,...F.getDataAttributes(this._element),..."object"==typeof t?t:{}},c("offcanvas",t,gt),t}_enforceFocusOnElement(t){P.off(document,"focusin.bs.offcanvas"),P.on(document,"focusin.bs.offcanvas",e=>{document===e.target||t===e.target||t.contains(e.target)||t.focus()}),t.focus()}_addEventListeners(){P.on(this._element,"click.dismiss.bs.offcanvas",'[data-bs-dismiss="offcanvas"]',()=>this.hide()),P.on(document,"keydown",t=>{this._config.keyboard&&"Escape"===t.key&&this.hide()}),P.on(document,"click.bs.offcanvas.data-api",t=>{const e=z.findOne(r(t.target));this._element.contains(t.target)||e===this._element||this.hide()})}static jQueryInterface(t){return this.each(function(){const e=_.get(this,"bs.offcanvas")||new vt(this,"object"==typeof t?t:{});if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}P.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(t){const e=o(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),f(this))return;P.one(e,"hidden.bs.offcanvas",()=>{h(this)&&this.focus()});const n=z.findOne(".offcanvas.show, .offcanvas-toggling");n&&n!==e||(_.get(e,"bs.offcanvas")||new vt(e)).toggle(this)}),P.on(window,"load.bs.offcanvas.data-api",()=>{z.find(".offcanvas.show").forEach(t=>(_.get(t,"bs.offcanvas")||new vt(t)).show())}),y("offcanvas",vt);const bt=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),yt=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/i,mt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,_t=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return!bt.has(n)||Boolean(yt.test(t.nodeValue)||mt.test(t.nodeValue));const i=e.filter(t=>t instanceof RegExp);for(let r=0,o=i.length;r<o;r++)if(i[r].test(n))return!0;return!1};function xt(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),r=Object.keys(e),o=[].concat(...i.body.querySelectorAll("*"));for(let s=0,a=o.length;s<a;s++){const t=o[s],n=t.nodeName.toLowerCase();if(!r.includes(n)){t.parentNode.removeChild(t);continue}const i=[].concat(...t.attributes),a=[].concat(e["*"]||[],e[n]||[]);i.forEach(e=>{_t(e,a)||t.removeAttribute(e.nodeName)})}return i.body.innerHTML}const wt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),kt=new Set(["sanitize","allowList","sanitizeFn"]),Et={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},St={AUTO:"auto",TOP:"top",RIGHT:b()?"left":"right",BOTTOM:"bottom",LEFT:b()?"right":"left"},At={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Tt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"};class Mt extends j{constructor(t,n){if(void 0===e)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.config=this._getConfig(n),this.tip=null,this._setListeners()}static get Default(){return At}static get NAME(){return"tooltip"}static get DATA_KEY(){return"bs.tooltip"}static get Event(){return Tt}static get EVENT_KEY(){return".bs.tooltip"}static get DefaultType(){return Et}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains("show"))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),P.off(this._element,this.constructor.EVENT_KEY),P.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.parentNode&&this.tip.parentNode.removeChild(this.tip),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.config=null,this.tip=null,super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=P.trigger(this._element,this.constructor.Event.SHOW),i=d(this._element),r=null===i?this._element.ownerDocument.documentElement.contains(this._element):i.contains(this._element);if(t.defaultPrevented||!r)return;const o=this.getTipElement(),a=n(this.constructor.NAME);o.setAttribute("id",a),this._element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&o.classList.add("fade");const l="function"==typeof this.config.placement?this.config.placement.call(this,o,this._element):this.config.placement,c=this._getAttachment(l);this._addAttachmentClass(c);const h=this._getContainer();_.set(o,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(h.appendChild(o),P.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=e.createPopper(this._element,o,this._getPopperConfig(c)),o.classList.add("show");const f="function"==typeof this.config.customClass?this.config.customClass():this.config.customClass;f&&o.classList.add(...f.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(t=>{P.on(t,"mouseover",function(){})});const p=()=>{const t=this._hoverState;this._hoverState=null,P.trigger(this._element,this.constructor.Event.SHOWN),"out"===t&&this._leave(null,this)};if(this.tip.classList.contains("fade")){const t=s(this.tip);P.one(this.tip,"transitionend",p),u(this.tip,t)}else p()}hide(){if(!this._popper)return;const t=this.getTipElement(),e=()=>{this._isWithActiveTrigger()||("show"!==this._hoverState&&t.parentNode&&t.parentNode.removeChild(t),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.Event.HIDDEN),this._popper&&(this._popper.destroy(),this._popper=null))};if(!P.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){if(t.classList.remove("show"),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(t=>P.off(t,"mouseover",p)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this.tip.classList.contains("fade")){const n=s(t);P.one(t,"transitionend",e),u(t,n)}else e();this._hoverState=""}}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");return t.innerHTML=this.config.template,this.tip=t.children[0],this.tip}setContent(){const t=this.getTipElement();this.setElementContent(z.findOne(".tooltip-inner",t),this.getTitle()),t.classList.remove("fade","show")}setElementContent(t,e){if(null!==t)return"object"==typeof e&&l(e)?(e.jquery&&(e=e[0]),void(this.config.html?e.parentNode!==t&&(t.innerHTML="",t.appendChild(e)):t.textContent=e.textContent)):void(this.config.html?(this.config.sanitize&&(e=xt(e,this.config.allowList,this.config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){let t=this._element.getAttribute("data-bs-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this._element):this.config.title),t}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){const n=this.constructor.DATA_KEY;return(e=e||_.get(t.delegateTarget,n))||(e=new this.constructor(t.delegateTarget,this._getDelegateConfig()),_.set(t.delegateTarget,n,e)),e}_getOffset(){const{offset:t}=this.config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{altBoundary:!0,fallbackPlacements:this.config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this.config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"==typeof this.config.popperConfig?this.config.popperConfig(e):this.config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add("bs-tooltip-"+this.updateAttachment(t))}_getContainer(){return!1===this.config.container?document.body:l(this.config.container)?this.config.container:z.findOne(this.config.container)}_getAttachment(t){return St[t.toUpperCase()]}_setListeners(){this.config.trigger.split(" ").forEach(t=>{if("click"===t)P.on(this._element,this.constructor.Event.CLICK,this.config.selector,t=>this.toggle(t));else if("manual"!==t){const e="hover"===t?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;P.on(this._element,"hover"===t?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this.config.selector,t=>this._enter(t)),P.on(this._element,e,this.config.selector,t=>this._leave(t))}}),this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config={...this.config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e.getTipElement().classList.contains("show")||"show"===e._hoverState?e._hoverState="show":(clearTimeout(e._timeout),e._hoverState="show",e.config.delay&&e.config.delay.show?e._timeout=setTimeout(()=>{"show"===e._hoverState&&e.show()},e.config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?"focus":"hover"]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(()=>{"out"===e._hoverState&&e.hide()},e.config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=F.getDataAttributes(this._element);return Object.keys(e).forEach(t=>{kt.has(t)&&delete e[t]}),t&&"object"==typeof t.container&&t.container.jquery&&(t.container=t.container[0]),"number"==typeof(t={...this.constructor.Default,...e,..."object"==typeof t&&t?t:{}}).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),c("tooltip",t,this.constructor.DefaultType),t.sanitize&&(t.template=xt(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};if(this.config)for(const e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=t.getAttribute("class").match(wt);null!==e&&e.length>0&&e.map(t=>t.trim()).forEach(e=>t.classList.remove(e))}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}static jQueryInterface(t){return this.each(function(){let e=_.get(this,"bs.tooltip");const n="object"==typeof t&&t;if((e||!/dispose|hide/.test(t))&&(e||(e=new Mt(this,n)),"string"==typeof t)){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}y("tooltip",Mt);const Ot=new RegExp("(^|\\s)bs-popover\\S+","g"),Ct={...Mt.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Nt={...Mt.DefaultType,content:"(string|element|function)"},Lt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class Dt extends Mt{static get Default(){return Ct}static get NAME(){return"popover"}static get DATA_KEY(){return"bs.popover"}static get Event(){return Lt}static get EVENT_KEY(){return".bs.popover"}static get DefaultType(){return Nt}isWithContent(){return this.getTitle()||this._getContent()}setContent(){const t=this.getTipElement();this.setElementContent(z.findOne(".popover-header",t),this.getTitle());let e=this._getContent();"function"==typeof e&&(e=e.call(this._element)),this.setElementContent(z.findOne(".popover-body",t),e),t.classList.remove("fade","show")}_addAttachmentClass(t){this.getTipElement().classList.add("bs-popover-"+this.updateAttachment(t))}_getContent(){return this._element.getAttribute("data-bs-content")||this.config.content}_cleanTipClass(){const t=this.getTipElement(),e=t.getAttribute("class").match(Ot);null!==e&&e.length>0&&e.map(t=>t.trim()).forEach(e=>t.classList.remove(e))}static jQueryInterface(t){return this.each(function(){let e=_.get(this,"bs.popover");const n="object"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new Dt(this,n),_.set(this,"bs.popover",e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}y("popover",Dt);const Pt={offset:10,method:"auto",target:""},jt={offset:"number",method:"string",target:"(string|element)"};class It extends j{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._selector=`${this._config.target} .nav-link, ${this._config.target} .list-group-item, ${this._config.target} .dropdown-item`,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,P.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return Pt}static get DATA_KEY(){return"bs.scrollspy"}refresh(){const t="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":"position":this._config.method,e="position"===t?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),z.find(this._selector).map(n=>{const i=r(n),o=i?z.findOne(i):null;if(o){const n=o.getBoundingClientRect();if(n.width||n.height)return[F[t](o).top+e,i]}return null}).filter(t=>t).sort((t,e)=>t[0]-e[0]).forEach(t=>{this._offsets.push(t[0]),this._targets.push(t[1])})}dispose(){super.dispose(),P.off(this._scrollElement,".bs.scrollspy"),this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null}_getConfig(t){if("string"!=typeof(t={...Pt,..."object"==typeof t&&t?t:{}}).target&&l(t.target)){let{id:e}=t.target;e||(e=n("scrollspy"),t.target.id=e),t.target="#"+e}return c("scrollspy",t,jt),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;)this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&(void 0===this._offsets[e+1]||t<this._offsets[e+1])&&this._activate(this._targets[e])}}_activate(t){this._activeTarget=t,this._clear();const e=this._selector.split(",").map(e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`),n=z.findOne(e.join(","));n.classList.contains("dropdown-item")?(z.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add("active"),n.classList.add("active")):(n.classList.add("active"),z.parents(n,".nav, .list-group").forEach(t=>{z.prev(t,".nav-link, .list-group-item").forEach(t=>t.classList.add("active")),z.prev(t,".nav-item").forEach(t=>{z.children(t,".nav-link").forEach(t=>t.classList.add("active"))})})),P.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:t})}_clear(){z.find(this._selector).filter(t=>t.classList.contains("active")).forEach(t=>t.classList.remove("active"))}static jQueryInterface(t){return this.each(function(){let e=_.get(this,"bs.scrollspy");if(e||(e=new It(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}P.on(window,"load.bs.scrollspy.data-api",()=>{z.find('[data-bs-spy="scroll"]').forEach(t=>new It(t,F.getDataAttributes(t)))}),y("scrollspy",It);class Rt extends j{static get DATA_KEY(){return"bs.tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active")||f(this._element))return;let t;const e=o(this._element),n=this._element.closest(".nav, .list-group");n&&(t=z.find("UL"===n.nodeName||"OL"===n.nodeName?":scope > li > .active":".active",n),t=t[t.length-1]);const i=t?P.trigger(t,"hide.bs.tab",{relatedTarget:this._element}):null;if(P.trigger(this._element,"show.bs.tab",{relatedTarget:t}).defaultPrevented||null!==i&&i.defaultPrevented)return;this._activate(this._element,n);const r=()=>{P.trigger(t,"hidden.bs.tab",{relatedTarget:this._element}),P.trigger(this._element,"shown.bs.tab",{relatedTarget:t})};e?this._activate(e,e.parentNode,r):r()}_activate(t,e,n){const i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?z.children(e,".active"):z.find(":scope > li > .active",e))[0],r=n&&i&&i.classList.contains("fade"),o=()=>this._transitionComplete(t,i,n);if(i&&r){const t=s(i);i.classList.remove("show"),P.one(i,"transitionend",o),u(i,t)}else o()}_transitionComplete(t,e,n){if(e){e.classList.remove("active");const t=z.findOne(":scope > .dropdown-menu .active",e.parentNode);t&&t.classList.remove("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),g(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&t.parentNode.classList.contains("dropdown-menu")&&(t.closest(".dropdown")&&z.find(".dropdown-toggle").forEach(t=>t.classList.add("active")),t.setAttribute("aria-expanded",!0)),n&&n()}static jQueryInterface(t){return this.each(function(){const e=_.get(this,"bs.tab")||new Rt(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}P.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(t){t.preventDefault(),(_.get(this,"bs.tab")||new Rt(this)).show()}),y("tab",Rt);const qt={animation:"boolean",autohide:"boolean",delay:"number"},Bt={animation:!0,autohide:!0,delay:5e3};class Ft extends j{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._setListeners()}static get DefaultType(){return qt}static get Default(){return Bt}static get DATA_KEY(){return"bs.toast"}show(){if(P.trigger(this._element,"show.bs.toast").defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");const t=()=>{this._element.classList.remove("showing"),this._element.classList.add("show"),P.trigger(this._element,"shown.bs.toast"),this._config.autohide&&(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))};if(this._element.classList.remove("hide"),g(this._element),this._element.classList.add("showing"),this._config.animation){const e=s(this._element);P.one(this._element,"transitionend",t),u(this._element,e)}else t()}hide(){if(!this._element.classList.contains("show"))return;if(P.trigger(this._element,"hide.bs.toast").defaultPrevented)return;const t=()=>{this._element.classList.add("hide"),P.trigger(this._element,"hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){const e=s(this._element);P.one(this._element,"transitionend",t),u(this._element,e)}else t()}dispose(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),P.off(this._element,"click.dismiss.bs.toast"),super.dispose(),this._config=null}_getConfig(t){return t={...Bt,...F.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}},c("toast",t,this.constructor.DefaultType),t}_setListeners(){P.on(this._element,"click.dismiss.bs.toast",'[data-bs-dismiss="toast"]',()=>this.hide())}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let e=_.get(this,"bs.toast");if(e||(e=new Ft(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}return y("toast",Ft),{Alert:I,Button:R,Carousel:K,Collapse:Z,Dropdown:at,Modal:ct,Offcanvas:vt,Popover:Dt,ScrollSpy:It,Tab:Rt,Toast:Ft,Tooltip:Mt}}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AOS=e():t.AOS=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="dist/",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=(i(n(1)),n(6)),s=i(o),a=i(n(7)),l=i(n(8)),u=i(n(9)),c=i(n(10)),h=i(n(11)),f=i(n(14)),d=[],p=!1,g={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},v=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t&&(p=!0),p)return d=(0,h.default)(d,g),(0,c.default)(d,g.once),d},b=function(){d=(0,f.default)(),v()};t.exports={init:function(t){g=r(g,t),d=(0,f.default)();var e=document.all&&!window.atob;return function(t){return!0===t||"mobile"===t&&u.default.mobile()||"phone"===t&&u.default.phone()||"tablet"===t&&u.default.tablet()||"function"==typeof t&&!0===t()}(g.disable)||e?void d.forEach(function(t,e){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay")}):(g.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),g.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",g.easing),document.querySelector("body").setAttribute("data-aos-duration",g.duration),document.querySelector("body").setAttribute("data-aos-delay",g.delay),"DOMContentLoaded"===g.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?v(!0):"load"===g.startEvent?window.addEventListener(g.startEvent,function(){v(!0)}):document.addEventListener(g.startEvent,function(){v(!0)}),window.addEventListener("resize",(0,a.default)(v,g.debounceDelay,!0)),window.addEventListener("orientationchange",(0,a.default)(v,g.debounceDelay,!0)),window.addEventListener("scroll",(0,s.default)(function(){(0,c.default)(d,g.once)},g.throttleDelay)),g.disableMutationObserver||l.default.ready("[data-aos]",b),d)},refresh:v,refreshHard:b}},function(t,e){},,,,,function(t,e){(function(e){"use strict";function n(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function i(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":r(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&v.call(t)==a}(t))return s;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var i=c.test(t);return i||h.test(t)?f(t.slice(2),i?2:8):u.test(t)?s:+t}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o="Expected a function",s=NaN,a="[object Symbol]",l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,h=/^0o[0-7]+$/i,f=parseInt,d="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e,p="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,g=d||p||Function("return this")(),v=Object.prototype.toString,b=Math.max,y=Math.min,m=function(){return g.Date.now()};t.exports=function(t,e,r){var s=!0,a=!0;if("function"!=typeof t)throw new TypeError(o);return n(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),function(t,e,r){function s(e){var n=f,i=d;return f=d=void 0,x=e,g=t.apply(i,n)}function a(t){return x=t,v=setTimeout(u,e),w?s(t):g}function l(t){var n=t-_;return void 0===_||n>=e||n<0||k&&t-x>=p}function u(){var t=m();return l(t)?c(t):void(v=setTimeout(u,function(t){var n=e-(t-_);return k?y(n,p-(t-x)):n}(t)))}function c(t){return v=void 0,E&&f?s(t):(f=d=void 0,g)}function h(){var t=m(),n=l(t);if(f=arguments,d=this,_=t,n){if(void 0===v)return a(_);if(k)return v=setTimeout(u,e),s(_)}return void 0===v&&(v=setTimeout(u,e)),g}var f,d,p,g,v,_,x=0,w=!1,k=!1,E=!0;if("function"!=typeof t)throw new TypeError(o);return e=i(e)||0,n(r)&&(w=!!r.leading,p=(k="maxWait"in r)?b(i(r.maxWait)||0,e):p,E="trailing"in r?!!r.trailing:E),h.cancel=function(){void 0!==v&&clearTimeout(v),x=0,f=_=d=v=void 0},h.flush=function(){return void 0===v?g:c(m())},h}(t,e,{leading:s,maxWait:e,trailing:a})}}).call(e,function(){return this}())},function(t,e){(function(e){"use strict";function n(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function i(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":r(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&g.call(t)==s}(t))return o;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var i=u.test(t);return i||c.test(t)?h(t.slice(2),i?2:8):l.test(t)?o:+t}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt,f="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e,d="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,p=f||d||Function("return this")(),g=Object.prototype.toString,v=Math.max,b=Math.min,y=function(){return p.Date.now()};t.exports=function(t,e,r){function o(e){var n=h,i=f;return h=f=void 0,_=e,p=t.apply(i,n)}function s(t){return _=t,g=setTimeout(l,e),x?o(t):p}function a(t){var n=t-m;return void 0===m||n>=e||n<0||w&&t-_>=d}function l(){var t=y();return a(t)?u(t):void(g=setTimeout(l,function(t){var n=e-(t-m);return w?b(n,d-(t-_)):n}(t)))}function u(t){return g=void 0,k&&h?o(t):(h=f=void 0,p)}function c(){var t=y(),n=a(t);if(h=arguments,f=this,m=t,n){if(void 0===g)return s(m);if(w)return g=setTimeout(l,e),o(m)}return void 0===g&&(g=setTimeout(l,e)),p}var h,f,d,p,g,m,_=0,x=!1,w=!1,k=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e=i(e)||0,n(r)&&(x=!!r.leading,d=(w="maxWait"in r)?v(i(r.maxWait)||0,e):d,k="trailing"in r?!!r.trailing:k),c.cancel=function(){void 0!==g&&clearTimeout(g),_=0,h=m=f=g=void 0},c.flush=function(){return void 0===g?p:u(y())},c}}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e=void 0,i=void 0;for(e=0;e<t.length;e+=1){if((i=t[e]).dataset&&i.dataset.aos)return!0;if(i.children&&n(i.children))return!0}return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(t){t&&t.forEach(function(t){var e=Array.prototype.slice.call(t.addedNodes),i=Array.prototype.slice.call(t.removedNodes);if(n(e.concat(i)))return o()})}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){};e.default={isSupported:function(){return!!i()},ready:function(t,e){var n=window.document,s=new(i())(r);o=e,s.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(t,e){"use strict";function n(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"phone",value:function(){var t=n();return!(!r.test(t)&&!o.test(t.substr(0,4)))}},{key:"mobile",value:function(){var t=n();return!(!s.test(t)&&!a.test(t.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),t}();e.default=new l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=window.pageYOffset,i=window.innerHeight;t.forEach(function(t,r){!function(t,e,n){var i=t.node.getAttribute("data-aos-once");e>t.position?t.node.classList.add("aos-animate"):void 0!==i&&("false"===i||!n&&"true"!==i)&&t.node.classList.remove("aos-animate")}(t,i+n,e)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(12));e.default=function(t,e){return t.forEach(function(t,n){t.node.classList.add("aos-init"),t.position=(0,i.default)(t.node,e.offset)}),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(13));e.default=function(t,e){var n=0,r=0,o=window.innerHeight,s={offset:t.getAttribute("data-aos-offset"),anchor:t.getAttribute("data-aos-anchor"),anchorPlacement:t.getAttribute("data-aos-anchor-placement")};switch(s.offset&&!isNaN(s.offset)&&(r=parseInt(s.offset)),s.anchor&&document.querySelectorAll(s.anchor)&&(t=document.querySelectorAll(s.anchor)[0]),n=(0,i.default)(t).top,s.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=t.offsetHeight/2;break;case"bottom-bottom":n+=t.offsetHeight;break;case"top-center":n+=o/2;break;case"bottom-center":n+=o/2+t.offsetHeight;break;case"center-center":n+=o/2+t.offsetHeight/2;break;case"top-top":n+=o;break;case"bottom-top":n+=t.offsetHeight+o;break;case"center-top":n+=t.offsetHeight/2+o}return s.anchorPlacement||s.offset||isNaN(e)||(r=e),n+r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-("BODY"!=t.tagName?t.scrollLeft:0),n+=t.offsetTop-("BODY"!=t.tagName?t.scrollTop:0),t=t.offsetParent;return{top:n,left:e}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t=t||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(t,function(t){return{node:t}})}}])}),define.a={},define.b=function(t,e,n){for(var i=[],r=0;r<t.length;r++){var o=define.a[t[r]];if(!o)throw"All the modules must already be 'defined' Async load not supported: use a full-featured AMD loader like requirejs";o.c||define.b(o.e,o.d,t[r]),i.push(o.c)}t=e.apply(null,i),n&&(define.a[n].c=t)},function(){define("IllegalStateException",[],function(){function t(t){this.name="IllegalStateException",this.message=t}return t.prototype={toString:function(){return["[",this.name,this.message,"]"].join("|")}},t}),define("Environment",["IllegalStateException"],function(t){var e="undefined"!=typeof window&&"undefined"!=typeof navigator&&"undefined"!=typeof document,n="undefined"!=typeof importScripts,i="object"==typeof process&&(/node(\.exe)?$/.test(process.execPath)||process.node&&process.v8||process.versions&&process.versions.node&&process.versions.v8);if(e&&!document.getElementById)throw new t("Not supported browser");var r={isBrowserDocument:function(){return e},isBrowser:function(){return!i&&(e||n)},isNodeJS:function(){return!e&&i},isWebWorker:function(){return!e&&!i&&n},Rx:function(){return!e&&!i&&!n},browserDocumentOrDie:function(){if(!this.isBrowserDocument())throw new t("Trying to load a browser-only module on non-browser environment")}};return r.isBrowserDocument=r.isBrowserDocument,r.isBrowser=r.isBrowser,r.isNodeJS=r.isNodeJS,r.isWebWorker=r.isWebWorker,r.browserDocumentOrDie=r.browserDocumentOrDie,r}),define("Helpers",["Environment"],function(t){var e=/^\s*([\s\S]*?)\s*$/,n=RegExp(",","g"),i=RegExp("\\.","g"),r={getTimeStamp:function(){return(new Date).getTime()},randomG:function(t){return Math.round(Math.random()*(t||1e3))},trim:function(t){return t.replace(e,"$1")},getNumber:function(t,e){return t?t.replace?(t=e?(t=t.replace(i,"")).replace(n,"."):t.replace(n,""),new Number(t)):t:0},isArray:function(t){return t&&t.join&&"function"==typeof t.join},addEvent:function(e,n,i){return!!t.isBrowserDocument()&&(void 0!==e.addEventListener?e.addEventListener(n,i,!1):void 0!==e.attachEvent&&e.attachEvent("on"+n,i),!0)},removeEvent:function(e,n,i){return!!t.isBrowserDocument()&&(void 0!==e.removeEventListener?e.removeEventListener(n,i,!1):void 0!==e.detachEvent&&e.detachEvent("on"+n,i),!0)}};return r.getTimeStamp=r.getTimeStamp,r.randomG=r.randomG,r.trim=r.trim,r.getNumber=r.getNumber,r.isArray=r.isArray,r.addEvent=r.addEvent,r.removeEvent=r.removeEvent,r}),define("BrowserDetection",["Environment"],function(t){function e(t){var e=s;return function(){return null===e&&(e=-1<a.indexOf(t)),e}}function n(t){var e=s;return function(){if(null===e){e=!0;for(var n=0;n<t.length;n++)e=e&&t[n]()}return e}}function i(t,e){var n=s,i=s;return function(r,o){return null===n&&(i=(n=t())?e():null),!(!n||r&&i&&!(!0===o?i<=r:!1===o?i>=r:i==r))}}function r(t){var e=s;return function(){if(null===e){var n=t.exec(a);if(n&&2<=n.length)return n[1]}return null}}function o(t){return function(){return!t()}}var s=!!t.isBrowser()&&null,a=t.isBrowser()?navigator.userAgent.toLowerCase():null,l=s;return(t={isProbablyRekonq:e("rekonq"),isProbablyAWebkit:e("webkit"),isProbablyPlaystation:e("playstation 3"),isProbablyChrome:i(e("chrome/"),r(RegExp("chrome/([0-9]+)","g"))),isProbablyAKhtml:function(){return null===l&&(l=document.childNodes&&!document.all&&!navigator.EC&&!navigator.lC),l},isProbablyKonqueror:i(e("konqueror"),r(RegExp("konqueror/([0-9.]+)","g"))),isProbablyIE:function(t,n){return!(!i(e("msie"),r(RegExp("msie\\s([0-9]+)[.;]","g")))(t,n)&&!i(e("rv:11.0"),function(){return"11"})(t,n))},hr:e("edge"),isProbablyFX:i(e("firefox"),r(/firefox\/(\d+\.?\d*)/)),isProbablyOldOpera:i(function(){return"undefined"!=typeof opera},function(){if(opera.version){var t=(t=opera.version()).replace(RegExp("[^0-9.]+","g"),"");return parseInt(t)}return 7})}).isProbablyAndroidBrowser=n([e("android"),t.isProbablyAWebkit,o(t.isProbablyChrome)]),t.isProbablyOperaMobile=n([t.isProbablyOldOpera,e("opera mobi")]),t.isProbablyApple=i(n([e("safari"),function(t){var e=s;return function(){if(null===e){e=!1;for(var n=0;n<t.length;n++)e=e||t[n]()}return e}}([e("ipad"),e("iphone"),e("ipod"),n([o(t.isProbablyAndroidBrowser),o(t.isProbablyChrome),o(t.isProbablyRekonq)])])]),r(/version\/(\d+\.?\d*)/)),t.isProbablyRekonq=t.isProbablyRekonq,t.isProbablyChrome=t.isProbablyChrome,t.isProbablyAWebkit=t.isProbablyAWebkit,t.isProbablyPlaystation=t.isProbablyPlaystation,t.isProbablyAndroidBrowser=t.isProbablyAndroidBrowser,t.isProbablyOperaMobile=t.isProbablyOperaMobile,t.isProbablyApple=t.isProbablyApple,t.isProbablyAKhtml=t.isProbablyAKhtml,t.isProbablyKonqueror=t.isProbablyKonqueror,t.isProbablyIE=t.isProbablyIE,t.isProbablyEdge=t.hr,t.isProbablyFX=t.isProbablyFX,t.isProbablyOldOpera=t.isProbablyOldOpera,t}),define("List",[],function(){function t(){this.data=[]}return(t.prototype={add:function(t){this.data.push(t)},remove:function(t){return!(0>(t=this.find(t))||(this.data.splice(t,1),0))},contains:function(t){return 0<=this.find(t)},find:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e]===t)return e;return-1},forEach:function(t){for(var e=0;e<this.data.length;e++)t(this.data[e])},asArray:function(){return[].concat(this.data)},clean:function(){this.data=[]}}).add=t.prototype.add,t.prototype.remove=t.prototype.remove,t.prototype.forEach=t.prototype.forEach,t.prototype.asArray=t.prototype.asArray,t.prototype.clean=t.prototype.clean,t}),define("EnvironmentStatus",["Helpers","BrowserDetection","Environment","List"],function(t,e,n,i){function r(t,e,n,i,r){return function(){t[e]||(t[n]=!0,i.forEach(function(t){try{t[r]?t[r]():t()}catch(e){}}),"preunloading"!=e&&i.clean(),t[e]=!0,t[n]=!1)}}function o(t,e){setTimeout(function(){t[e]?t[e]():t()},0)}function s(t,e,n,i){setTimeout(function(){n?i?t.apply(n,i):t.apply(n):i?t.apply(null,i):t()},e)}function a(){h=!0}var l=new i,u=new i,c=new i,h=!1,f={uh:"onloadDone",$r:"onloadInprogress",ci:"unloaded",po:"unloading",ks:"preunloading"};for(var d in i={},f)i[f[d]]=d;return(d={uh:!1,$r:!1,ci:!1,po:!1,ks:!1,isLoaded:function(){return this.uh},isUnloaded:function(){return this.ci},isUnloading:function(){return this.po},addOnloadHandler:function(t){this.Tx()?u.add(t):o(t,"onloadEvent")},addUnloadHandler:function(t){this.Ux()?l.add(t):o(t,"unloadEvent")},addBeforeUnloadHandler:function(t){c.add(t),this.ks&&o(t,"preUnloadEvent")},removeOnloadHandler:function(t){u.remove(t)},removeUnloadHandler:function(t){l.remove(t)},removeBeforeUnloadHandler:function(t){c.remove(t)},Tx:function(){return!(this.uh||this.$r)},Ux:function(){return!(this.ci||this.po)},Cu:function(){if(t.addEvent(window,"unload",this.Xu),t.addEvent(window,"beforeunload",this.Eu),document&&void 0!==document.readyState){if("COMPLETE"==document.readyState.toUpperCase())return void this.yi();s(this.Np,1e3,this)}else if(this.fr())return void this.yi();if(t.addEvent(window,"load",this.Xj)){if(e.isProbablyOldOpera()){var n=!1;e.isProbablyOldOpera(9,!1)&&(n=!0,t.addEvent(document,"DOMContentLoaded",a)),s(this.Mp,1e3,this,[n])}}else this.yi()},yi:function(){s(this.Xj,0)},Np:function(){this.uh||("COMPLETE"==document.readyState.toUpperCase()?this.Xj():s(this.Np,1e3,this))},Mp:function(t){this.uh||(h||!t&&this.fr()?this.Xj():s(this.Mp,1e3,this,[t]))},fr:function(){return void 0!==document.getElementsByTagName&&void 0!==document.getElementById&&(null!=document.getElementsByTagName("body")[0]||null!=document.body)}}).Xj=r(d,i.onloadDone,i.onloadInprogress,u,"onloadEvent"),d.Xu=r(d,i.unloaded,i.unloading,l,"unloadEvent"),d.Eu=r(d,i.preunloading,i.preunloading,c,"preUnloadEvent"),n.isBrowserDocument()?d.Cu():d.yi(),d.addOnloadHandler=d.addOnloadHandler,d.addUnloadHandler=d.addUnloadHandler,d.addBeforeUnloadHandler=d.addBeforeUnloadHandler,d.removeOnloadHandler=d.removeOnloadHandler,d.removeUnloadHandler=d.removeUnloadHandler,d.removeBeforeUnloadHandler=d.removeBeforeUnloadHandler,d.isLoaded=d.isLoaded,d.isUnloaded=d.isUnloaded,d.isUnloading=d.isUnloading,d}),define("Promise",[],function(){return Promise}),define("Global",["EnvironmentStatus","Environment","Promise"],function(t,e){var n={vt:t,toString:function(){return"[Lightstreamer "+this.library+" client version "+this.version+" build "+this.build+"]"},sa:function(t,e,n,i){return this[t=(i||"_")+t]||(this[t]={}),this[t][e]=n,"Lightstreamer."+t+"."+e},lj:function(t,e,n){return this[t=(n||"_")+t]&&this[t][e]},Dq:function(t,e,n){return this[t=(n||"_")+t]?this[t][e]:null},Fi:function(t,e,n){if(this[t=(n||"_")+t]&&this[t][e]){for(var i in delete this[t][e],this[t])return;delete this[t]}},Ru:function(t,e){var n=(e||"_")+t;this[n]&&delete this[n]},xj:{},ru:function(t,e){var n=this.xj;n[t]||(n[t]=[]),n[t].push(e)},Wz:function(t,e){var n=this.xj[t];if(n){for(var i=0;i<n.length;i++)n[i]==e&&n.splice(i,1);0==n.length&&delete n[t]}},Sq:function(t){return this.xj[t]&&(t=this.xj[t])&&0<t.length?t[0]:null}};return e.isBrowserDocument()&&(window.OpenAjax&&OpenAjax.hub&&OpenAjax.hub.registerLibrary("Lightstreamer","http://www.lightstreamer.com/",n.version),window.Lightstreamer=n),n.library="nodejs",n.version="7.2.4",n.build="1757",n}),define("Executor",["Helpers","EnvironmentStatus","Environment"],function(t,e,n){function i(){}function r(t,e){return t.time===e.time?t.kn-e.kn:t.time-e.time}function o(){b=!1,a()}function s(){if(d)clearInterval(d);else if(n.isBrowserDocument()&&"undefined"!=typeof postMessage){v=function(){window.postMessage("Lightstreamer.run",g)};var e=function(t){("Lightstreamer.run"==t.data&&"*"==g||t.origin==g)&&o()};t.addEvent(window,"message",e),b||(b=!0,v()),0==b&&(t.removeEvent(window,"message",e),v=i)}else n.isNodeJS()&&"undefined"!=typeof process&&process.nextTick&&(v=function(){process.nextTick(o)});d=setInterval(a,50)}function a(){if(e.ci)clearInterval(d);else{var n=c;if((c=t.getTimeStamp())<n&&(c=n),0<u.length)for(l&&(u.sort(r),l=!1);0<u.length&&u[0].time<=c&&!e.ci;)(n=u.shift()).mf&&(y.executeTask(n),n.step&&f.push(n));for(0>=u.length&&(p=0);0<f.length;)(n=f.shift()).step&&(n.kn=p++,y.addPackedTimedTask(n,n.step,!0));c>=h&&(h=c+108e5,u=[].concat(u))}}var l=!1,u=[],c=t.getTimeStamp(),h=c+108e5,f=[],d=null,p=0,g=!n.isBrowserDocument()||"http:"!=document.location.protocol&&"https:"!=document.location.protocol?"*":document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""),v=i,b=!1,y={toString:function(){return["[","Executor",50,u.length,"]"].join("|")},getQueueLength:function(){return u.length},packTask:function(t,e,n){return{mf:t,context:e||null,Vb:n||null,kn:p++}},addPackedTimedTask:function(t,e,n){if(t.step=n?e:null,t.time=c+parseInt(e),isNaN(t.time))try{throw Error()}catch(s){throw t="Executor error for time: "+e,s.stack&&(t+=" "+s.stack),t}u.push(t),l=!0},addRepetitiveTask:function(t,e,n,i){return this.addTimedTask(t,e,n,i,!0)},stopRepetitiveTask:function(t){t&&(t.mf=null,t.step=null)},addTimedTask:function(t,e,n,i,r){return t=this.packTask(t,n,i),this.addPackedTimedTask(t,e,r),0!=e||b||(b=!0,v()),t},modifyTaskParam:function(t,e,n){t.Vb[e]=n},modifyAllTaskParams:function(t,e){t.Vb=e},delayTask:function(t,e){t.time+=e,l=!0},executeTask:function(t,e){try{var n=e||t.Vb;t.context?n?t.mf.apply(t.context,n):t.mf.apply(t.context):n?t.mf.apply(null,n):t.mf()}catch(s){}}};return n.isWebWorker()?setTimeout(s,1):s(),y.getQueueLength=y.getQueueLength,y.packTask=y.packTask,y.addPackedTimedTask=y.addPackedTimedTask,y.addRepetitiveTask=y.addRepetitiveTask,y.stopRepetitiveTask=y.stopRepetitiveTask,y.addTimedTask=y.addTimedTask,y.modifyTaskParam=y.modifyTaskParam,y.modifyAllTaskParams=y.modifyAllTaskParams,y.delayTask=y.delayTask,y.executeTask=y.executeTask,y}),define("LoggerProxy",["Helpers"],function(t){function e(t){this.On(t)}function n(){return!1}var i={error:n,warn:n,info:n,debug:n,fatal:n,isDebugEnabled:n,isInfoEnabled:n,isWarnEnabled:n,isErrorEnabled:n,isFatalEnabled:n};return(e.prototype={On:function(t){this.Qa=t||i},logFatal:function(t){this.Mx()&&(t+=this.me(arguments,1),this.fatal(t))},fatal:function(t,e){this.Qa.fatal(t,e)},Mx:function(){return!this.Qa.isFatalEnabled||this.Qa.isFatalEnabled()},logError:function(t){this.er()&&(t+=this.me(arguments,1),this.error(t))},logErrorExc:function(t,e){this.er()&&(e+=this.me(arguments,2),this.error(e,t))},error:function(t,e){this.Qa.error(t,e)},er:function(){return!this.Qa.isErrorEnabled||this.Qa.isErrorEnabled()},logWarn:function(t){this.fy()&&(t+=this.me(arguments,1),this.warn(t))},warn:function(t,e){this.Qa.warn(t,e)},fy:function(){return!this.Qa.isWarnEnabled||this.Qa.isWarnEnabled()},logInfo:function(t){this.isInfoLogEnabled()&&(t+=this.me(arguments,1),this.info(t))},info:function(t,e){this.Qa.info(t,e)},isInfoLogEnabled:function(){return!this.Qa.isInfoEnabled||this.Qa.isInfoEnabled()},logDebug:function(t){this.isDebugLogEnabled()&&(t+=this.me(arguments,1),this.debug(t))},debug:function(t,e){this.Qa.debug(t,e)},isDebugLogEnabled:function(){return!this.Qa.isDebugEnabled||this.Qa.isDebugEnabled()},me:function(e,n){for(var i=" {",r=n||0;r<e.length;r++)try{var o=e[r];null===o?i+="NULL":0>o.length?i+="*":null!=o.charAt?i+=o:o.message?(i+=o.message,o.stack&&(i+="\n"+o.stack+"\n")):o[0]==o?i+=o:t.isArray(o)?(i+="(",i+=this.me(o),i+=")"):i+=o,i+=" "}catch(s){i+="missing-parameter "}return i+"}"}}).debug=e.prototype.debug,e.prototype.isDebugLogEnabled=e.prototype.isDebugLogEnabled,e.prototype.logDebug=e.prototype.logDebug,e.prototype.info=e.prototype.info,e.prototype.isInfoLogEnabled=e.prototype.isInfoLogEnabled,e.prototype.logInfo=e.prototype.logInfo,e.prototype.warn=e.prototype.warn,e.prototype.isWarnEnabled=e.prototype.isWarnEnabled,e.prototype.logWarn=e.prototype.logWarn,e.prototype.error=e.prototype.error,e.prototype.isErrorEnabled=e.prototype.isErrorEnabled,e.prototype.logError=e.prototype.logError,e.prototype.logErrorExc=e.prototype.logErrorExc,e.prototype.fatal=e.prototype.fatal,e.prototype.isFatalEnabled=e.prototype.isFatalEnabled,e.prototype.logFatal=e.prototype.logFatal,e}),define("IllegalArgumentException",[],function(){function t(t){this.name="IllegalArgumentException",this.message=t}return t.prototype={toString:function(){return["[",this.name,this.message,"]"].join("|")}},t}),define("LoggerManager",["LoggerProxy","IllegalArgumentException"],function(t,e){var n={},i=null,r={setLoggerProvider:function(t){if(t&&!t.getLogger)throw new e("The given object is not a LoggerProvider");for(var r in i=t,n)n[r].On(i?i.getLogger(r):null)},getLoggerProxy:function(e){return n[e]||(n[e]=i?new t(i.getLogger(e)):new t),n[e]},resolve:function(t){return t}};return r.setLoggerProvider=r.setLoggerProvider,r.getLoggerProxy=r.getLoggerProxy,r.resolve=r.resolve,r}),define("lscAe",["Environment"],function(t){return{Ne:1e3,Lo:200,Mt:1e4,Bt:1,ki:0,cC:2,Bo:3,Ko:4,Ao:5,dc:"N",xt:200,Jo:"MAIN",li:"wbridge",hi:"fbridge",Jt:1,It:2,Ik:"1757",sg:!t.isBrowserDocument()||"http:"!=document.location.protocol&&"https:"!=document.location.protocol?"file:":document.location.protocol,ob:"lightstreamer.stream",Me:"lightstreamer.protocol",Td:"lightstreamer.session",Mo:"lightstreamer.requests",Oo:"lightstreamer.subscriptions",Ft:"lightstreamer.messages",Gk:"lightstreamer.actions",zb:"lightstreamer.sharing",bC:"lightstreamer.crosstab",Ho:"lightstreamer.flash",fC:"lightstreamer.stats",Ud:"Lightstreamer_",Mk:"lightstreamer",zc:"UNORDERED_MESSAGES",Pe:{length:-1,toString:function(){return"[UNCHANGED]"}},CONNECTING:"CONNECTING",Ha:"CONNECTED:",ug:"STREAM-SENSING",xg:"WS-STREAMING",Ke:"HTTP-STREAMING",Oe:"STALLED",Qe:"WS-POLLING",fd:"HTTP-POLLING",cc:"DISCONNECTED",wg:"DISCONNECTED:WILL-RETRY",vg:"DISCONNECTED:TRYING-RECOVERY",Rk:"WS",ii:"HTTP",Ok:"RAW",Kk:"DISTINCT",rg:"COMMAND",Nk:"MERGE",ji:"MASTER"}}),define("lscAj",["Environment","lscAe","Helpers"],function(t,e,n){var i=RegExp("\\.","g"),r=RegExp("-","g"),o={".":!0," ":!0,0:!0},s={gr:function(){return!!t.isBrowser()&&!1===navigator.onLine},up:function(){try{return!("undefined"==typeof localStorage||null===localStorage||!localStorage.getItem||!localStorage.setItem||(localStorage.setItem("__canUseLocalStorage_test__","true"),localStorage.removeItem("__canUseLocalStorage_test__"),0))}catch(i){return!1}},nc:function(){try{return document.domain}catch(i){return""}},kj:function(){if(!t.isBrowserDocument())return!0;try{return-1<document.location.host.indexOf("[")||s.nc()==document.location.hostname}catch(i){return!1}},lc:function(t){if(void 0!==t){if(!0===t||!1===t)return!0===t;if(null!=t){if(isNaN(t)||""===t){if(n.isArray(t)){for(var i=[],r=0;r<t.length;r++)i[r]=this.lc(t[r]);return i}if((t||""==t)&&("string"==typeof t||t instanceof String))return t.toString();if(-1===t.length)return e.Pe;if(isNaN(t)&&"number"==typeof t)return NaN;for(r in i={},t)i[this.lc(r)]=this.lc(t[r]);return i}return(r=!!t.charAt&&t.charAt(0)in o)&&t.toString?"0"===r&&1==t.length?"0":t.toString():t==Math.round(t)?parseInt(t):parseFloat(t,10)}}return null},ta:function(t,e){if(t=t||{},e)for(var n in e)t[n]=e[n];return t},ek:function(t){return t.replace(i,"_").replace(r,"__")},getReverse:function(t){var e,n={};for(e in t)n[t[e]]=e;return n},xi:function(t){if(t&&!t.pop){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}return t},Ez:function(t){if(!t)return[];for(var e={tx:0,next:function(){return t.charAt(this.tx++)}},n=/^\s*Expires/i,i=[],r=e.next();r;){for(var o="",s="";r&&";"!=r&&","!=r;)s+=r,r=e.next();for(o+=s=s.trim(),";"==r&&(o+="; ",r=e.next());r&&","!=r;){for(s="";r&&";"!=r&&","!=r;)s+=r,r=e.next();if(s.match(n))for(console.assert(","==r),s+=r,r=e.next();r&&";"!=r&&","!=r;)s+=r,r=e.next();o+=s=s.trim(),";"==r&&(o+="; ",r=e.next())}i.push(o),r=e.next()}return i}};return s}),define("Inheritance",["IllegalStateException"],function(t){function e(t,e,n){if(e)return n?e.apply(t,n):e.apply(t)}var n={Ct:function(e,i,r,o){for(var s in i.prototype)if(e.prototype[s]){if(o){var a;t:{a=i.prototype;var l=void 0;for(l in a)if(a[s]==a[l]&&s!=l){a=l;break t}a=null}if(a){if(e.prototype[a]&&e.prototype[a]!==e.prototype[s]&&i.prototype[a]!=i.prototype[a])throw new t("Can't solve alias collision, try to minify the classes again ("+a+", "+s+")");e.prototype[a]=e.prototype[s]}}}else e.prototype[s]=i.prototype[s];return r||(e.prototype._super_=i,e.prototype._callSuperConstructor=n._callSuperConstructor,e.prototype._callSuperMethod=n._callSuperMethod),e},_callSuperMethod:function(t,n,i){return e(this,t.prototype._super_.prototype[n],i)},_callSuperConstructor:function(t,n){e(this,t.prototype._super_,n)}};return n.Ct}),define("Setter",["IllegalArgumentException"],function(t){function e(){}return e.prototype.checkPositiveNumber=function(e,n,i){var r=new Number(e);if(isNaN(r))throw new t("The given value is not valid. Use a number");if(!i&&r!=Math.round(r))throw new t("The given value is not valid. Use an integer");if(n){if(0>e)throw new t("The given value is not valid. Use a positive number or 0")}else if(0>=e)throw new t("The given value is not valid. Use a positive number");return r},e.prototype.checkBool=function(e,n){if(!0===e||!1===e||n&&!e)return!0===e;throw new t("The given value is not valid. Use true or false")},e}),define("lscA",["LoggerManager","lscAj","Inheritance","Setter","lscAe"],function(t,e,n,i,r){function o(t){this.W="lscA",this.parent=null,this.op=!1,t&&this.dv(t)}return t.getLoggerProxy(r.Gk),t.getLoggerProxy(r.zb),o.prototype={hj:function(t){return this.og[t]},S:function(t,n){var i=this.hj(t),r=this[i];this[i]=e.lc(n),this.parent&&this.op&&this.Xe(t),r!=this[i]&&this.Er(t)},w:function(t,e){var n=this.hj(t);e!=this[n]&&(this[n]=e,this.Xe(t),this.Er(t))},jg:function(t,e){this.parent=t,this.op=e},Xe:function(t){var n=this.hj(t);return!(this.parent&&this.parent.Xe&&!this.parent.Xe(this.W,t,e.lc(this[n])))},Er:function(t){var e=this.hj(t);!this.parent||!this.parent.Gr||this.Cr&&this.Cr[e]||this.parent.Gr(t,this)},dv:function(t){var e,n=this.og;for(e in n)this.S(e,t[n[e]])},gm:function(t){for(var e in this.og)t(e,this[this.og[e]])}},n(o,i,!1,!0),o}),define("lscC",["lscA","Inheritance","lscAj"],function(t,e,n){function i(t){this.Ng=!1,this.od=0,this.Cr=r,this.og=o,this._callSuperConstructor(i,arguments),this.W="lscC"}var r={},o=n.getReverse(o={Ng:"connectionRequested",od:"clientsCount"});return i.prototype={},e(i,t),i}),define("lscE","IllegalArgumentException lscAe lscA Inheritance Global Environment lscAj".split(" "),function(t,e,n,i,r,o,s){function a(){this.Kl=4e6,this.oj=19e3,this.xe=this.Tb=this.Ef=0,this.Dd=3e3,this.uk=2e3,this.af=0,this.df=4e3,this.bk=2e3,this.Xi=100,this.Sn=!0,this.im=null,this.Pp=this.Jn=!1,this.gg=0,this.Vl=!0,this.Tn=5e3,this.jh=this.tk=null,this.nj=!1,this.ik=15e3,this.Ii=this.vo=!0,this.Yi=2e3,this.co=4e3,this.og=u,this._callSuperConstructor(a,arguments),this.W="lscE"}var l={};l[e.Ke]=!0,l[e.Qe]=!0,l[e.fd]=!0,l[e.xg]=!0,l[e.Rk]=!0,l[e.ii]=!0;var u=s.getReverse(u={Kl:"contentLength",oj:"idleTimeout",Ef:"keepaliveInterval",Tb:"maxBandwidth",xe:"pollingInterval",Dd:"reconnectTimeout",uk:"stalledTimeout",df:"currentConnectTimeout",af:"connectTimeout",bk:"retryDelay",Xi:"firstRetryMaxDelay",Sn:"slowingEnabled",im:"forcedTransport",Jn:"serverInstanceAddressIgnored",Pp:"cookieHandlingRequired",gg:"reverseHeartbeatInterval",Vl:"earlyWSOpenEnabled",ik:"sessionRecoveryTimeout",Tn:"spinFixTimeout",tk:"spinFixEnabled",vo:"xDomainStreamingEnabled",Ii:"corsXHREnabled",Yi:"forceBindTimeout",co:"switchCheckTimeout",jh:"httpExtraHeaders",nj:"httpExtraHeadersOnSessionCreationOnly"});return(a.prototype={wA:function(t){this.w("contentLength",this.checkPositiveNumber(t))},nw:function(){return this.Kl},Us:function(t){this.w("idleTimeout",this.checkPositiveNumber(t,!0))},Gq:function(){return this.oj},Ws:function(t){this.w("keepaliveInterval",this.checkPositiveNumber(t,!0))},Hq:function(){return this.Ef},IA:function(t){t="unlimited"==new String(t).toLowerCase()?0:this.checkPositiveNumber(t,!1,!0),this.w("maxBandwidth",t)},Fw:function(){return 0>=this.Tb?"unlimited":this.Tb},Xs:function(t){this.w("pollingInterval",this.checkPositiveNumber(t,!0))},Nq:function(){return this.xe},OA:function(t){this.w("reconnectTimeout",this.checkPositiveNumber(t))},Qw:function(){return this.Dd},$A:function(t){this.w("stalledTimeout",this.checkPositiveNumber(t))},ex:function(){return this.uk},uA:function(t){"auto"==t?(this.w("connectTimeout",0),t=4e3):this.w("connectTimeout",this.checkPositiveNumber(t)),this.Qs(t)},kw:function(){return 0==this.af?"auto":this.af},Qs:function(t){0!=this.af&&t!=this.af||this.w("currentConnectTimeout",this.checkPositiveNumber(t))},wq:function(){return this.df},Ys:function(t){this.w("retryDelay",this.checkPositiveNumber(t))},Pq:function(){return this.bk},BA:function(t){this.w("firstRetryMaxDelay",this.checkPositiveNumber(t))},uw:function(){return this.Xi},WA:function(t){this.w("slowingEnabled",this.checkBool(t))},Yx:function(){return this.Sn},DA:function(e){if(null!==e&&!l[e])throw new t("The given value is not valid. Use one of: HTTP-STREAMING, HTTP-POLLING, WS-STREAMING, WS-POLLING, WS, HTTP or null");this.w("forcedTransport",e)},zw:function(){return this.im},SA:function(t){this.w("serverInstanceAddressIgnored",this.checkBool(t))},Xx:function(){return this.Jn},xA:function(e){if(e&&!o.isBrowser()&&!o.isNodeJS())throw new t("cookieHandlingRequired is only supported on Browsers");this.w("cookieHandlingRequired",this.checkBool(e))},Qb:function(){return this.Pp},AA:function(t){this.w("earlyWSOpenEnabled",this.checkBool(t))},Lx:function(){return this.Vl},Zs:function(t){this.w("reverseHeartbeatInterval",this.checkPositiveNumber(t,!0))},Qq:function(){return this.gg},EA:function(t){if(t){var e,n="";for(e in t)n+=e+"\n"+t[e]+"\n";this.w("httpExtraHeaders",n)}else this.w("httpExtraHeaders",null)},Fq:function(){if(!this.jh)return this.jh;for(var t={},e=this.jh.split("\n"),n=0;n<e.length-1;n+=2)t[e[n]]=e[n+1];return t},FA:function(t){this.w("httpExtraHeadersOnSessionCreationOnly",this.checkBool(t))},Ox:function(){return this.nj},VA:function(t){this.w("sessionRecoveryTimeout",this.checkPositiveNumber(t,!0))},ax:function(){return this.ik},ih:function(t){return!(!this.jh||!t&&this.nj)},Xg:function(t){return!t&&this.nj?null:this.Fq()},dB:function(t){this.w("xDomainStreamingEnabled",this.checkBool(t))},gy:function(){return this.vo},yA:function(t){this.w("corsXHREnabled",this.checkBool(t))},Jx:function(){return this.Ii},CA:function(t){this.w("forceBindTimeout",this.checkPositiveNumber(t))},xw:function(){return this.Yi},aB:function(t){this.w("switchCheckTimeout",this.checkPositiveNumber(t))},gx:function(){return this.co},ZA:function(t){this.w("spinFixTimeout",this.checkPositiveNumber(t))},dx:function(){return this.Tn},YA:function(t){this.w("spinFixTimeout",null===this.iC?null:this.checkBool(t))},cx:function(){return this.tk},cr:function(){return 0==this.af},vx:function(){if(this.cr()){var t=this.wq()+2e3;14e3<t?this.ys():this.S("currentConnectTimeout",t)}},ys:function(){this.cr()&&this.S("currentConnectTimeout",4e3)}}).setContentLength=a.prototype.wA,a.prototype.getContentLength=a.prototype.nw,a.prototype.setIdleTimeout=a.prototype.Us,a.prototype.getIdleTimeout=a.prototype.Gq,a.prototype.setKeepaliveInterval=a.prototype.Ws,a.prototype.getKeepaliveInterval=a.prototype.Hq,a.prototype.setMaxBandwidth=a.prototype.IA,a.prototype.getMaxBandwidth=a.prototype.Fw,a.prototype.setPollingInterval=a.prototype.Xs,a.prototype.getPollingInterval=a.prototype.Nq,a.prototype.setReconnectTimeout=a.prototype.OA,a.prototype.getReconnectTimeout=a.prototype.Qw,a.prototype.setStalledTimeout=a.prototype.$A,a.prototype.getStalledTimeout=a.prototype.ex,a.prototype.setConnectTimeout=a.prototype.uA,a.prototype.getConnectTimeout=a.prototype.kw,a.prototype.setCurrentConnectTimeout=a.prototype.Qs,a.prototype.getCurrentConnectTimeout=a.prototype.wq,a.prototype.setRetryDelay=a.prototype.Ys,a.prototype.getRetryDelay=a.prototype.Pq,a.prototype.setFirstRetryMaxDelay=a.prototype.BA,a.prototype.getFirstRetryMaxDelay=a.prototype.uw,a.prototype.setSlowingEnabled=a.prototype.WA,a.prototype.isSlowingEnabled=a.prototype.Yx,a.prototype.setForcedTransport=a.prototype.DA,a.prototype.getForcedTransport=a.prototype.zw,a.prototype.setServerInstanceAddressIgnored=a.prototype.SA,a.prototype.isServerInstanceAddressIgnored=a.prototype.Xx,a.prototype.setCookieHandlingRequired=a.prototype.xA,a.prototype.isCookieHandlingRequired=a.prototype.Qb,a.prototype.setEarlyWSOpenEnabled=a.prototype.AA,a.prototype.isEarlyWSOpenEnabled=a.prototype.Lx,a.prototype.setReverseHeartbeatInterval=a.prototype.Zs,a.prototype.getReverseHeartbeatInterval=a.prototype.Qq,a.prototype.setHttpExtraHeaders=a.prototype.EA,a.prototype.getHttpExtraHeaders=a.prototype.Fq,a.prototype.setHttpExtraHeadersOnSessionCreationOnly=a.prototype.FA,a.prototype.isHttpExtraHeadersOnSessionCreationOnly=a.prototype.Ox,a.prototype.setSessionRecoveryTimeout=a.prototype.VA,a.prototype.getSessionRecoveryTimeout=a.prototype.ax,a.prototype.setXDomainStreamingEnabled=a.prototype.dB,a.prototype.isXDomainStreamingEnabled=a.prototype.gy,a.prototype.setCorsXHREnabled=a.prototype.yA,a.prototype.isCorsXHREnabled=a.prototype.Jx,a.prototype.setForceBindTimeout=a.prototype.CA,a.prototype.getForceBindTimeout=a.prototype.xw,a.prototype.setSwitchCheckTimeout=a.prototype.aB,a.prototype.getSwitchCheckTimeout=a.prototype.gx,a.prototype.setSpinFixTimeout=a.prototype.ZA,a.prototype.getSpinFixTimeout=a.prototype.dx,a.prototype.setSpinFixEnabled=a.prototype.YA,a.prototype.getSpinFixEnabled=a.prototype.cx,a.prototype.setRetryTimeout=a.prototype.Ys,a.prototype.getRetryTimeout=a.prototype.Pq,a.prototype.setIdleMillis=a.prototype.Us,a.prototype.getIdleMillis=a.prototype.Gq,a.prototype.setKeepaliveMillis=a.prototype.Ws,a.prototype.getKeepaliveMillis=a.prototype.Hq,a.prototype.setPollingMillis=a.prototype.Xs,a.prototype.getPollingMillis=a.prototype.Nq,a.prototype.setReverseHeartbeatMillis=a.prototype.Zs,a.prototype.getReverseHeartbeatMillis=a.prototype.Qq,i(a,n),a}),define("lscAf",[],function(){return{tC:function(){var t,e,n=3,i=6,r="",o=0;t=(e="document".toString()).length;for(var s=0;s<t;s++)o+=e.charCodeAt(s);if(0<(e=parseInt(o)))for(o=0;184>=i+n-o;o+=3)t=o,t=parseInt("2844232422362353182342452312352492633183053182412392513042362492412532492362342352342462472452423042312312313182482393182292342362492382392362383182422532332342512492422422492342402770".substring(o,n-1))-parseInt("2844232422362353182342452312352492633183053182412392513042362492412532492362342352342462472452423042312312313182482393182292342362492382392362383182422532332342512492422422492342402770".substring(t,t+2))+350-parseInt("2844232422362353182342452312352492633183053182412392513042362492412532492362342352342462472452423042312312313182482393182292342362492382392362383182422532332342512492422422492342402770".substring(i,i+n-o)),r=unescape("%"+t.toString(16))+r,n+=3,i+=3,e+=t;return r}}}),define("ASSERT",["LoggerManager"],function(t){var e=t.getLoggerProxy("weswit.test"),n=0,i={},r={VOID:i,getFailures:function(){return n},compareArrays:function(n,i,r){if(n.length!=i.length)return this.Ib(),e.logError(t.resolve(447),n,i),!1;if(r){for(o=0;o<n.length;o++)if(n[o]!=i[o])return e.logError(t.resolve(450),n[o],i[o]),this.Ib(),!1}else{r={};for(var o=0;o<n.length;o++)r[n[o]]=1;for(o=0;o<i.length;o++){if(!r[i[o]])return e.logError(t.resolve(448),i[o]),this.Ib(),!1;r[i[o]]++}for(o in r)if(1==r[o])return e.logError(t.resolve(449),r[o]),this.Ib(),!1}return!0},verifySuccess:function(t,e,n,i,r){return this.verify(t,e,n,i,!1,r)},verifyException:function(t,e,n){return this.verify(t,e,n,null,!0)},verifyNotNull:function(n){return null!==n||(this.Ib(),e.logError(t.resolve(451),n),!1)},verifyValue:function(n,i,r){var o=!1;return!0===r?o=n===i:r?o=r(n,i):isNaN(n)?o=n==i:(r=n&&n.charAt?n.charAt(0):null,o=i&&i.charAt?i.charAt(0):null,o="."==r||" "==r||"0"==r||"."==o||" "==o||"0"==o?String(n)==String(i):n==i),!!o||(this.Ib(),e.logError(t.resolve(452),n,i),!1)},verifyDiffValue:function(n,i,r){return(r?n!==i:n!=i)||(this.Ib(),e.logError(t.resolve(453),n,i),!1)},verifyOk:function(n){return!!n||(this.Ib(),e.logError(t.resolve(454)),!1)},verifyNotOk:function(n){return!n||(this.Ib(),e.logError(t.resolve(455)),!1)},fail:function(){return e.logError(t.resolve(456)),this.Ib(),!1},Ib:function(){n++},verify:function(n,r,o,s,a,l){var u=!1,c=null,h=null;try{c=o!==i?n[r].apply(n,o):n[r]()}catch(f){u=!0,h=f}return n=a?"succes":"failure",a!=u?(this.Ib(),e.logError(t.resolve(457),n,"for",r,o,s,h),!1):!(!a&&s!==i)||this.verifyValue(c,s,l)}};return r.getFailures=r.getFailures,r.fail=r.fail,r.verifyNotOk=r.verifyNotOk,r.verifyOk=r.verifyOk,r.verifyDiffValue=r.verifyDiffValue,r.verifyNotNull=r.verifyNotNull,r.verifyValue=r.verifyValue,r.verifyException=r.verifyException,r.verifySuccess=r.verifySuccess,r.compareArrays=r.compareArrays,r}),define("lscq","LoggerManager lscAj lscAf Environment ASSERT lscAe".split(" "),function(t,e,n,i,r,o){var s=t.getLoggerProxy(o.Me),a="LS_cid=tqGko0tg4pkpW3CAM3Q4hwLri8LBREm&",l=/^[a-z][a-z0-9-]+$/,u=/^((?:[a-z][a-z.0-9-]+).(?:[a-z][a-z-]+))(?![\w.])/,c=/^((?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))(?![d])/,h=/^[a-f0-9:]+$/;return{RB:function(t){var e=0==(t=t.toLowerCase()).indexOf("http://")?7:0==t.indexOf("https://")?8:-1;if(-1==e)return"The given server address has not a valid scheme";var n=(n=t.lastIndexOf(":"))>e?n:t.length,i=this.hq(t,t.indexOf("://"));if(null!=i&&isNaN(i.substring(1)))return"The given server address has not a valid port";if(i=(i=t.indexOf("/",e))<n?i:n,"["==t.charAt(e)){if(t=t.substring(e+1,t.lastIndexOf("]")),!h.test(t))return"The given server address is not a valid IPv6"}else if(-1<(t=t.substring(e,i)).indexOf(".")){if(!u.test(t)&&!c.test(t))return"The given server address is not a valid URL"}else if(!l.test(t))return"The given server address is not a valid machine name";return!0},hq:function(t,e){var n=t.indexOf(":",e+1);if(-1>=n)return null;if(-1<t.indexOf("]")){if(-1>=(n=t.indexOf("]:")))return null;n+=1}else if(n!=t.lastIndexOf(":"))return null;var i=t.indexOf("/",e+3);return-1<i?t.substring(n,i):t.substring(n)},Yu:function(t,e){var n=this.hq(t,t.indexOf("://"));if(n){var i=e.indexOf("/");e=-1>=i?e+n:e.substring(0,i)+n+e.substring(i)}return"/"!=(e=0==t.toLowerCase().indexOf("https://")?"https://"+e:"http://"+e).substr(e.length-1)&&(e+="/"),e},Ow:function(n,o,l,u,c,h,f,d,p,g,v){return n="LS_phase="+n+"&"+(v=v&&i.isBrowserDocument()&&!e.kj()?"LS_domain="+e.nc()+"&":"")+(d?"LS_cause="+d+"&":""),c||h?(n+="LS_polling=true&",d=g=0,h&&(g=Number(l.xe),null==p||isNaN(p)||(g+=p),d=l.oj),isNaN(g)||(n+="LS_polling_millis="+g+"&"),isNaN(d)||(n+="LS_idle_millis="+d+"&")):(0<l.Ef&&(n+="LS_keepalive_millis="+l.Ef+"&"),0<l.gg&&(n+="LS_inactivity_millis="+l.gg+"&"),g&&(n+="LS_content_length="+l.Kl+"&")),c?(o="",0<l.Tb&&(o+="LS_requested_max_bandwidth="+l.Tb+"&"),null!=u.vi&&(o+="LS_adapter_set="+encodeURIComponent(u.vi)+"&"),null!=u.Ck&&(o+="LS_user="+encodeURIComponent(u.Ck)+"&"),l="LS_op2=create&"+n+a+o,f&&(l+="LS_old_session="+f+"&"),s.logDebug(t.resolve(6),l),null!=u.password&&(l+="LS_password="+encodeURIComponent(u.password)+"&"),l):(r.verifyOk(o)||s.logError(t.resolve(4)),u="LS_session="+o+"&"+n,s.logDebug(t.resolve(5),u),u)},Rw:function(n,r,o,a,l,u,c){return n="LS_phase="+n+"&"+(u=u&&i.isBrowserDocument()&&!e.kj()?"LS_domain="+e.nc()+"&":"")+(a?"LS_cause="+a+"&":"")+"LS_polling=true&",a=0,null==l||isNaN(l)||(a+=l),n+="LS_polling_millis="+a+"&",n+="LS_idle_millis=0&",0<o.Tb&&(n+="LS_requested_max_bandwidth="+o.Tb+"&"),n+="LS_session="+r+"&",n+="LS_recovery_from="+c+"&",s.logDebug(t.resolve(7),n),n},rw:function(e,n){var i={LS_op:"destroy",LS_session:e};return n&&(i.LS_cause=n),s.logDebug(t.resolve(8)),i},yw:function(e,n){var i={LS_op:"force_rebind"};return e&&(i.LS_cause=e),null==n||isNaN(n)||(i.LS_polling_millis=n),s.logDebug(t.resolve(9)),i},Ew:function(t,e,n){return e.LS_build=n,e.LS_phase=t,e},lw:function(t){return{LS_op:"constrain",LS_requested_max_bandwidth:0<t.Tb?t.Tb:0}},Oq:function(e,n,i){return e=n||".js"==i||""==i?(e?this.mm()+"create_session":"bind_session")+i:(e?this.mm():"")+"STREAMING_IN_PROGRESS",s.logDebug(t.resolve(10),e),e},Sw:function(t){return"bind_session"+t},mm:function(){return""},CC:function(t){a=t}}}),define("lscD","IllegalArgumentException lscA Inheritance Environment Global lscq lscAj".split(" "),function(t,e,n,i,r,o,s){function a(){this.Kh=u,this.sessionId=this.Ns=this.Ms=this.password=this.Ck=this.vi=null,this.og=l,this._callSuperConstructor(a,arguments),this.W="lscD"}var l=s.getReverse(l={Kh:"serverAddress",vi:"adapterSet",Ck:"user",password:"password",Ms:"serverInstanceAddress",Ns:"serverSocketName",sessionId:"sessionId"}),u=!i.isBrowser()||"http:"!=location.protocol&&"https:"!=location.protocol?null:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/";return(a.prototype={$s:function(e){if(null===e)e=u;else{"/"!=e.substr(e.length-1)&&(e+="/");var n=o.RB(e);if(!0!==n)throw new t(n)}this.w("serverAddress",e)},Rq:function(){return this.Kh},Os:function(t){this.w("adapterSet",t)},aw:function(){return this.vi},cB:function(t){this.w("user",t)},lx:function(){return this.Ck},KA:function(t){this.w("password",t)},Zw:function(){return this.Ms},$w:function(){return this.Ns},Nb:function(){return this.sessionId}}).setServerAddress=a.prototype.$s,a.prototype.getServerAddress=a.prototype.Rq,a.prototype.setAdapterSet=a.prototype.Os,a.prototype.getAdapterSet=a.prototype.aw,a.prototype.setUser=a.prototype.cB,a.prototype.getUser=a.prototype.lx,a.prototype.setPassword=a.prototype.KA,a.prototype.getServerInstanceAddress=a.prototype.Zw,a.prototype.getServerSocketName=a.prototype.$w,a.prototype.getSessionId=a.prototype.Nb,n(a,e),a}),define("lscAi",[],function(){function t(t){this.mn=[],this.bound=this.Ak=!1,this.value=null,this.Vi=!1;var e=this;t(function(){return e.nz.apply(e,arguments)},function(){return e.Xr.apply(e,arguments)})}return t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.prototype={then:function(t,e){return this.Ak?this.Es(t,e):this.mn.push({gz:t,ez:e}),this},nz:function(t){if(this.Ak||this.bound)return null;if(t&&t.then&&t.constructor===this.constructor){this.bound=!0;var e=this;return t.then(function(t){return e.mo(t,!0),e.value},function(t){e.Xr(t,!1)}),t}return this.mo(t,!0),this},mo:function(t,e){for(this.value=t,this.Vi=!e;0<this.mn.length;){var n=this.mn.shift();this.Es(n.gz,n.ez)}this.Ak=!0,this.bound=!1},Xr:function(t){return this.Ak||this.bound?null:(this.mo(t,!1),this)},Es:function(t,e){try{this.Vi?e&&e.apply(null,[this.value]):t.apply(null,[this.value])}catch(n){this.Vi||(this.Vi=!0,this.value=n)}}},t}),define("lscY",["Promise","lscAj","lscAi"],function(t,e){return{Pg:function(n,i){return i.to?i.bl?function(){try{var i=this.target[n].apply(this.target,[this.Za].concat(e.xi(arguments)));return t.resolve(i)}catch(r){return t.reject(r)}}:function(){try{var e=this.target[n].apply(this.target,arguments);return t.resolve(e)}catch(i){return t.reject(i)}}:i.bl?function(){try{this.target[n].apply(this.target,[this.Za].concat(e.xi(arguments)))}catch(i){}}:function(){try{this.target[n].apply(this.target,arguments)}catch(i){}}}}}),define("lscP",[],function(){function t(t,e,n){this.to=t,this.bl=e,this.Bs=n||!1}return t.bt=new t(!1,!1),t.DC=new t(!0,!1),t.ct=new t(!0,!1,2e3),t.g=new t(!1,!0),t.oA=new t(!0,!0),t.BC=new t(!0,!0,4e3),t}),define("lscAP",["lscY","lscP","LoggerManager","lscAe"],function(t,e,n,i){function r(t){this.client=t,this.vb=!1,this.Za=-1,this.Da=null,this.bq="local"}var o=e.bt,s=e.g;e={Kr:o,pp:s,qp:s,fs:e.ct,Ge:e.oA,Md:s,ed:s,$g:s,rq:o,Gp:o};var a=n.getLoggerProxy(i.zb);for(var l in r.methods=e,r.prototype={NA:function(t){this.target=t},Ss:function(t){a.logInfo(n.resolve(11)+this.bq+" engine created: "+t),this.Da=t},ud:function(){return this.Da},H:function(){this.client=null},UA:function(t){this.Za=t},rh:function(t,e,n){("lscD"==t?this.client.Ab:"lscE"==t?this.client.Cb:this.client.ka).S(e,n)},ue:function(t){this.vb&&this.gk(t)},gk:function(t){this.Za=t,this.vb=!1,this.client.gk()},Vc:function(t){this.Za=t,this.vb=!0,this.client.nA()},Sf:function(t,e){a.logInfo(n.resolve(12)+this.Da+" is dead"),this.client&&(this.gk(-1),this.client.Bv(t,e))},sl:function(){var t=this;this.fs().then(function(){},function(){t.client&&t.Sf()})},Nr:function(){this.sl(),Executor.addTimedTask(this.sl,1e3,this)},Uf:function(t,e){this.client.mA(t,e)},onStatusChange:function(t){this.client.fl(t)},onSubscription:function(t,e,n,i,r){this.client.u.wB(t,e,n,i,r)},Vf:function(t,e,n){this.client.u.Dv(t,e,n)},onUnsubscription:function(t){this.client.u.MB(t)},onEndOfSnapshot:function(t,e){this.client.u.re(t,e)},th:function(t,e){this.client.u.NB(t,e)},onLostUpdates:function(t,e,n){this.client.u.se(t,e,n)},onClearSnapshot:function(t,e){this.client.u.qe(t,e)},te:function(t){this.client.J.vy(t)},Rr:function(t,e,n){this.client.J.uy(t,e,n)},Tf:function(t,e,n){this.client.J.wy(t,e,n)},Qr:function(t){this.client.J.ty(t)},Sr:function(t){this.client.J.yy(t)},ping:function(){if(null===this.client)throw"net";return!0},sc:function(){this.client.sc()}},e)r.prototype[l]=t.Pg(l,e[l]);return r}),define("lscAH",["Environment","lscAj"],function(t,e){function n(t,e,n,i,r,o){this.LA(t),this.De(e),this.setData(n),this.mk(i),this.Mh(r),this.Oh(o)}return n.Pt="GET",n.mi="POST",n.prototype={toString:function(){return["[",this.Bb,this.yg,this.pb,this.Se,"]"].join("|")},LA:function(t){for(;t&&"/"==t.substring(t.length-1);)t=t.substring(0,t.length-1);this.Bb=t},De:function(t){for(;t&&"/"==t.substring(0,1);)t=t.substring(1);this.yg=t},mk:function(t){this.Se=t||n.mi},Mh:function(t){this.Op=t||!1},Oh:function(t){this.bm=t||null},setData:function(t){this.pb=t},Si:function(t){this.pb?this.av(t)||(this.pb+=t):this.setData(t)},av:function(t){return this.pb&&-1<this.pb.indexOf(t)},getFile:function(){return this.yg},vd:function(){return this.yg?this.Bb+"/"+this.yg:this.Bb},getData:function(){return this.pb},kx:function(){return this.pb?this.vd()+"?"+this.pb:this.vd()},clone:function(){return new n(this.Bb,this.yg,this.pb,this.Se,this.Op,this.bm)},jr:function(){return!(0==this.Bb.indexOf("http://")||0==this.Bb.indexOf("https://")||0==this.Bb.indexOf("file:///"))},Wx:function(n,i){if(!t.isBrowser())return!1;if(this.jr())return t.isWebWorker()?location.hostname==n:e.nc()==n;if(i){if(!this.lr(i))return!1;if("file:"==i)return""==n}return n=n.replace(".","."),new RegExp("^https?://(?:[a-z][a-z0-9-]+.)*"+n+"(?:/|$|:)","i").test(this.Bb)},lr:function(e){return!(!t.isBrowser()||e.indexOf(":")!=e.length-1)&&(this.jr()?location.protocol==e:0==this.Bb.indexOf(e))},wa:function(){if(!t.isBrowser())return!0;var n=t.isWebWorker()?location.hostname:e.nc();return!this.Wx(n,location.protocol)},va:function(){return!t.isBrowser()||!this.lr(location.protocol)}},n.lu=new n("about:blank"),n}),define("lscG",[],function(){function t(t,e,n,i,r){this.request=t,this.Rz=e,this.ps=i,this.Bg=n,this.Ae=r}return t.di=1,t.Pk=2,t.Jk=3,t.hd=4,t.gd=5,t.Rd=6,t.Lk=7,t.Sd=8,t.Co=9,t.prototype={toString:function(){return["[|ControlRequest",this.ps,this.Bg,this.Ae,this.request,"]"].join("|")},cj:function(){return this.Rz},getKey:function(){return this.ps}},t}),define("lscc",["lscAH","lscG","lscAj"],function(t,e){function n(){}return n.prototype={toString:function(){return"[Encoder]"},zx:function(n,i,r){var o=new t;return n=n.nf(),o.De((n==e.hd?"msg":n==e.gd?"send_log":n==e.Sd?"heartbeat":"control")+this.qf()),o.mk(t.mi),o.Mh(i),o.Oh(r),o},encode:function(t,n,i){for(i=i?"":"\r\n";0<t.getLength();){var r=t.Zg(),o=r.cj(),s=r.Bg;if(!o||!o.verifySuccess())return t=r.request,s==e.hd?i+this.$l(t,o,n):s==e.Rd?i+this.Ni(t,o,n):s==e.Sd?i+this.Yl(t,o,n):s==e.gd?i+this.Zl(t,o,n):i+this.Xl(t,o,n);o.ph(),t.shift()}return null},expand:function(t,e){var n="";if(t)for(var i in t)i!==e&&(n+=i+"="+t[i]+"&");return n},ff:function(t,e){return this.expand(t)+this.expand(e)},Oi:function(t,e,n){var i=(i=this.expand(t,n))+this.expand(e,n);return t[n]?i+=n+"="+t[n]:e&&(i+=n+"="+e[n]),"LS_unq="+i.length+"&"+i},uo:function(t){return t},qf:function(){return".js"},om:function(){return 0},rm:function(){return 2},Xl:function(t,e,n,i){return this.ff(t,i,n)},Ni:function(t,e,n,i){return this.ff(t,i,n)},Yl:function(t,e,n,i){return this.ff(t,i,n)},Zl:function(t,e,n,i){return this.ff(t,i,n)},$l:function(t,e,n,i){return this.Oi(t,i,"LS_message",n)}},n}),define("lscd",["lscc","Inheritance","lscAj"],function(t,e,n){function i(){}var r=1,o=n.getReverse(o={$l:"encodeMessageRequest",Xl:"encodeControlRequest",Ni:"encodeDestroyRequest",Yl:"encodeHeartbeatRequest",Zl:"encodeLogRequest"});return i.prototype={$l:function(t,e,r,s){return s=n.ta(s,{LS_session:r}),this._callSuperMethod(i,o.encodeMessageRequest,[t,e,r,s])},Xl:function(t,e,s,a){return a=n.ta(a,{LS_session:s}),a=n.ta(a,{LS_unique:r++}),this._callSuperMethod(i,o.encodeControlRequest,[t,e,s,a])},Ni:function(t,e,s,a){return a=n.ta(a,{LS_unique:r++}),this._callSuperMethod(i,o.encodeDestroyRequest,[t,e,s,a])},Yl:function(t,e,s,a){return s&&(a=n.ta(a,{LS_session:s})),a=n.ta(a,{LS_unique:r++}),this._callSuperMethod(i,o.encodeHeartbeatRequest,[t,e,s,a])},Zl:function(t,e,s,a){return s&&(a=n.ta(a,{LS_session:s})),a=n.ta(a,{LS_unique:r++}),this._callSuperMethod(i,o.encodeLogRequest,[t,e,s,a])},expand:function(t,e){var n="";if(t)for(var i in t)n=i!==e?n+(i+"=")+t[i]+"&":n+(i+"=")+encodeURIComponent(t[i])+"&";return n},Oi:function(t,e,n){return(t=this.expand(t,n))+this.expand(e,n)}},e(i,t),i}),define("req",["Environment"],function(t){var e=t.isNodeJS()?require:null;return function(t){return e(t)}}),define("lscAI",["lscd","lscAj","req"],function(t,e,n){function i(){for(var t in{qa:!0})this.oi=t;this.W=i}function r(){return!1}function o(){return!0}var s=new t;return i.Do="LS_container=lsc&",i.gc=function(t,e){for(var n in e)t[n]=!0===e[n]?o:!1===e[n]?r:e[n]},i.gc(i,{ua:!1,wa:!1,va:!1,ec:!1,fc:!1,Bf:!1,ic:!1}),i.prototype={ea:function(){},hk:function(t,e,n,r,o,s){return this.W.fc()?t.Si("LS_eng="+s+"&"):t.Si(i.Do),this.qa(t,e,n,r,o)},qa:function(){return!1},td:function(){return s}},i.Eq=function(t){var e=[];if(i=n("xmlhttprequest-cookie"))if(null==t)i.CookieJar.save().split("\r\n").forEach(function(t){""!=t&&e.push(t)});else{t=n("url").parse(t);for(var i=i.CookieJar.findFuzzy(t.hostname,t.pathname),r=0;r<i.length;r++)i[r].secure&&"https:"!==t.protocol||i[r].httponly&&null===t.protocol.match(/^https?:$/i)||e.push(i[r])}return e},i.bp=function(t){var e=n("xmlhttprequest-cookie");if(e){var i="";t.forEach(function(t){i+="\r\n"+t}),0<i.length&&(t=e.CookieJar.save(),e.CookieJar.load(t+i))}},i}),define("Assertions",["ASSERT","LoggerManager"],function(t,e){var n=e.getLoggerProxy("assertions");return{assert:function(t,e){t||this.fail(e)},mC:function(t,e,n){t!==e&&this.fail(n+": Expected "+t+" but found "+e)},wC:function(t,e,n){this.assert(!t||e,n)},fail:function(e){t.fail(),null!=e&&n.logError(e)},verifyOk:function(e,i){t.verifyOk(e)||null!=i&&n.logError(i)},verifyNotOk:function(e,i){t.verifyNotOk(e)||null!=i&&n.logError(i)},verifyValue:function(e,i,r){t.verifyValue(e,i,null)||null!=r&&n.logError(r)},verifyDiffValue:function(e,i,r){t.verifyDiffValue(e,i,null)||null!=r&&n.logError(r)}}}),define("lscAO",["Executor","List","Assertions"],function(t,e,n){function i(t){this.Gf=-1,this.yh={},this.Rj={},this.zh={},this.Qj=0,this.T=t,this.Ch=new e}return i.prototype={Xh:function(t){this.T=t},Hw:function(t,e){return this.Gf++,this.yh[this.Gf]=e,this.Rj[this.Gf]=t,this.zh[this.Gf]=!1,this.Qj++,this.Gf},rb:function(t){return this.yh[t]},fh:function(t){return this.Rj[t]},UB:function(t){return this.zh[t]},Su:function(){this.Uu();var t,e=[];for(t in this.yh)e.push(t);for(e.sort(function(t,e){return t-e}),t=0;t<e.length;t++)this.sy(e[t]);n.verifyValue(this.Qj,0,"Unexpected pending messages"),this.Gf=-1,this.yh={},this.Rj={},this.zh={},this.Qj=0},clean:function(t){delete this.yh[t],delete this.Rj[t],delete this.zh[t],this.Qj--},yy:function(t){this.rb(t)&&(this.zh[t]=!0)},Cv:function(t,e,n,i){this.Ch.add({wr:t,fk:e,listener:n,timeout:i})},Uu:function(){var t=this;this.Ch.forEach(function(e){t.fireEvent("onAbort",e.listener,[e.wr,!1])}),this.Ch.clean()},px:function(){var t=this;this.Ch.forEach(function(e){t.$g(e.wr,e.fk,e.listener,e.timeout)}),this.Ch.clean()},$g:function(t,e,n,i){var r=null;n&&(r=this.Hw(t,n)),this.T.$g(t,e,r,i)},fireEvent:function(e,n,i){n&&n[e]&&t.addTimedTask(n[e],0,n,i)},ty:function(t){this.fireEvent("onProcessed",this.rb(t),[this.fh(t)]),this.clean(t)},wy:function(t){this.fireEvent("onError",this.rb(t),[this.fh(t)]),this.clean(t)},uy:function(t,e,n){this.fireEvent("onDeny",this.rb(t),[this.fh(t),e,n]),this.clean(t)},vy:function(t){this.fireEvent("onDiscarded",this.rb(t),[this.fh(t)]),this.clean(t)},sy:function(t){this.fireEvent("onAbort",this.rb(t),[this.fh(t),this.UB(t)]),this.clean(t)}},i}),define("lscAd",["lscAe"],function(t){return function(e,n){var i=n?e:[];i.Gc=[],n||(i[0]=parseInt(e[0]),i[1]=parseInt(e[1]));for(var r=2,o=e.length;r<o;r++)e[r]?-1==e[r].length?i[r]=t.Pe:(n||(i[r]=e[r].toString()),i.Gc.push(r-1)):(n||(i[r]=""===e[r]?"":null),i.Gc.push(r-1));return i}}),define("lscAc",["Executor","LoggerManager","Assertions","lscAe","lscAd"],function(t,e,n,i,r){function o(t){this.Ey=0,this.mb={},this.He={},this.$v=1,this.ib={},this.vc={},this.eb=null,this.b=t}var s=e.getLoggerProxy(i.Oo);return o.prototype={toString:function(){return"[SubscriptionsHandler]"},Xh:function(t){this.eb=t},ap:function(t){var n=++this.Ey;s.logInfo(e.resolve(13),t),t.Sy(n,++this.$v,this),this.mb[n]=t,this.bs(t)},rs:function(t){if(this.eb&&this.eb.vb){var n=t.cd;(t.mr()||t.Af())&&n&&(this.eb.Md(n),delete this.He[n])}return s.logInfo(e.resolve(14),t),n=t.jd,t.mz(),delete this.mb[n],t},ed:function(t,i){if(this.eb&&this.eb.vb&&t.wf()){n.verifyOk(t.wf(),"Inactive subscription");var r=t.jd;if(this.ib[r]){s.logDebug(e.resolve(15),t);var o=this;this.Pi(r,function(n){s.logDebug(e.resolve(16),t),o.eb.ed(n,i)})}else s.logDebug(e.resolve(17),t),this.eb.ed(t.cd,i)}},bs:function(t){if(this.eb&&this.eb.vb&&t.Sx()){var i=t.jd;s.logDebug(e.resolve(18));var r=this.eb.Ge(t.Uw());this.ib[i]?s.logDebug(e.resolve(19)+i):(n.verifyNotOk(this.ib[i],"Promise unexpected (1)"),n.verifyNotOk(this.vc[i],"Promise unexpected (2)")),this.ib[i]=r,this.vc[i]=0,t.tz(),s.logDebug(e.resolve(20),t);var o=this;this.Pi(i,function(n){s.logDebug(e.resolve(21),t),o.mb[i]?(t.wz(n),o.He[n]=i):o.eb&&o.eb.Md(n)})}},Pi:function(t,i){n.verifyOk(this.ib[t],"Promise not found (1)"),0!==this.vc[t]&&n.verifyOk(this.vc[t],"Promise not found (2)");var r=this.ib[t];this.vc[t]++;var o=this;r.then(function(a){o.ib[t]!=r?s.logDebug(e.resolve(22)+t):(n.verifyOk(o.ib[t],"Promise not found (3)"),n.verifyOk(o.vc[t],"Promise not found (4)"),1<o.vc[t]?o.vc[t]--:(delete o.ib[t],delete o.vc[t]),null!=a&&i(a))},function(){o.ib[t]!=r?s.logDebug(e.resolve(23)+t):(delete o.ib[t],delete o.vc[t])})},qx:function(){for(var t in s.logDebug(e.resolve(24)),this.mb)this.bs(this.mb[t])},Hz:function(t){n.verifyNotOk(t.Qx(),"Table removed"),s.logDebug(e.resolve(25),t),delete this.He[t.cd],t.iz(),t.et&&delete this.mb[t.jd]},Gz:function(){for(var t in s.logDebug(e.resolve(26)),this.mb)this.Hz(this.mb[t]);this.He={}},$d:function(t,i){var r=this.He[t];if(r){var o=this.mb[r];if(this.ib[r]){s.logDebug(e.resolve(27),o);var a=this;this.Pi(r,function(o){if(s.logDebug(e.resolve(28),l),n.verifyValue(o,t,"Wrong table number"),a.He[t]==r){var l=a.mb[r];l&&i.apply(l)}})}else o&&i.apply(o)}else{o=function(n){a.Pi(n,function(r){r==t&&(s.logDebug(e.resolve(31),t),a.He[t]==n&&(r=a.mb[n])&&i.apply(r))})},s.logDebug(e.resolve(30),t),a=this;var l,u=0;for(l in this.ib){var c=this.mb[l];c&&(c.cd?n.verifyDiffValue(c.cd,t,"Unexpected table number"):(o(l),u++))}s.logDebug(e.resolve(32),u)}},NB:function(t,e){this.$d(t[0],function(){this.update(r(t,!0),e,!1)})},se:function(t,e,n){this.$d(t,function(){this.oy(e,n)})},re:function(t,e){this.$d(t,function(){this.Av(e)})},qe:function(t,e){this.$d(t,function(){this.Vu(e)})},Dv:function(t,e,n){this.$d(t,function(){this.lA(e,n)})},wB:function(t,e,n,i,r){this.$d(t,function(){this.rz(e,n,i,r)})},MB:function(t){this.$d(t,function(){})}},o}),define("EventDispatcher",["Executor","List","Inheritance"],function(t,e,n){function i(){this._callSuperConstructor(i)}function r(){this.initDispatcher()}return(r.prototype={initDispatcher:function(){this.Zh=new i,this.ft=!1},addListener:function(t){t&&!this.Zh.contains(t)&&(this.Zh.add(t={f:t,ur:!0}),this.Ql("onListenStart",[this],t,!0))},removeListener:function(t){t&&(t=this.Zh.remove(t))&&this.Ql("onListenEnd",[this],t,!0)},getListeners:function(){return this.Zh.asArray()},useSynchEvents:function(t){this.ft=!0===t},Ql:function(e,n,i,r){this.ft?this.Xp(e,n,i,!0):t.addTimedTask(this.Xp,0,this,[e,n,i,r])},Xp:function(t,n,i,r){if(i&&i.f[t]&&(r||i.ur))try{n?i.f[t].apply(i.f,n):i.f[t].apply(i.f)}catch(e){}},dispatchEvent:function(t,e){var n=this;this.Zh.forEach(function(i){n.Ql(t,e,i,!1)})}}).initDispatcher=r.prototype.initDispatcher,r.prototype.addListener=r.prototype.addListener,r.prototype.removeListener=r.prototype.removeListener,r.prototype.getListeners=r.prototype.getListeners,r.prototype.useSynchEvents=r.prototype.useSynchEvents,r.prototype.dispatchEvent=r.prototype.dispatchEvent,i.prototype={remove:function(t){if(0>(t=this.find(t)))return!1;var e=this.data[t];return e.ur=!1,this.data.splice(t,1),e},find:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].f==t)return e;return-1},asArray:function(){var t=[];return this.forEach(function(e){t.push(e.f)}),t}},n(i,e),r}),define("lsco",["Global","LoggerManager","EnvironmentStatus","ASSERT","lscAe"],function(t,e,n,i,r){function o(t,e){this.CB=e,this.Hv(t)}var s=e.getLoggerProxy(r.Me),a=!1;return o.iB=function(t){a=t},o.prototype={Ze:function(t){s.logDebug(e.resolve(39),t),this.c=t,this.c.Nb()!=this.Nl&&(this.Ka=null)},Hv:function(e){var n=this;t.sa(e,"LS_e",function(t,e,i,r,o,s,a,l){n.Ur(t,e,i,r,o,s,a,l)}),t.sa(e,"LS_t",function(){}),t.sa(e,"LS_u",function(t,e,i){n.th(t,e,i)}),t.sa(e,"LS_v",function(t,e){n.th(t,e,!0)}),t.sa(e,"LS_o",function(t,e){n.se(t,e)}),t.sa(e,"LS_n",function(t,e){n.re(t,e)}),t.sa(e,"LS_s",function(t,e){e.length?n.qe(t,e):n.Ur(6,t,e)}),t.sa(e,"LS_l",function(t,e,i,r){n.ia(t,e,i,r)}),t.sa(e,"LS_w",function(t,e,i,r,o,s,a){n.Vy(t,e,i,r,o,s,a)}),t.sa(e,"setTimeout",function(t,e){setTimeout(t,e)}),t.sa(e,"alert",function(t){"undefined"!=typeof alert?alert(t):"undefined"!=typeof console&&console.log(t)})},uc:function(t,i,r,o){var l=!a&&!n.isUnloaded()&&null!=this.c;return l&&t&&(l&=this.c.nd(t)),l&&i&&(l&=this.CB.nd(i)),l&&!o&&(l=r?l&this.c.by():l&this.c.ir()),s.isDebugLogEnabled()&&s.logDebug(e.resolve(40),l),l},bg:function(){this.c.Nb()!=this.Nl&&(this.Ka=null);var t=this.c.Gb;return s.logDebug(e.resolve(41),t),null!=this.Ka?(i.verifyOk(this.Ka<=t)||s.logError(e.resolve(33),this.Ka),this.Ka++,this.Ka<=t?(s.logDebug(e.resolve(42),this.Ka),!1):(this.c.Lr(),i.verifyValue(this.Ka,t=this.c.Gb)||s.logError(e.resolve(34),this.Ka),!0)):(this.c.Lr(),!0)},Ur:function(t,e,n,i,r,o,s,a){if(this.uc(e,null,1==t,3==t||4==t))if(1==t)this.c.fz(n,i,o,r,s,a);else if(2==t)this.c.bz(n);else if(3==t)this.c.Mj("syncerror");else if(4==t){if(t=30,null!=n){if(41==(t=n))return void this.c.Xy();if(48==t)return void this.c.Mj("expired");(0<t&&30>t||39<t)&&(t=39)}this.ia(t,e,null,"The session has been forcibly closed by the Server")}else 5==t?this.c.oz(n):6==t?this.c.uz(n):7==t?this.jz(n):this.c.qh("Unsupported Server version")},jz:function(t){this.c.Nb()!=this.Nl&&(this.Ka=null);var n=this.c.Gb;null==this.Ka?(this.Ka=t,this.Nl=this.c.Nb(),this.Ka>n&&(i.fail(),s.logError(e.resolve(35),t,n),this.c.qh("Received event prog higher than expected: "+t))):this.Ka!=t?(i.fail(),s.logError(e.resolve(36),t,this.Ka),this.c.qh("Received event prog different than expected: "+t)):t!=n&&(i.fail(),s.logError(e.resolve(37),t,n),this.c.qh("Received event prog different than actual: "+t))},th:function(t,e,n){2>e.length?this.uc(t)&&this.c.az():this.uc(null,t)&&this.bg()&&this.c.gn(e,n||!1)},re:function(t,e){this.uc(null,t)&&this.bg()&&this.c.re(e)},qe:function(t,e){this.uc(null,t)&&this.bg()&&this.c.qe(e)},se:function(t,e){this.uc(null,t)&&this.bg()&&this.c.se(e)},cz:function(t,n,r,o){if(this.uc()&&this.bg())if(i.verifyValue(r.substring(0,3),"MSG")||s.logError(e.resolve(38),r),r=r.substr(3),39==t)for(t=parseInt(o),t=(n=parseInt(n))-t+1;t<=n;t++)this.c.te(r,t);else 38==t?this.c.te(r,n):0>=t?this.c.Zm(r,t,o,n):this.c.Tf(r,t,o,n)},ia:function(t,e,n,i){null!=n&&isNaN(n)?this.cz(t,e,n,i):null!=n?this.uc(null,e)&&this.c.fn(n,t,i):this.uc(e,null,null,!0)&&(4==t?this.c.Mj("recovery.error"):this.c.Uf(t,i))},Vy:function(t,n,i,r,o,a,l){this.uc(null,4==t||5==t||9==t?null:n)&&this.bg()&&(4==t?this.c.Ym(i,n):5==t?this.c.an(i,n):8==t?this.c.onUnsubscription(i):6==t?this.c.onSubscription(i,r,o,a+1,l+1):9==t?this.c.Wf(i,n):s.logDebug(e.resolve(43),t))}},o}),define("lscN",["Executor"],function(t){function e(t,e){this.$e=t,this.zk=this.vw?this.$e.Yi:e?2*e:4e3}return e.prototype={Sc:function(e){e?this.ef():t.addTimedTask(this.zd,this.zk+Number(this.$e.xe),this)},zd:function(){this.verifySuccess()||this.ef()}},e}),define("lscO",["Inheritance","lscN"],function(t,e){function n(t,e,i,r,o){this._callSuperConstructor(n,[t,o]),this.xc=e,this.xa=i,this.mc=r}return n.prototype={verifySuccess:function(){return!this.xa.ey(this.xc)},ef:function(){this.xa.Md(this.xc,this.mc+1,this.zk)},ph:function(){this.xa.onUnsubscription(this.xc)}},t(n,e),n}),define("lscL",["Inheritance","lscN"],function(t,e){function n(t,e,i,r,o){this._callSuperConstructor(n,[t,o]),this.xc=e,this.xa=i,this.mc=r}var i,r;for(r in{Sc:!0})i=r;return n.prototype={verifySuccess:function(){return!this.xa.cy(this.xc)},ef:function(){this.xa.Ge(this.xc,this.mc+1,this.zk)},Sc:function(t){t||this.xa.xB(this.xc),this._callSuperMethod(n,i,arguments)},ph:function(){}},t(n,e),n}),define("lscM",["Inheritance","lscN","Assertions"],function(t,e){function n(t,e,i,r,o,s,a){this._callSuperConstructor(n,[t,a]),this.xc=e,this.cs=i,this.xa=r,this.Iu=o,this.mc=s}return n.prototype={verifySuccess:function(){return!this.xa.dy(this.xc,this.cs)},ef:function(){this.xa.Ks(this.xc,this.cs,this.Iu,this.mc+1,this.zk)},ph:function(){}},t(n,e),n}),define("lscp","LoggerManager lscAe Executor EnvironmentStatus lscAj ASSERT lscO lscL lscM".split(" "),function(t,e,n,i,r,o,s,a,l){function u(t,e,r,o){this.ws=1,this.o=t,this.Hl=e,this.qv=r,this.options=o,this.Za=0,this.vb=!1,this.Gy=1,this.M={},this.od=0,this.m={},this.Ad={},this.Tu=n.addRepetitiveTask(this.Ep,5e3,this),i.addBeforeUnloadHandler(this),i.addUnloadHandler(this)}function c(t,e,n){this.nn=this.Ls=this.on=!1,this.xh=0,this.Sj=!1,this.kv=n,this.nu=e,this.Bd=t}var h=t.getLoggerProxy(e.zb);return(u.prototype={toString:function(){return"[|PushPageCollectionHandler|]"},Oc:function(){return this.Za},nd:function(t){return t==this.Za},rl:function(e){var n=this.o.wc;n&&n.Nw(this.o.c.Va())>e&&h.logWarn(t.resolve(45))},Ap:function(){for(var t in this.m={},this.Ad)this.Ad[t]={}},sd:function(t){for(var e in this.M)t(this.M[e],e)},Tr:function(n,i){this.M[n]=i,this.Ad[n]={},this.od++,this.Hl.S("clientsCount",this.od),h.logDebug(t.resolve(46),this),n!==e.Jo&&(this.qv.gm(function(t,e){i.rh("lscD",t,e)}),this.options.gm(function(t,e){i.rh("lscE",t,e)}),this.Hl.gm(function(t,e){i.rh("lscC",t,e)}),i.onStatusChange(this.o.Ob()),this.vb?i.Vc(this.Za):i.ue(this.Za))},Vr:function(e){if(h.logDebug(t.resolve(47),this,e),this.M[e]){var n,i=this.Ad[e];for(n in i)this.us(n);this.M[e].H(),delete this.M[e],delete this.Ad[e],this.od--,this.Hl.S("clientsCount",this.od)}},je:function(e){return(e=this.m[e])?this.sf(e.Bd):(h.logDebug(t.resolve(48)),null)},sf:function(e){return this.M[e]?this.M[e]:(h.logDebug(t.resolve(49)),null)},Ny:function(t){return this.sd(function(e){e.onStatusChange(t)}),!0},Vc:function(){this.Ap(),this.vb=!0;var t=++this.Za;this.sd(function(e){e.Vc(t)})},ue:function(){this.Ap(),this.vb=!1;var t=++this.Za;this.sd(function(e){e.ue(t)})},onSubscription:function(t){this.m[t]&&(this.m[t].on=!1)},Vf:function(t){this.onUnsubscription(t)},cy:function(t){return!!this.m[t]&&this.m[t].on&&!this.m[t].Sj},xB:function(t){this.m[t]&&(this.m[t].Ls=!0)},onUnsubscription:function(t){if(this.m[t]){var e=this.m[t].Bd;delete this.m[t],this.Ad[e]&&delete this.Ad[e][t]}},ey:function(t){return!!this.m[t]&&this.m[t].Ls&&this.m[t].Sj},dy:function(t,e){return!!this.m[t]&&this.m[t].nn&&this.m[t].xh==e},Wf:function(t,e){this.m[t]&&e==this.m[t].xh&&(this.m[t].nn=!1)},sx:function(e,n){if(this.M[e]&&this.o.Cm()){var i=this.Gy++;this.Ad[e][i]=!0;var r=this.ow(n,i);return this.m[i]=new c(e,r.add,r.remove),h.logDebug(t.resolve(50)),this.Ge(i,1),i}o.fail(),h.logError(t.resolve(44),this,e)},Ge:function(t,e,n){this.m[t]&&(3<=e&&this.rl(1),this.m[t].on=!0,n=new a(this.options,t,this,e,n),this.o.c.gA(t,this.m[t].nu,this,2<=e,n))},us:function(t){this.m[t]&&!this.m[t].Sj&&this.Md(t,1)},Md:function(t,e,n){this.m[t]&&(3<=e&&this.rl(1),this.m[t].Sj=!0,n=new s(this.options,t,this,e,n),this.o.c.iA(t,this.m[t].kv,this,2<=e,n))},ed:function(t,e){if(this.m[t]){var n=++this.m[t].xh;this.Ks(t,n,e,1)}},Ks:function(t,e,n,i,o){if(this.m[t]&&this.m[t].xh==e){3<=i&&this.rl(1),this.m[t].nn=!0;var s=this.m[t].xh;e=r.ta({LS_table:t,LS_op:"reconf",LS_win_phase:s},n),n=new l(this.options,t,s,this,n,i,o),this.o.c.hA(t,e,n)}},Ky:function(){this.sd(function(t){t.Nr()})},Fr:function(t){var e=this.M;for(var n in this.M={},e)e[n].Sf(t)},Oy:function(t,e){this.sd(function(n){n.Uf(t,e)})},H:function(){n.stopRepetitiveTask(this.Tu),i.removeBeforeUnloadHandler(this),i.removeUnloadHandler(this)},unloadEvent:function(){this.Fr(!1)},preUnloadEvent:function(){this.Ky()},Ep:function(){var t=this;this.sd(function(e,n){e.ping().then(function(){},function(){t.Vr(n)})})},ow:function(t,e){this.ws++;var n={LS_table:e,LS_req_phase:this.ws,LS_win_phase:this.Za};return r.ta(t,n),{add:r.ta(t,{LS_op:"add"}),remove:r.ta(n,{LS_op:"delete"})}},sc:function(){this.sd(function(t){t.sc()})}}).onPushPageLost=u.prototype.Vr,u.prototype.onNewPushPage=u.prototype.Tr,u.prototype.unloadEvent=u.prototype.unloadEvent,u.prototype.preUnloadEvent=u.prototype.preUnloadEvent,u}),define("lscl",["LoggerManager","BrowserDetection","Helpers","lscAe"],function(t,e,n,i){var r=e.isProbablyFX(1.5,!0)?10:50,o=r,s=0,a=0,l=0,u=null,c=null,h=null,f=t.getLoggerProxy(i.Td);return{Pc:function(){o=r,l=a=s=0,h=c=u=null},ux:function(){u=s,c=a,h=l;var t=n.getTimeStamp();l||(l=t),6e4<=t-l&&(s=0,l=t),a&&1e3>t-a&&s++,a=t},ck:function(){c!=a&&(s=u,a=c,l=h)},tp:function(){if(0!=a){if(!o)return!1;if(s>=o)return f.logError(t.resolve(51)),o=0,!1}return!0}}}),define("lsch",["lscc","Inheritance","lscAj","Assertions"],function(t,e,n,i){function r(t){this.XB=t}var o=n.getReverse(o={ff:"encodeRequest",Oi:"encodeUnqRequest"});return r.prototype={toString:function(){return"[WSEncoder]"},om:function(t){return t.length+2},qf:function(){return""},ff:function(t,e,n){return e=this.cq(e,n),this._callSuperMethod(r,o.encodeRequest,[t,e,n])},Oi:function(t,e,n,i){return e=this.cq(e,i),this._callSuperMethod(r,o.encodeUnqRequest,[t,e,n,i])},Ni:function(t,e,n,i){return this._callSuperMethod(r,o.encodeRequest,[t,i,n])},cq:function(t,e){var r=this.XB.Sp;return null==r?t=n.ta(t,{LS_session:e}):i.verifyValue(r,e,"Unexpected session ID"),t}},e(r,t),r}),define("lscAK","lscAI Inheritance EnvironmentStatus Executor Environment LoggerManager lscAj ASSERT lsch lscAe req".split(" "),function(t,e,n,i,r,o,s,a,l,u,c){function h(t){this._callSuperConstructor(h),this.aa=p++,f.isDebugLogEnabled()&&f.logDebug(o.resolve(58)+this.aa),this.i=!1,this.Pa=this.Oj=this.Oa=this.Ri=null,this.tc=this.Xf=!1,this.Lh=null,this.hn=!1,this.Sp=null,this.ZB=t,this.W=h,this.YB=new l(this)}var f=o.getLoggerProxy(u.ob),d=null;r.isNodeJS()&&(d=c("faye-websocket").Client);var p=1,g=!1,v={};return h.Mi=function(t){t?v[t]=!0:g=!0},h.cA=function(){g=!1,v={}},h.Kx=function(){for(var t in v)return!0;return g},t.gc(h,{ua:function(t){return!(g||t&&v[t])&&(t=null,"undefined"!=typeof WebSocket?t=WebSocket:"undefined"!=typeof MozWebSocket&&(t=MozWebSocket),(!t||2!=t.prototype.CLOSED)&&(d||t))},wa:!0,va:function(){return!r.isBrowser()||"https:"!=location.protocol},ec:function(){return!0},fc:!1,Bf:!0,ic:!1}),h.prototype={toString:function(){return["[|WebSocketConnection",this.i,this.Oa,this.Ri,this.Bm(),"]"].join("|")},ea:function(){if(this.Pa){if(f.logDebug(o.resolve(59)),this.Oa=null,this.Pa)try{this.Pa.close(1e3)}catch(i){f.logDebug(o.resolve(60),i)}this.Na()}},xz:function(e,n,a,l,u){if(this.i)f.logError(o.resolve(52));else if(g)return!1;this.tc=!1,this.Lh=e.Bb,this.Oa=n;try{this.Pa=function(e){if(e=0==(e=e.toLowerCase()).indexOf("http://")?e.replace("http://","ws://"):e.replace("https://","wss://"),d){var n="";t.Eq(e).forEach(function(t){""!==n&&(n+="; "),n+=t.name+"="+t.value});var i={};return 0<n.length&&(i.headers={Cookie:n}),new d(e,"js.lightstreamer.com",i)}return"undefined"!=typeof WebSocket?new WebSocket(e,"js.lightstreamer.com"):"undefined"!=typeof MozWebSocket?new MozWebSocket(e,"js.lightstreamer.com"):(h.Mi(),null)}(this.Lh)}catch(v){return f.logDebug(o.resolve(61),v),!1}i.addTimedTask(this.yz,6e3,this,[this.Oa]);var c=this;return this.Pa.onmessage=function(t){c.cn(t,n,a)},this.Pa.onerror=function(){c.Zy(n,l)},this.Pa.onclose=function(t){c.Uy(t,n,u,l)},this.Pa.onopen=function(){if(r.isNodeJS()){var e=c.Pa.headers;e["set-cookie"]&&(e=s.Ez(e["set-cookie"]),t.bp(e))}c.hz(n)},!0},yz:function(t){if(t==this.Oa&&this.Pa&&!this.hn)try{f.logDebug(o.resolve(62)),this.Pa.close(1e3)}catch(n){f.logDebug(o.resolve(63))}},qa:function(t,e){return this.i?(f.logError(o.resolve(53)),null):!g&&(this.Oj=t,this.Ri=e,f.logDebug(o.resolve(64),t.vd()),this.Bm()&&this.Is(e),!0)},Hx:function(t){return a.verifyOk(this.Lh)?0==this.Lh.indexOf(t):(f.logError(o.resolve(54)),!1)},Bm:function(){return null!=this.Pa&&1==this.Pa.readyState},zg:function(e,n){if(!this.Bm())return null;n&&(this.nt(n),e.Si(t.Do)),f.isDebugLogEnabled()&&f.logDebug(o.resolve(65)+this.aa,e.getFile(),e.getData());try{this.Pa.send(e.getFile()+"\r\n"+e.getData())}catch(r){return f.logError(o.resolve(55),r),!1}return!0},Is:function(t){var e=this.zg(this.Oj,t);a.verifyOk(null!==e)||f.logError(o.resolve(56),t),e&&(this.i=!0,this.ZB.Ov(this.Oa))},nt:function(t){this.Ri=t},cn:function(t,e,r){this.Oa!=e||n.isUnloaded()||(f.isDebugLogEnabled()&&f.logDebug(o.resolve(66)+this.aa,t.data),this.Xf=!0,i.executeTask(r,[t.data,this.Ri]))},Zy:function(t,e){this.Oa!=t||n.isUnloaded()||(f.logError(o.resolve(57)),this.tc|=!this.Xf,i.executeTask(e,["wsc.unknown",this.Oa,!0,this.tc,!1]))},hz:function(t){this.Oa!=t||n.isUnloaded()||(this.hn=!0,f.logDebug(o.resolve(67)),this.Oj&&this.Is())},Uy:function(t,e,r,s){this.Oa!=e||n.isUnloaded()||(t=t?t.code:-1,f.logDebug(o.resolve(68),t,this.Xf),1e3==t||1001==t?(i.modifyAllTaskParams(r,[this.Oa,!0]),i.addPackedTimedTask(r,300),this.Na()):1011==t?(this.tc|=!this.Xf,r=this.Oa,this.Na(),i.executeTask(s,["wsc.server",r,!0,this.tc,!0])):(this.tc|=!this.Xf,r=this.Oa,this.Na(),i.executeTask(s,["wsc."+t,r,!0,this.tc,!1])))},Na:function(){this.hn=this.i=!1,this.Oj=this.Oa=null,this.Xf=!1,this.Lh=this.Pa=null},td:function(){return this.YB},zA:function(t){f.isDebugLogEnabled()&&f.logDebug(o.resolve(69)+t+") on WS connection oid="+this.aa),this.Sp=t}},e(h,t),h}),define("lscI",["Inheritance","lscN"],function(t,e){function n(t,e,i,r){this._callSuperConstructor(n,[r]),this.Qt=t,this.fu=i,this.g=e}return n.prototype={verifySuccess:function(){return!this.g.nd(this.fu)},ef:function(){this.g.Zi(this.Qt)},vw:function(){return this.$e.Yi},ph:function(){}},t(n,e),n}),define("RecoveryBean",["Assertions"],function(t){function e(){0==arguments.length?this.iv():(t.assert(2==arguments.length,"Recovery error (1)"),this.jv(arguments[0],arguments[1])),t.assert(this.Ex(),"Recovery error (2)")}return e.prototype={Ex:function(){return this.Wb?-1!=this.Xc:-1==this.Xc},iv:function(){this.Wb=!1,this.Xc=-1},jv:function(e,n){n.Wb?(t.assert(e,"Recovery error (3)"),this.Wb=!0,this.Xc=n.Xc):e?(this.Wb=!0,this.Xc=Date.now()):(t.assert(-1==n.Xc,"Recovery error (4)"),this.Wb=!1,this.Xc=-1)},it:function(e){return this.Wb?(t.assert(-1!=this.Xc,"Recovery error (5)"),e-(Date.now()-this.Xc)):e}},e}),define("lscr","EnvironmentStatus Helpers LoggerManager Executor lscl lscAe lscI lscG lscq ASSERT BrowserDetection lscAK Assertions RecoveryBean".split(" "),function(t,e,n,i,r,o,s,a,l,u,c,h,f,d){function p(t,r,o,s,a,l,u){this.aa=y++,v.isDebugLogEnabled()&&v.logDebug(n.resolve(87),"oid="+this.aa),this.nl=i.packTask(this.sz,this),this.ml=i.packTask(this.en,this),this.ll=i.packTask(this.dn,this),this.R=t,this.ge=r,this.Gb=0,this.a=1,this.oa=0,this.Ea=100*e.randomG(100),this.f=o,this.I=s,this.wb=o.wb,this.b=o.b,this.Ta=o.Ta,this.ga=null,this.X=o.X,this.Da=o.ud(),this.qr=this.pg=this.ig=0,this.Ce=this.Dd=this.Gm=null,this.reset(),this.ag=!1,a?(this.We=a.We,this.Gb=a.Gb,v.logDebug(n.resolve(88)+this.Gb),this.sessionId=a.sessionId,this.Gd=a.Gd,this.Ea=a.Ea,this.ig=a.ig,this.In=a.In,this.ym=a.ym,this.Xb=new d(u,a.Xb)):(f.assert(!u,"Recovery unexpected"),this.Xb=new d)}var g=[,"OFF","CREATING","CREATED","FIRST_PAUSE","FIRST_BINDING","PAUSE","BINDING","RECEIVING","STALLING","STALLED","SLEEP"],v=n.getLoggerProxy(o.Td),b=n.getLoggerProxy(o.Me),y=1;return p.Sk=1,p.Qd=2,p.Eo=3,p.Go=4,p.Fo=5,p.yt=7,p.Kt=8,p.eC=9,p.gC=10,p.Ht=6,p.Qk=11,p.prototype={reset:function(){v.isDebugLogEnabled()&&v.logDebug(n.resolve(89)+this.aa),this.We=0,this.sessionId=this.Gd=null,this.ig=this.Gb=0,this.Ld=this.bd=this.gl=!1,this.bo="",this.ad=!1,this.Xb=new d,this.ag=!1},eg:function(){},Db:function(t){v.isDebugLogEnabled()&&v.logDebug(n.resolve(90)+this.aa+"):",g[this.a],"->",g[t]);var e=this.a;return this.a=t,this.oa++,t=this.oa,this.a!=e&&this.f.oB(this.I),t==this.oa},lh:function(){this.Ea++},nd:function(t){return this.Ea==t},qm:function(){var t=this.a;return 1==t?o.cc:11==t?this.ag?o.vg:o.wg:2==t?this.Xb.Wb?o.vg:o.CONNECTING:3==t||4==t||5==t?o.Ha+this.Aq():10==t?o.Oe:o.Ha+this.vq()},i:function(){return 1!=this.a&&2!=this.a&&11!=this.a},by:function(){return 2==this.a||7==this.a||5==this.a},ir:function(){return 3==this.a||8==this.a||9==this.a||10==this.a},$x:function(){return!this.R},Va:function(){return null==this.Gd?this.In:this.Gd},Nb:function(){return this.sessionId},Eb:function(t,e){var i=1==this.a||11==this.a;return r.tp()?(0==i&&(v.logDebug(n.resolve(92),this),this.ra("new."+(e||""),!1,!1)),v.logInfo(n.resolve(81),this),this.reset(),this.js(),this.Ta.S("sessionId",null),this.Ta.S("serverSocketName",null),this.Ta.S("serverInstanceAddress",null),this.In=this.Ta.Kh,this.ym=this.b.Jn,this.lh(),!0):(v.logDebug(n.resolve(91),this),this.ra("mad",i,!0),!1)},Zd:function(){if(!r.tp())return this.ra("madb",!1,!0),!1;if(this.We++,u.verifyOk(6==this.a||4==this.a||1==this.a)||v.logError(n.resolve(70)),1==this.a){if(!this.Db(4))return!1;this.js()}return this.hh(!0),this.lh(),this.R?v.logDebug(n.resolve(93),this):v.logInfo(n.resolve(82),this),!0},xs:function(t,e,i){this.I=t,this.bd||(v.logDebug(n.resolve(94),this),this.ad=!1,2==this.a||11==this.a||1==this.a?this.f.cf(this.I,e,i):6==this.a||4==this.a?this.f.eo(this.I,e,i):(this.bd=!0,this.Ld=i,this.bo=e,this.Zi(e)))},$z:function(t){this.I=t,this.ad||(v.logDebug(n.resolve(95),this),u.verifyOk(2!=this.a&&11!=this.a&&1!=this.a)||v.logError(n.resolve(71)),6==this.a||4==this.a?this.f.dt(this.I):(this.ad=!0,this.Zi("slow")))},js:function(){1!=this.a&&11!=this.a||this.wb.Lz(),this.R&&this.ge&&this.wb.As()},hh:function(t){this.a!=p.Sk&&this.a!=p.Qd&&this.a!=p.Qk&&(0<this.b.gg?this.X.mB(this.b.gg,t):this.X.tB(t))},ra:function(t,e,i){1!=this.a&&2!=this.a&&11!=this.a?(this.f.Lj(this.Va()),e||this.eA(t),this.I=this.f.Yr(this.I,i),this.Ta.S("sessionId",null),this.Ta.S("serverSocketName",null),this.Ta.S("serverInstanceAddress",null),this.b.ys(),v.logInfo(n.resolve(83),this,t)):this.Xb.Wb&&(this.Xb=new d,this.I=this.f.Yr(this.I,i)),this.kg(!i)},kg:function(t){this.lh(),this.reset(),this.Db(t?11:1),v.logDebug(n.resolve(96),this)},wv:function(t){if(this.Db(3==this.a?4:6)){this.lh();var e=t;this.R&&(t>=this.b.xe||this.b.S("pollingInterval",t),e=this.Pw()),4!=this.a&&e&&0<e?(v.logDebug(n.resolve(97)),this.Ya("pause",e)):this.zd(this.oa)}},zd:function(t,e,i){t==this.oa&&(v.isDebugLogEnabled()&&v.logDebug(n.resolve(98),g[this.a],i),t="timeout."+this.a+"."+this.We,11==this.a&&i&&(t=i),2==this.a?(e=this.Xb.it(this.b.ik),this.Xb.Wb&&0<e?(v.isDebugLogEnabled()&&v.logDebug(n.resolve(99)+e),this.f.Dh(this.I,t,this.Ld)):(v.logDebug(n.resolve(100)),this.ra("create.timeout",!0,!1),this.b.vx(),this.Ya("retryDelay",this.Ig(),"create.timeout"))):3==this.a||7==this.a||10==this.a||11==this.a?this.ad||this.bd?this.f.cf(this.I,t+".switch",this.Ld):!this.R||this.ge?this.ag?(v.logDebug(n.resolve(101)),this.f.Dh(this.I,t,this.Ld)):(v.logDebug(n.resolve(102)),this.Eb(this.sessionId,t)):this.f.cf(this.I,t,!1):5==this.a?(this.pg--,this.ad||this.bd?this.f.cf(this.I,t+".switch",this.Ld):0<this.pg||this.ge?this.Eb(this.sessionId,t):this.R?this.f.cf(this.I,t+".switch",this.Ld):this.Ub(this.I,t)):6==this.a?(this.R&&this.wb.EB(e),this.Zd("loop")):4==this.a?this.Zd("loop1"):8==this.a?this.IB():9==this.a?this.HB():(u.fail(),v.logError(n.resolve(72),this)))},Rn:function(){return this.ge||this.f.Rn()},Ub:function(t,e){var n=this.Rn();n&&this.ra("giveup",1==this.a||11==this.a,!0),this.f.Ub(t,e,n)},ia:function(t,i,r,o,s,a,l){var u=this.Xb.it(this.b.ik);v.isDebugLogEnabled()&&v.logDebug(n.resolve(103),g[this.a],t,"closedOnServer="+i,"fromWS="+r,"unableToOpen="+o,"noImplAvailable="+s,"possibleLoop="+a,"tryRecovery="+l,"timeLeft="+u),r=l&&0<u,s?(v.logDebug(n.resolve(104)),this.ra(t,i,!1),this.Ya("retryDelay",this.Ig(),t)):o&&!r?(v.logDebug(n.resolve(105)),this.ra(t,i,!1),this.zd(this.oa,0,"openfail")):8==this.a||10==this.a||9==this.a||7==this.a||6==this.a?r?(v.logDebug(n.resolve(106)),this.ag=!0,this.Db(11),this.Ya("firstRetryMaxDelay",e.randomG(this.b.Xi),t)):(v.logDebug(n.resolve(107)),this.ra(t,i,!1),a?this.Ya("retryDelay",this.Ig(),t):this.Ya("firstRetryMaxDelay",e.randomG(this.b.Xi),t)):2!=this.a&&3!=this.a&&5!=this.a||(this.Xb.Wb&&0<u&&!i?(v.logDebug(n.resolve(108)),this.ag=!0,this.Db(11),this.Ya("retryDelay",this.Ig(),t)):this.bd&&!this.ge||c.isProbablyAndroidBrowser()?(v.logDebug(n.resolve(109)),this.f.cf(this.I,this.bo+".error",this.Ld)):(v.logDebug(n.resolve(110)),this.ra(t,i,!1),this.Ya("retryDelay",this.Ig(),t)))},Xm:function(t){this.ga&&this.ga.Wv&&this.ga.Wv(),8==this.a||9==this.a||10==this.a||3==this.a?this.bd?this.f.eo(this.I,this.bo,this.Ld):this.ad?this.f.dt(this.I):this.wv(t):(u.fail(),v.logError(n.resolve(74),this))},ja:function(){2==this.a?this.Db(3)&&this.GB():3!=this.a&&(7==this.a||5==this.a||9==this.a||10==this.a||8==this.a?this.Db(8)&&this.JB():(u.fail(),v.logError(n.resolve(75),this)))},Ji:function(){if(r.ux(),this.Ce=e.getTimeStamp(),u.verifyOk(1==this.a||11==this.a)||v.logError(n.resolve(76)),!this.Db(2))return!1;this.Ya("currentConnectTimeout",this.b.df),this.ga=this.f.xq()},Gg:function(){if(this.Ce=e.getTimeStamp(),u.verifyOk(6==this.a||4==this.a)||v.logError(n.resolve(77),this),!this.Db(6==this.a?7:5))return!1;this.Ya("bindTimeout",this.dw()),this.ga=this.f.xq()},Ya:function(t,e,r){return v.isDebugLogEnabled()&&v.logDebug(n.resolve(111)+e+" ["+t+"]"),i.addTimedTask(this.zd,e,this,[this.oa,e,r])},JB:function(){if(0<this.b.Ef){var t=e.getTimeStamp();50>t-this.qr&&this.Gm?i.modifyTaskParam(this.Gm,0,this.oa):(this.qr=t,this.Gm=this.Ya("keepaliveInterval",this.b.Ef))}},IB:function(){this.Db(9)&&this.Ya("stalledTimeout",this.b.uk)},HB:function(){this.Db(10)&&(this.ag=!0,this.Ya("reconnectTimeout",this.b.Dd))},GB:function(){u.verifyValue(this.a,3)||v.logError(n.resolve(78)),this.Ya("stalledTimeout",this.b.uk)},dw:function(){return this.R?this.b.df+this.b.oj:0<this.pg&&null!=this.Dd?this.Dd:this.b.df},Pw:function(){if(4==this.a)return this.b.xe;var t=this.b.xe;if(this.Ce){var n=e.getTimeStamp()-this.Ce;t=t>n?t-n:0}return t},Ig:function(){var t=e.getTimeStamp()-this.Ce;return t>this.b.bk?0:this.b.bk-t},Gu:function(){this.Ce||(u.fail(),v.logError(n.resolve(79),this),this.Dd=null);var t=e.getTimeStamp()-this.Ce,i=this.b.df;this.Dd=(t>i?i:t)+i},sz:function(e,n){!t.isUnloaded()&&this.nd(n)&&""!==e&&(null==e?(r.ck(),this.ia("nullresp")):this.ga.Vt(n,e))},en:function(e,n,i,o,s){!t.isUnloaded()&&this.nd(n)&&(r.ck(),this.ia("failure."+e,!1,i,o,null,s,!0))},dn:function(t,e){this.nd(t)&&(r.ck(),this.ia("wrongend",null,e,null,null,null,!0))},Ev:function(){this.ia("eval")},pz:function(){this.bd||this.ad||this.f.qz(this.I)},vz:function(){b.isDebugLogEnabled()&&b.logDebug(n.resolve(112)),this.ja(),8==this.a&&(this.pg=1)},oz:function(t){b.isDebugLogEnabled()&&b.logDebug(n.resolve(113),t),this.ig=t,this.b.S("maxBandwidth",t)},Xy:function(){b.isDebugLogEnabled()&&b.logDebug(n.resolve(114)),this.ia("error41",!0)},az:function(){b.isDebugLogEnabled()&&b.logDebug(n.resolve(115)),this.ja(),this.f.sc()},fz:function(t,e,i,r,o,s){b.isDebugLogEnabled()&&b.logDebug(n.resolve(116));var a=this.Va(),c=a;null==e||this.ym||(c=e=l.Yu(c,e)),this.Gd=c,a!=this.Gd&&(this.f.Lj(a),this.f.bn(this.Gd)),r&&this.b.S(this.R?"idleTimeout":"keepaliveInterval",r),2==this.a?(null!=this.sessionId&&this.sessionId!=t&&(v.logInfo(n.resolve(84)+t+" over "+this.sessionId),this.reset()),this.sessionId=t):(u.verifyValue(this.sessionId,t)||v.logError(n.resolve(80)),this.Gu()),this.wb.nB(this.R),this.ja(),3==this.a?this.Xb.Wb||(this.f.Vc(i),this.Ta.S("sessionId",t),this.Ta.S("serverSocketName",o),this.Ta.S("serverInstanceAddress",this.Gd),this.gl&&(this.Ci(),this.gl=!1)):(this.f.sh(i),this.sh()),s&&this.f.$y(s)},uz:function(t){b.isDebugLogEnabled()&&b.logDebug(n.resolve(117)),this.wb.zB(t),this.ja()},bz:function(t){b.isDebugLogEnabled()&&b.logDebug(n.resolve(118)),this.Xm(t)},Mj:function(t){r.ck(),this.ia(t,!0)},qh:function(t){b.isDebugLogEnabled()&&b.logDebug(n.resolve(119),t),this.ra("end",!0,!0)},gn:function(t,e){this.ja(),this.f.gn(t,e)},re:function(t){this.ja(),this.f.re(t)},qe:function(t){this.ja(),this.f.qe(t)},se:function(t){this.ja(),this.f.se(t)},Ym:function(t,e){this.ja(),this.f.Ym(t,e)},an:function(t,e){this.ja(),this.f.an(t,e)},Zm:function(t,e,n,i){this.ja(),this.f.Zm(t,e,i,n)},te:function(t,e){this.ja(),this.f.te(t,e)},Tf:function(t,e,n,i){this.ja(),this.f.Tf(t,e,i,n)},fn:function(t,e,n){this.ja(),this.f.fn(t,e,n)},Uf:function(t,e){this.qh(e),this.f.Uf(t,e)},onUnsubscription:function(t){this.ja(),this.f.onUnsubscription(t)},onSubscription:function(t,e,n,i,r){this.ja(),this.f.onSubscription(t,e,n,i,r)},Wf:function(t,e){this.ja(),this.f.Wf(t,e)},Lr:function(){this.Gb++},Zi:function(t){v.logInfo(n.resolve(85),this);var e=l.yw(t,this.wb.dj());t=new s(t,this,this.Ea,this.b),this.X.Dc(this.sessionId,e,a.Lk,t)},eA:function(t){v.logInfo(n.resolve(86),this),t=l.rw(this.sessionId,t),this.jm(this.sessionId,t,a.Rd,null,this.Va())},Ci:function(){1!=this.a&&11!=this.a&&(2==this.a?this.gl=!0:0>=this.ig&&0>=this.b.Tb||this.ig!=this.b.Tb&&this.X.Dc(null,l.lw(this.b),a.Jk,null))},sh:function(){},jm:function(){throw Error("abstract method")}},p}),define("lscAJ",[],function(){function t(){this.sn=!1,this.Uj=0,this.xo=!1}return t.prototype={gq:function(t,e){if(!e&&!this.Vx(t))return null;0==this.Uj&&"/*"==t.substring(0,2)&&(this.xo=!0);var n=-1;if(e&&!this.xo)n=t.length;else{if(0>(n=t.lastIndexOf(";\n")))return null;n+=2}var i=t.substring(this.Uj,n);return 0==this.Uj&&this.xo&&(i=i.substring(2,i.length)),this.Uj=n,i},Zn:function(t){return this.gq(t,!1)},Yn:function(t){return this.gq(t,!0)},Vx:function(t){if(this.sn)return!0;var e=t.indexOf("setPhase("),n=t.indexOf("setPhase(ph)");if(-1<e){if(-1>=n)return this.sn=!0;if(-1<(e=t.indexOf("setPhase(",e+1))&&t.lastIndexOf(";\n")>e)return this.sn=!0}return!1}},t}),define("lscAN","lscAI Inheritance Executor BrowserDetection EnvironmentStatus lscAJ Environment LoggerManager lscAj lscAe req".split(" "),function(t,e,n,i,r,o,s,a,l,u,c){function h(){this._callSuperConstructor(h),this.aa=v++,d.isDebugLogEnabled()&&d.logDebug(a.resolve(121)+this.aa),this.i=!1,this.ub=this.Y=this.hc=this.K=null,this.Xn=!1,this.W=h}var f,d=a.getLoggerProxy(u.ob),p=s.isBrowser()?2:3,g=!0;s.isNodeJS()&&(f=c("xmlhttprequest-cookie").XMLHttpRequest);var v=1,b=null;return t.gc(h,{ua:function(){return null!==b||(i.isProbablyIE(9,!0)?b=!1:"undefined"!=typeof XMLHttpRequest?(void 0!==(new XMLHttpRequest).withCredentials||s.Rx())&&(b=!0):!s.isBrowser()&&f&&(b=!0),null===b&&(b=!1)),b},Bf:function(){return!i.isProbablyOldOpera()&&!i.isProbablyPlaystation()},wa:!0,va:!0,ec:function(){return!!s.isNodeJS()||"file:"!=u.sg||!s.isBrowserDocument()},fc:!1,ic:!0}),h.prototype={toString:function(){return["[|XSXHRConnection",this.i,this.K,this.hc,"]"].join("|")},ea:function(){if(this.i){if(d.isDebugLogEnabled()&&d.logDebug(a.resolve(122)+this.aa),this.K=null,this.Y)try{this.Y.abort()}catch(i){d.logDebug(a.resolve(123))}this.Na()}},qa:function(t,e,i,r,s){if(this.i)return null;this.Y=f?new f:new XMLHttpRequest,this.ub=new o,i=n.packTask(this.cn,this,[e,i,s,r]),this.Y.onreadystatechange=function(t){return function(){n.executeTask(t)}}(i),this.K=e,this.hc=null,d.isDebugLogEnabled()&&d.logDebug(a.resolve(124)+this.aa,t.getFile(),t.getData());try{this.Y.open(t.Se,t.vd(),!0),this.Y.withCredentials=t.Op;var l=t.bm;if(l)for(var u in l)this.Y.setRequestHeader(u,l[u]);this.Y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.Y.send(t.getData()),this.i=!0}catch(v){return d.logError(a.resolve(120)+this.aa,v),!1}return!0},cn:function(t,e,i,o){this.K!=t||r.isUnloaded()||(t=null,this.yf()&&e&&(3==this.Y.readyState?t=this.ub.Zn(this.Y.responseText):4==this.Y.readyState&&(t=this.ub.Yn(this.Y.responseText)),d.isDebugLogEnabled()&&t&&d.logDebug(a.resolve(125)+this.aa,t),null!=t&&n.executeTask(e,[t,this.K])),4==this.Y.readyState&&(this.yf()||(this.Xn?(o&&(d.isDebugLogEnabled&&d.logDebug(a.resolve(126)+this.aa),n.executeTask(o,["status0",this.K,!1,g,!1])),g=!g,this.Xn=!1):e&&n.executeTask(e,[null,this.K])),d.isDebugLogEnabled&&d.logDebug(a.resolve(127)+this.aa),4!=this.Y.readyState&&""!=t||!i||n.addTimedTask(this.Of,100,this,[this.K,i]),this.Na()))},Of:function(t,e){n.executeTask(e,[t])},Na:function(){this.i=!1,this.K=null,this.Y&&(delete this.Y.onreadystatechange,delete this.Y)},yf:function(){try{if(null===this.hc){if(this.Y.readyState<p)return!1;this.hc=200<=this.Y.status&&299>=this.Y.status,0==this.Y.status&&(this.Xn=!0)}return this.hc}catch(i){return d.logDebug(a.resolve(128)+this.aa,i),!1}}},e(h,t),h}),define("lscAE","lscAI Inheritance Executor EnvironmentStatus lscAJ LoggerManager lscAe".split(" "),function(t,e,n,i,r,o,s){function a(){this._callSuperConstructor(a),this.i=!1,this.za=this.ub=this.K=null,this.Vj=0,this.W=a}function l(t){return function(){n.executeTask(t)}}var u=o.getLoggerProxy(s.ob),c=null;return t.gc(a,{ua:function(){return null!==c?c:c="undefined"!=typeof XDomainRequest},Bf:!0,wa:!0,va:!1,ec:!1,fc:!1,ic:!1}),a.prototype={toString:function(){return["[|IEXSXHRConnection",this.i,this.K,"]"].join("|")},ea:function(){if(this.i){if(u.logDebug(o.resolve(130)),this.K=null,this.za)try{this.za.abort()}catch(i){u.logDebug(o.resolve(131))}this.Na()}},qa:function(t,e,i,s,a){if(this.i)return null;this.Vj=0,this.za=new XDomainRequest,this.ub=new r,a=n.packTask(this.bA,this,[e,i,a]);var h=n.packTask(this.lp,this,[e,s,"xdr.err"]);s=n.packTask(this.lp,this,[e,s,"xdr.timeout"]),i=n.packTask(this.ls,this,[e,i,!1]),this.za.onload=l(a),this.za.onerror=l(h),this.za.ontimeout=l(s),this.za.onprogress=l(i),this.K=e,u.isDebugLogEnabled()&&u.logDebug(o.resolve(132),t.getFile(),t.getData());try{this.za.open(t.Se,t.vd()),this.za.send(t.getData()),this.i=!0}catch(c){return u.logError(o.resolve(129),c),!1}return!0},lp:function(t,e,r){this.K!=t||i.isUnloaded()||(u.logDebug(o.resolve(133)),n.executeTask(e,[r,t,!1,0==this.Vj,!1]))},ls:function(t,e,r){this.K!=t||i.isUnloaded()||(this.Vj++,e&&(t=r?this.ub.Yn(String(this.za.responseText)):this.ub.Zn(String(this.za.responseText)),u.isDebugLogEnabled()&&u.logDebug(o.resolve(134),t),null!=t&&n.executeTask(e,[t,this.K])))},bA:function(t,e,r){this.K!=t||i.isUnloaded()||(this.ls(t,e,!0),this.Na(),u.logDebug(o.resolve(135)),r&&n.addTimedTask(this.Of,100,this,[r,t]))},Of:function(t,e){n.executeTask(t,[e])},Na:function(){this.i=!1,this.ub=this.K=null,this.Vj=0,this.za&&(this.za.onload=null,this.za.onerror=null,this.za.ontimeout=null,this.za=this.za.onprogress=null)}},e(a,t),a}),define("lscAA",["lscAI","Inheritance","Executor"],function(t,e,n){function i(){this._callSuperConstructor(i)}return t.gc(i,{ua:!1,wa:!1,va:!1,ec:!1,fc:!1,ic:!1}),i.prototype={qa:function(t,e,i){return i&&n.addTimedTask(this.Sc,1e3,this,[i,e]),!0},Sc:function(t,e){n.executeTask(t,["",e])}},e(i,t),i}),define("IFrameHandler",["BrowserDetection","EnvironmentStatus","Environment"],function(t,e,n){var i=t.isProbablyAWebkit()&&t.isProbablyChrome(32,!0)?null:"about:blank",r={},o={createFrame:function(e,o){if(!n.isBrowserDocument())return null;var s=document.getElementsByTagName("BODY")[0];if(!s)return null;o=o||i;var a=document.createElement("iframe");a.style.visibility="hidden",a.style.height="0px",a.style.width="0px",a.style.display="none",a.name=e,a.id=e,t.isProbablyIE()||t.isProbablyOldOpera()?(a.src=o,s.appendChild(a)):(s.appendChild(a),a.src=o);try{if(a.contentWindow){try{a.contentWindow.name=e}catch(l){}return r[e]=a.contentWindow,r[e]}return document.frames&&document.frames[e]?(r[e]=document.frames[e],r[e]):null}catch(l){return null}},getFrameWindow:function(t,e,n){return e&&!r[t]&&this.createFrame(t,n),r[t]||null},disposeFrame:function(t){if(r[t]){try{document.getElementsByTagName("BODY")[0].removeChild(document.getElementById(t))}catch(n){}delete r[t]}},removeFrames:function(){for(var t in r)try{document.getElementsByTagName("BODY")[0].removeChild(document.getElementById(t))}catch(n){}r={}}};return o.createFrame=o.createFrame,o.getFrameWindow=o.getFrameWindow,o.disposeFrame=o.disposeFrame,o.removeFrames=o.removeFrames,e.addUnloadHandler(o.removeFrames),o}),define("lscg",["lscd","Inheritance"],function(t,e){function n(){}return n.prototype={om:function(){return 15},rm:function(t){return t?encodeURIComponent(t).length-t.length:0},uo:function(t){return"LS_querystring="+encodeURIComponent(t)}},e(n,t),n}),define("lscf",["lscg","Inheritance"],function(t,e){function n(){}return n.prototype={toString:function(){return"[LegacyEncoder]"},qf:function(){return".html"},uo:function(t){return t}},e(n,t),n}),define("lscAB","lscAI lscAA Inheritance IFrameHandler Executor Environment LoggerManager lscf lscAe lscAj".split(" "),function(t,e,n,i,r,o,s,a,l,u){function c(t){this._callSuperConstructor(c),t&&(this.target=u.ek(t),i.getFrameWindow(t,!0)),this.i=!1,this.W=c,this.wj=0}var h=new a,f=s.getLoggerProxy(l.ob);return t.gc(c,{ua:function(){return o.isBrowserDocument()},wa:!0,va:!0,ec:!0,fc:!0,ic:!1}),c.prototype={toString:function(){return["[|FormConnection",this.target,"]"].join("|")},ea:function(){f.logDebug(s.resolve(137)),this.i=!1,this.wj++},qa:function(t,n,i,o){if(this.i)return null;this._callSuperMethod(c,this.oi,[t,n,i,o]);try{this.wj++;var a=this.Yv();if(!a)return!1;f.isDebugLogEnabled()&&f.logDebug(s.resolve(138),t.getFile(),t.getData()),a.Mc.method=t.Se,a.Mc.target=this.target,a.Mc.action=t.vd(),a.Wj.value=t.getData(),a.Mc.submit(),r.addTimedTask(this.lv,1e3,this,[a.Mc,this.wj]),this.i=!0}catch(e){return f.logError(s.resolve(136),e),!1}return!0},Yv:function(){var t=document.getElementsByTagName("BODY")[0];if(!t)return null;var e={};e.Mc=document.createElement("FORM");try{e.Mc.acceptCharset="utf-8"}catch(r){}return e.Mc.style.display="none",e.Wj=document.createElement("INPUT"),e.Wj.type="hidden",e.Wj.name="LS_querystring",e.Mc.appendChild(e.Wj),t.appendChild(e.Mc),e},lv:function(t,e){t.parentNode.removeChild(t),e==this.wj&&(this.i=!1)},td:function(){return h}},n(c,e),c}),define("lscAC","lscAI lscAA lscAH Inheritance IFrameHandler Executor EnvironmentStatus Environment lscAB LoggerManager lscf lscAe lscAj".split(" "),function(t,e,n,i,r,o,s,a,l,u,c,h,f){function d(t){this._callSuperConstructor(d),this.target=f.ek(t),this.Ec=0,this.i=!1,this.$i=null,r.getFrameWindow(this.target,!0),this.W=d}var p=new c,g=u.getLoggerProxy(h.ob);return t.gc(d,{ua:function(){return a.isBrowserDocument()},wa:!1,va:!1,ec:!0,fc:!0,Bf:!0,ic:!1}),d.prototype={toString:function(){return["[|FrameConnection",this.i,this.target,this.Ec,this.$i,"]"].join("|")},Rt:function(t){t==this.Ec&&(this.Ec++,this.i&&(this.Uo(this.Ec,n.lu),this.i=!1))},ea:function(){g.logDebug(u.resolve(141));var t=++this.Ec;o.addTimedTask(this.Rt,0,this,[t])},Uo:function(t,e,n,i,o){if(t==this.Ec&&!s.isUnloading()){this._callSuperMethod(d,this.oi,[e,n,i,o]),this.Ec++,g.isDebugLogEnabled()&&g.logDebug(u.resolve(142),e.getFile(),e.getData());try{var a=r.getFrameWindow(this.target);if(null==a)return g.logError(u.resolve(139)),!1;a.location.replace(e.kx()),this.i=!0}catch(l){return g.logError(u.resolve(140),l),!1}return!0}},my:function(t,e,n,i){return this.$i||(this.$i=new l(this.target)),this.Ec++,(t=this.$i.qa(t,e,n,i))&&(this.i=!0),t},qa:function(t,e,i,r){if(t.method==n.mi)return this.my(t,e,i,r);var s=++this.Ec;return o.addTimedTask(this.Uo,0,this,[s,t,e,i,r]),!0},td:function(){return p}},i(d,e),d}),define("Dismissable",["Executor"],function(t){function e(){this.initTouches()}return(e.prototype={clean:function(){},initTouches:function(t){this.ko=this.vf=0,this.timeout=t||5e3},SB:function(t){t==this.ko&&0>=this.vf&&this.clean()},dismiss:function(){this.vf--,0>=this.vf&&t.addTimedTask(this.SB,this.timeout,this,[this.ko])},touch:function(){this.ko++,0>this.vf&&(this.vf=0),this.vf++}}).touch=e.prototype.touch,e.prototype.dismiss=e.prototype.dismiss,e.prototype.clean=e.prototype.clean,e.prototype.initTouches=e.prototype.initTouches,e}),define("lscy","LoggerManager lscAC lscAH lscAj Executor EnvironmentStatus IFrameHandler Global Environment Inheritance Dismissable lscAe Helpers".split(" "),function(t,e,n,i,r,o,s,a,l,u,c,h,f){function d(t){this.path=t,this.Dg=f.randomG(),this.status=l.isBrowserDocument()&&(window.ActiveXObject||"undefined"!=typeof XMLHttpRequest)?2:-1,this.wi=++g,this.Ua="LS_AJAXFRAME_"+this.wi,this.initTouches(),this.Bu()}var p=t.getLoggerProxy(h.ob),g=0,v={};return d.bw=function(t){return v[t]||(v[t]=new d(t),v[t].qa(!1)),v[t]},d.prototype={toString:function(){return["[|AjaxFrameHandler",this.status,"]"].join("|")},Bu:function(){var t=this;a.sa(this.wi,"LS_a",function(e){t.Ty(e)},"A")},clean:function(){this.status=-1,a.Fi(this.wi,"LS_a","A");var t=this.path;v[t]&&delete v[t],s.disposeFrame(this.Ua)},Pc:function(t){this.Dg++,this.status=t?3:0},qa:function(o){if(-1!=this.status&&(p.logDebug(t.resolve(143)),!this.Xa())){this.Pc(o),o=this.Dg,i.gr()&&p.logDebug(t.resolve(144));var s="id="+this.wi+"&";i.kj()||(s+="domain="+i.nc()+"&"),s=new n(this.path,"xhr.html",s),new e(this.Ua).qa(s),r.addTimedTask(this.Uv,1e4,this,[o]),r.addTimedTask(this.ox,2e3,this,[o])}},Ty:function(){o.isUnloaded()||1==this.status||(p.logDebug(t.resolve(145)),this.status=1)},Uv:function(e){-1==this.status||this.Dg!=e||this.Xa()||(p.logDebug(t.resolve(146)),this.qa(!0))},ox:function(e){-1==this.status||this.Dg!=e||this.Xa()||(p.logDebug(t.resolve(147)),this.status=4)},disable:function(){this.status=-1,this.Dg++},Xa:function(){return 1===this.status},dr:function(){return-1===this.status||3===this.status||4===this.status},jA:function(n,i,r,o){if(this.dr())return!1;if(1!==this.status)return null;var a;p.logDebug(t.resolve(148),n);try{a=!1!==s.getFrameWindow(this.Ua).sendRequest(n,i,r,o)}catch(e){a=!1,p.logDebug(t.resolve(149),e)}return!1===a&&this.disable(),a}},u(d,c,!0,!0),d}),define("lscAL","lscAI Inheritance lscy EnvironmentStatus Executor Environment LoggerManager lscAe".split(" "),function(t,e,n,i,r,o,s,a){function l(){this._callSuperConstructor(l),this.error=this.response=this.hc=this.sender=this.K=null,this.i=!1,this.a=0,this.LS_x=this.Yy,this.Rc=null,this.W=l}var u=s.getLoggerProxy(a.ob);return t.gc(l,{ua:function(){return o.isBrowserDocument()&&(window.ActiveXObject||"undefined"!=typeof XMLHttpRequest)},wa:!1,va:!1,ec:!0,fc:!1,ic:!0}),l.prototype={toString:function(){return["[|XHRConnection",this.i,this.a,this.K,"]"].join("|")},qa:function(t,e,i,r,o){if(this.Rc=n.bw(t.Bb),this.Rc.dr())return this.Rc.dismiss(),!1;if(!this.Rc.Xa()||this.i)return null;this.Rc.touch(),this.K=e,this.hc=null,this.response=i,this.error=r,this.Kp=o,this.a++;var a=this,l=this.a;return this.LS_h=function(){a.Wr(l)},this.i=!0,u.isDebugLogEnabled()&&u.logDebug(s.resolve(151),t.getFile(),t.getData()),this.Rc.jA(t.vd(),t.getData(),this,t.bm)},ea:function(){if(this.i){this.Na(),u.logDebug(s.resolve(152));try{this.sender&&this.sender.abort&&this.sender.abort()}catch(i){u.logError(s.resolve(150),i)}this.Gi()}},yf:function(){try{if(null===this.hc){if(2>this.sender.readyState)return!1;this.hc=200<=this.sender.status&&299>=this.sender.status}return this.hc}catch(i){return u.logDebug(s.resolve(153),i),!1}},Wr:function(t){i.isUnloaded()||t!=this.a||!this.sender||4!=this.sender.readyState&&"complete"!=this.sender.readyState||(t=null,this.yf()&&"/*"==(t=(t=this.sender.responseText).toString()).substring(0,2)&&(t=t.substring(2,t.length-2)),u.isDebugLogEnabled()&&u.logDebug(s.resolve(154),t),this.response&&r.executeTask(this.response,[t,this.K]),r.addTimedTask(this.Of,100,this,[this.K]),this.Na(),this.Gi())},Of:function(t){r.executeTask(this.Kp,[t])},Yy:function(){i.isUnloaded()||(this.Rc.disable(),u.logDebug(s.resolve(155)),this.Na(),this.error&&r.executeTask(this.error,["xhr.unknown",this.K,!1,!1,!1]),this.Gi())},Gi:function(){try{delete this.sender.onreadystatechange}catch(i){u.logDebug(s.resolve(156),i)}try{delete this.sender}catch(i){u.logDebug(s.resolve(157),i)}this.response=this.error=null,this.Rc&&this.Rc.dismiss()},Na:function(){this.i=!1,this.a++}},e(l,t),l}),define("lscAM","lscAI lscAL Inheritance EnvironmentStatus Executor BrowserDetection lscAJ Environment LoggerManager lscAe".split(" "),function(t,e,n,i,r,o,s,a,l,u){function c(){this._callSuperConstructor(c),this.ub=null,this.W=c}var h=l.getLoggerProxy(u.ob),f=null;return t.gc(c,{ua:function(){return null!==f?f:f=!!a.isBrowserDocument()&&!o.isProbablyIE()&&"undefined"!=typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).addEventListener},Bf:function(){return!o.isProbablyOldOpera()},wa:!1,va:!1,ec:!0,fc:!1,ic:!0}),c.prototype={toString:function(){return["[|XHRStreamingConnection",this.i,this.a,this.K,"]"].join("|")},qa:function(t,e,n,i,r){return t=this._callSuperMethod(c,this.oi,[t,e,n,i,r]),h.logDebug(l.resolve(158)),t&&(this.ub=new s),t},Wr:function(t){!i.isUnloaded()&&t==this.a&&this.sender&&(t=null,this.yf()&&this.response&&(3==this.sender.readyState?t=this.ub.Zn(this.sender.responseText):4==this.sender.readyState&&(t=this.ub.Yn(this.sender.responseText)),h.isDebugLogEnabled()&&h.logDebug(l.resolve(159),t),null!=t&&r.executeTask(this.response,[t,this.K])),4==this.sender.readyState&&(!this.yf()&&this.response&&r.executeTask(this.response,[null,this.K]),h.isDebugLogEnabled()&&h.logDebug(l.resolve(160)),4!=this.sender.readyState&&""!=t||!this.Kp||r.addTimedTask(this.Of,100,this,[this.K]),this.Na(),this.Gi()))}},n(c,e),c}),define("lscAg",["Executor","IFrameHandler","Global","BrowserDetection","lscAj"],function(t,e,n,i,r){function o(i){this.cm=i,this.ready=!1,this.Mm=r.nc(),this.Yp=this.lq=!1,this.Cj=-1,this.$p=i=r.ek(this.Aw()+"_"+this.Mm),t.addTimedTask(this.Qu,3e3,this);var o="about:blank";this.Fj()&&(this.Cj=++s,o=n.sa(this.Cj,"EQCallback_"+i,this.mx(),"Q"),o="javascript:(function(){document.open();document.domain='"+r.nc()+"';parent."+o+"(window);document.close();})()");try{this.ee=e.getFrameWindow(i,!0,o),this.By()?t.addTimedTask(this.Tl,1,this):this.Fj()||this.Tl()}catch(a){}}var s=0;return o.prototype={verify:function(){return!0},H:function(){t.addTimedTask(e.disposeFrame,0,e,[this.$p]),null!==this.Cj&&n.Fi(this.Cj,"EQCallback_"+this.$p,"Q"),this.Yp=!0},Uh:function(){return!(this.lq||this.Yp||r.nc()!=this.Mm&&this.Um())},Xa:function(){return this.ready},Tl:function(){this.Fj()?this.ee.document.write("<script>document.domain='"+this.Mm+"';<\/script>"):i.isProbablyOldOpera()||this.ee.document.open(),this.Fj()||i.isProbablyOldOpera()||this.ee.document.close(),this.ready=this.verify()},mx:function(){var t=this;return function(e){t.ee=e,t.Tl()}},Fj:function(){return i.isProbablyIE()&&!r.kj()},Um:function(){return i.isProbablyIE()||i.isProbablyOldOpera()||i.isProbablyKonqueror(4.4,!0)},By:function(){return i.isProbablyKonqueror()},Xt:function(e,n){this.lq=!0,this.cm&&(this.cm.Vb=[e,n],t.executeTask(this.cm))},Qu:function(){this.ready||this.Xt(5)}},o}),define("lscAG","LoggerManager Executor lscAg Inheritance Dismissable lscAe Helpers".split(" "),function(t,e,n,i,r,o,s){function a(t,e){this.cu=t,this._callSuperConstructor(a,[e]),this.Og=null,this.initTouches()}function l(t,e,n){try{t.appendChild(e),e.src=n}catch(s){}}var u=t.getLoggerProxy(o.ob);return a.prototype={toString:function(){return"[JSONPFrame]"},Au:function(n,i){try{var r=this.mw();if(!r)return r;var s=this.ee.document.createElement("script");s.id=n,s.type="text/javascript",e.addTimedTask(l,50,null,[r,s,i])}catch(o){return u.logDebug(t.resolve(161),o),!1}return!0},pv:function(t){var n=this.ee.document.getElementById(t);e.addTimedTask(function(){n&&n.parentNode&&n.parentNode.removeChild(n)},4e3)},clean:function(){this.H()},mw:function(){return this.Og?this.Og:(this.Og=this.ee.document.getElementsByTagName("BODY")[0],this.Og?this.Og:this.mc?!(2e3<s.getTimeStamp()-this.mc)&&null:(this.mc=s.getTimeStamp(),null))},Aw:function(){return"LS6__JF_"+this.cu}},i(a,n),i(a,r,!0,!0),a}),define("lsce",["lscg","Inheritance"],function(t,e){function n(){}return n.prototype={toString:function(){return"[JSONPEncoder]"}},e(n,t),n}),define("lscAF","lscAI lscAA Inheritance Helpers Environment lscAG Executor LoggerManager lsce lscAe".split(" "),function(t,e,n,i,r,o,s,a,l,u){function c(t){this._callSuperConstructor(c),this.originalTarget=t,this.target=t+i.randomG(),this.Hb=new o(this.target,s.packTask(this.Ar,this)),this.Qi=0,this.Cn="script_"+i.randomG(),this.mc=null,this.ip=!1,this.mq=!0,this.W=c}var h,f;for(f in{hk:!0})h=f;var d=a.getLoggerProxy(u.ob),p=/(^|&)LS_domain=[^&]*/,g=new l;return t.gc(c,{ua:function(){return r.isBrowserDocument()},wa:!0,va:!0,ec:!0,fc:!0,ic:!1}),c.prototype={toString:function(){return["[|JSONPConnection",this.target,this.Cn,this.mc,"]"].join("|")},Ar:function(){this.ip=!0},hk:function(t,e,n,i,r,o){var s;return(this.mq||10==this.Qi)&&t.Si("LS_force_head=true&"),this.mq=!1,0==(s=(s=t.getData()).replace(p,"")).indexOf("&")&&(s=s.substring(1)),t.setData(s),this._callSuperMethod(c,h,[t,e,n,i,r,o])},qa:function(t,e,n,r){if(this.ea(),this.ip)return!1;if((!this.Hb.Uh()&&this.Hb.Um()||10==this.Qi)&&(this.Hb.H(),this.Qi=0,this.target=this.originalTarget+i.randomG(),this.Hb=new o(this.target,s.packTask(this.Ar,this))),!this.Hb.Xa())return null;this.Qi++,d.isDebugLogEnabled()&&d.logDebug(a.resolve(162),t.getFile(),t.getData());var l=t.vd(),u=t.getData();return(l=this.Hb.Au(this.Cn,l+"?"+u))?(this.Hb.touch(),this._callSuperMethod(c,this.oi,[t,e,n,r]),!0):l},ea:function(){if(this.Hb.dismiss(),this.Hb.Uh()||!this.Hb.Um()){d.logDebug(a.resolve(163));try{this.Hb.pv(this.Cn)}catch(i){}}},td:function(){return g}},n(c,e),c}),define("lscz","LoggerManager lscAN lscAE lscAM lscAL lscAC lscAF lscAB lscAA lscAK lscAe".split(" "),function(t,e,n,i,r,o,s,a,l,u,c){function h(t,e,n){this.Nm=t,this.Fu=e,this.np=n,this.Tj=-1}function f(){return!1}var d=t.getLoggerProxy(c.ob);h.rC=function(){u.ua=f},h.sC=function(){e.ua=f,n.ua=f,i.ua=f,r.ua=f},h.qC=function(){a.ua=f,o.ua=f},h.No=[],c=[e,n,i,o];for(var p=0;p<c.length;p++)c[p].Bf()&&h.No.push(c[p]);h.zt=[e,n,r,s,a],h.tg=[e,n,r,s,o],h.Nx=function(t){return t.W===o},h.FC=function(t){return t.W.prototype.Sc!=l.prototype.Sc},h.xf=function(e,n,i,r,o,s,a){if(d.isDebugLogEnabled()&&d.logDebug(t.resolve(164),n.name||n.toString().match(g)[1]),!n.ua(e))return d.logDebug(t.resolve(165)),!1;if(i&&!n.wa())return d.logDebug(t.resolve(166)),!1;if(r&&!n.ec())return d.logDebug(t.resolve(167)),!1;if(o&&!n.va())return d.logDebug(t.resolve(168)),!1;if(s&&!n.ic())return d.logDebug(t.resolve(169)),!1;if(e=a){t:{for(e=0;e<a.length;e++)if(a[e]==n){a=!0;break t}a=!1}e=!a}return e?(d.logDebug(t.resolve(170)),!1):(d.isDebugLogEnabled()&&d.logDebug(t.resolve(171),n.name||n.toString().match(g)[1]),!0)},h.prototype={wm:function(){return this.Tj<this.Nm.length-1},Lq:function(i,r,o,s,a){for(d.isDebugLogEnabled()&&d.logDebug(t.resolve(172),"serverToUse",i,"isCrossSite",r,"areCookiesRequired",o,"isCrossProtocol",s,"hasExtraHeaders",a);this.wm();){this.Tj++;var l=this.Nm[this.Tj];if(!((this.np||this.Fu)&&l===n||this.np&&l===e)&&this.xf(i,l,r,o,s,a))return l}return null},xf:function(t,e,n,i,r,o){return h.xf(t,e,n,i,r,o,this.Nm)},Bc:function(){d.logDebug(t.resolve(173)),this.Tj=-1}};var g=/^function\s?([^\s(]*)/;return h}),define("lscAD",["lscAC","BrowserDetection","IFrameHandler","Executor"],function(t,e,n,i){function r(){this.Ej=!1}return r.prototype={Jz:function(e){(this.Ej=e===t)&&n.getFrameWindow("LS6__HOURGLASS",!0)},qB:function(){i.addTimedTask(this.rB,900,this)},rB:function(){if(this.Ej&&(this.Ej=!1,!e.isProbablyAKhtml()&&!e.isProbablyIE(6,!0)&&!e.isProbablyIE(9,!1)))try{window.open("about:blank","LS6__HOURGLASS",null,!0)}catch(i){}}},r}),define("lsct","lscAe Inheritance lscr lscz lscAD lscAH lscAj lscq Executor LoggerManager BrowserDetection EnvironmentStatus lscAE lscAN".split(" "),function(t,e,n,i,r,o,s,a,l,u,c,h,f,d){function p(t,e,n,i,r,o,s){this._callSuperConstructor(p,arguments),this.Te=this.Dj=this.kc=this.la=this.Qp=null,this.eg(o)}function g(t){t&&t!=y||(y++,b=1)}var v=s.getReverse(v={Eb:"createSession",Zd:"bindSession",kg:"shutdown",Gg:"bindSent",ja:"onEvent",ia:"onErrorEvent"}),b=1,y=1,m=u.getLoggerProxy(t.Td);return u.getLoggerProxy(t.Me),p.prototype={eg:function(t){this.Qp=new i(i.tg,!1,t=t||!this.b.Ii),this.kc=this.R?new i(i.tg,!1,t):new i(i.No,!this.b.vo,t),this.la=null},vq:function(){return this.R?t.fd:t.Ke},Aq:function(){return this.R?t.fd:t.ug},toString:function(){return["[|SessionHTTP","oid="+this.aa,this.R,this.ge,this.a,this.oa,this.Ea,this.pg,this.sessionId,this.Gb,this.bd,this.ad,"]"].join("|")},Eb:function(t,e){return!!this._callSuperMethod(p,v.createSession,[t,e])&&(this.Ml(this.oa,e,t),!0)},Ml:function(t,e,n){if(t==this.oa){if(this.f.Wp(),s.gr()){if(0>=b)return m.logDebug(u.resolve(176)),void l.addTimedTask(this.Ml,3e3,this,[t,n,"offline"]);0==--b&&l.addTimedTask(g,2e4,null,[y])}null!==(t=this.am(n,this.Ml,e,!1))&&(t?this.Ji():!1===t&&(m.logWarn(u.resolve(175)),this.ia("no_impl_available",!0,!1,!1,!0)))}},Zd:function(t){return!!this._callSuperMethod(p,v.bindSession,[t])&&(this.Te&&this.Te.ea(),this.Pv(),this.zi(this.oa,t),!0)},Pv:function(){if(!h.isLoaded()&&(null===this.b.tk&&(c.isProbablyAndroidBrowser()||c.isProbablyApple())||!0===this.b.tk)){var t=this.We,e=this;h.addOnloadHandler(function(){l.addTimedTask(function(){t==e.We&&e.a==n.Kt&&e.Zi("spinfix")},e.b.Tn)})}},zi:function(t,e){if(t==this.oa){this.Dj||this.R||(this.Dj=new r);var n=this.am(null,this.zi,e,!1);null!==n&&(n?this.Gg():!1!==n||this.R||this.Ub(this.I,"streaming.unavailable"))}},Dh:function(){this.lh();var t=this.am(null,this.Dh,"network.error",!0);null!==t&&(t?this.Ji():!1===t&&(m.logError(u.resolve(174)),this.ia("no_impl_available",!0,!1,!1,!0)))},kg:function(t){this._callSuperMethod(p,v.shutdown,[t]),this.Te&&this.Te.ea()},bj:function(e,i,r,s){var l=this.a==n.Sk||this.a==n.Qk,u=new o(this.Va()+t.Mk);u.Mh(this.b.Qb()),u.Oh(this.b.Xg(l));var c=!u.va()&&!u.wa();return e=s?a.Rw(this.Ea,this.sessionId,this.b,i,this.wb.dj(),c,this.Gb):a.Ow(this.Ea,this.sessionId,this.b,this.Ta,l,this.R,e,i,this.wb.dj(),r,c),u.setData(e),u},am:function(t,e,r,s){var c=this.a==n.Sk||this.a==n.Qk,h=!c,d=this.bj(t,r,!0,s),p=this.Va();this.X.cl(null),this.la&&this.la.W==f&&(this.la=null);var g=c?this.Qp:this.kc;this.la&&!g.xf(p,this.la.W,d.wa(),this.b.Qb(),d.va(),this.b.ih(c))&&(g.Bc(),this.la=null);for(var v=!1,b=(this.R?"LS6__POLLFRAME":"LS6__PUSHFRAME")+"_"+this.Da;(this.la||g.wm())&&!1===v;){if(!this.la){if(!(v=g.Lq(p,d.wa(),this.b.Qb(),d.va(),this.b.ih(c))))return g.Bc(),!1;this.la=new v(b)}if(d.mk(i.Nx(this.la)&&h?o.Pt:o.mi),d.De(s?a.Sw(this.la.td().qf()):a.Oq(c,this.R,this.la.td().qf())),null===(v=this.la.hk(d,this.Ea,this.nl,this.ml,this.ll,this.Da)))return m.logDebug(u.resolve(178)),l.addTimedTask(e,50,this,[this.oa,r,t]),null;!1===v?this.la=null:(m.logDebug(u.resolve(179)),g.Bc(),this.Te=this.la)}return v},Gg:function(){this._callSuperMethod(p,v.bindSent),this.Tm()&&this.Dj.Jz(this.Te.W)},Tm:function(){return!this.R},ia:function(t,e,n,i,r,o){!i||this.la.W!=d&&this.la.W!=f||this.f.Wy(this.I),this._callSuperMethod(p,v.onErrorEvent,arguments)},ja:function(){this.a==n.Fo&&g(),!this.Tm()||this.a!=n.yt&&this.a!=n.Fo||this.Dj.qB(),this._callSuperMethod(p,v.onEvent)},jm:function(t,e,n,i,r){this.X.Dc(t,e,n,i,r)}},e(p,n),p}),define("lscu","lscAe lscr lsct Inheritance lscAK lscz lscq Executor LoggerManager ASSERT lscAH lscAj".split(" "),function(t,e,n,i,r,o,s,a,l,u,c,h){function f(t,e,n,i,r,o,s){this._callSuperConstructor(f,arguments),this.V=null,this.ac=1,this.Yf=null,this.lf=!1}var d=h.getReverse(d={Ji:"createSent",zd:"onTimeout",Xm:"onLoop",en:"onStreamError",dn:"onStreamEnd",ia:"onErrorEvent",kg:"shutdown",Ub:"onSessionGivesUp"}),p=l.getLoggerProxy(t.Td);return f.prototype={toString:function(){return["[|SessionWS","oid="+this.aa,this.R,this.ge,this.a,this.oa,this.Ea,this.ac,this.pg,this.sessionId,this.Gb,this.V,this.bd,this.ad,"]"].join("|")},ae:function(t){this.ac=t},vq:function(){return this.R?t.Qe:t.xg},Aq:function(){return t.ug},jn:function(){u.verifyValue(this.ac,1)||p.logError(l.resolve(180)),this.Yf=this.Ea,this.V=new r(this);var e=this.Va(),n=new c(e+t.Mk);return n.Mh(this.b.Qb()),n.Oh(this.b.Xg(!1)),o.xf(e,r,n.wa(),this.b.Qb(),n.va(),this.b.ih(!1))&&(p.logDebug(l.resolve(187)),this.V.xz(n,this.Yf,this.nl,this.ml,this.ll))?(this.X.cl(this.V),this.ae(2),!0):(this.ae(5),!1)},Ji:function(){this._callSuperMethod(f,d.createSent),this.b.Vl&&!this.lf&&this.jn()},zi:function(t,e){if(t==this.oa)if(this.lf=!1,1==this.ac?this.jn():2!=this.ac||this.V.Hx(this.Va())||(p.logWarn(l.resolve(185)),this.V.ea(),this.ae(1),this.jn()),6==this.ac)this.Ub(this.I,"ws.early.closed");else if(5==this.ac)this.Ub(this.I,"ws.notgood");else if(3==this.ac)r.Mi(this.Va()),this.Ub(this.I,"ws.early.openfail");else{var n=this.bj(null,e,!1,!1),i=!1;n.De(s.Oq(!1,this.R,this.V.td().qf()));var o=!1;2==this.ac?(i=this.V.hk(n,this.Ea,this.nl,this.ml,this.ll,this.Da),o=!0):4==this.ac?i=this.V.zg(n,this.Ea):(u.fail(),p.logError(l.resolve(181),this)),null===i?(p.logDebug(l.resolve(188)),a.addTimedTask(this.zi,50,this,[t,e])):!1===i?(p.logWarn(l.resolve(186)),this.Ub(this.I,"ws.false")):o||(p.logDebug(l.resolve(189)),this.Gg())}},Ov:function(t){this.Yf==t&&(p.logDebug(l.resolve(190)),this.Gg(),this.ae(4))},zd:function(t,n,i,r){t==this.oa&&(this.a==e.Qd&&(this.lf=!0),this._callSuperMethod(f,d.onTimeout,[t,n,i,r]))},Xm:function(t){this._callSuperMethod(f,d.onLoop,[t]),this.V&&this.V.nt(this.Ea)},en:function(t,n,i,r,o){i?n==this.Yf&&this._callSuperMethod(f,d.onStreamError,[t,this.Ea,i,r,o]):(this.a==e.Qd&&(this.lf=!0),this._callSuperMethod(f,d.onStreamError,arguments))},dn:function(t,n){n?t==this.Yf&&(this.a==e.Gt||this.a==e.Qd||this.a==e.Eo?this.ia("ws.early.end",!1,!0):(u.verifyDiffValue(this.a,e.Go)||p.logError(l.resolve(182),this),this._callSuperMethod(f,d.onStreamEnd,[this.Ea,n]))):(this.a==e.Qd&&(this.lf=!0),this._callSuperMethod(f,d.onStreamEnd,arguments))},ia:function(t,n,i,o,s,a){i?(u.verifyDiffValue(this.ac,1)||p.logError(l.resolve(183),this),this.ae(o?3:6),this.a==e.Gt||this.a==e.Qd||this.a==e.Eo?p.logDebug(l.resolve(191),this):this.a==e.Go?(p.logDebug(l.resolve(192),this),o&&r.Mi(this.Va()),this.Ub(this.I,"ws.error."+t)):this.R&&this.a==e.Ht?(u.verifyNotOk(o)||p.logError(l.resolve(184),this),p.logDebug(l.resolve(193),this),this.ra(t,n,!1),this.zd(this.oa,0,"ws.broken.wait")):this._callSuperMethod(f,d.onErrorEvent,arguments)):(this.a==e.Qd&&(this.lf=!0),this._callSuperMethod(f,d.onErrorEvent,arguments))},kg:function(t){this._callSuperMethod(f,d.shutdown,[t]),this.V&&(this.Yf=null,this.V.ea(),this.V=null,this.X.cl(null)),this.ae(1)},Tm:function(){return!1},Ub:function(t,e){r.Mi(this.Va()),this._callSuperMethod(f,d.onSessionGivesUp,[t,e])},sh:function(){this.V.zA(this.sessionId)},jm:function(t,e,n,i,r){this.X.tu(t,e,n,i,r)}},i(f,n),f}),define("lscv",["LoggerManager","Global","Helpers","ASSERT","lscAe"],function(t,e,n,i,r){function o(t){this.Yj=0,this.Ma=null,this.kh=!1,this.b=t,this.g=null}var s=t.getLoggerProxy(r.Me),a=t.getLoggerProxy(r.Td);return o.prototype={toString:function(){return["[","lscv",this.Ma,this.Yj,.5,7e3,"]"].join("|")},Px:function(t){return null!=this.Ma&&this.Ma>t},Ze:function(t){this.g=t},dj:function(){return null!=this.Ma&&0<this.Ma?Math.round(this.Ma):null},As:function(){this.Ma=null,this.kh=!1},Lz:function(){this.kh=!1},EB:function(t){this.ht(t)},zB:function(e){i.verifyOk(this.g.ir())||s.logError(t.resolve(194)),this.g.$x()&&(this.ht(1e3*e)?this.b.Sn&&this.g.pz():this.g.vz())},nB:function(t){t||this.As(),this.Yj=n.getTimeStamp()},ht:function(e){var i=n.getTimeStamp();return!this.Yj||(e=i-this.Yj-e,null==this.Ma?(this.Ma=e,a.logDebug(t.resolve(197)),!1):2e4<e&&e>2*this.Ma&&(this.kh=!this.kh)?(a.logInfo(t.resolve(195)),7e3<this.Ma):(this.Ma=.5*this.Ma+.5*e,60>this.Ma?(this.Ma=0,a.logDebug(t.resolve(198)),!1):this.Px(7e3)?(a.logInfo(t.resolve(196)),!0):(a.logDebug(t.resolve(199)),!1)))}},o}),define("lscH",["LoggerManager","lscG","ASSERT","lscAe"],function(t,e,n,i){function r(t){this.pa=[],this.keys={},this.Ve=t,this.xy=0}var o=t.getLoggerProxy(i.Mo);return r.prototype={toString:function(){return["[|ControlRequestBatch",this.Ve,this.pa.length,"]"].join("|")},al:function(n,i){this.keys[n]=i,this.pa.push(n),function(){if(this.Ve==e.hd){var n=i.LS_sequence,r=i.LS_msg_prog;if(null!=n&&null!=r)for(var s=0,a=this.pa.length-1;s<a;s++){var l=this.pa[s];n==l.LS_sequence&&r==l.LS_msg_prog&&(o.isDebugLogEnabled()&&o.logErrorExc(Error("backtrace"),"Duplicated message","seq=",n,"prog=",r,"ptr=",i===l),o.logError(t.resolve(200),"seq=",n,"prog=",r))}}}()},uu:function(t,e){this.keys[t]?this.keys[t]=e:this.al(t,e)},Ue:function(i,r){var s,a=i.Bg;if(a==e.hd||a==e.gd||a==e.Sd)return this.Ve!=a?(n.fail(),o.logError(t.resolve(201),this),!1):(a==e.Sd?this.uu("H",i):this.al(this.xy++,i),!0);if(this.Ve!=e.di)return n.fail(),o.logError(t.resolve(202),this),!1;switch(a){case e.Jk:s="C";break;case e.Lk:s="F";break;case e.Co:s="X"+i.getKey();break;default:s=i.getKey()}var l=this.keys[s];if(o.logDebug(t.resolve(206),this,s,i),l){if(a==e.Jk||a==e.Lk)return void(r||(o.logDebug(t.resolve(207)),this.$n(s,i)));if(a==e.Pk)return void(l.Ae?(o.logDebug(t.resolve(208)),r||this.$n(s,i)):l.Bg==e.Pk?o.logDebug(t.resolve(209)):(o.logDebug(t.resolve(210)),n.verifyNotOk(r)||o.logError(t.resolve(203),this),r||this.Vz(s)));if(a!=e.Rd)return void(r||(o.logDebug(t.resolve(213)),this.$n(s,i)));for(;l&&i.Ae!=l.Ae;)o.logDebug(t.resolve(211)),l=this.keys[s+="_"];if(l)return void o.logDebug(t.resolve(212))}o.logDebug(t.resolve(214)),this.al(s,i)},getLength:function(){return this.pa.length},$n:function(t,e){this.keys[t]=e},yn:function(e){if(this.pa.length<=e)return o.logError(t.resolve(204)),null;var n=this.pa[e];return this.pa.splice(e,1),e=this.keys[n],delete this.keys[n],e},Vz:function(e){if(!this.keys[e])return o.logError(t.resolve(205)),null;for(var n=0;n<this.pa.length;n++)if(this.pa[n]==e)return this.yn(n)},shift:function(){return this.yn(0)},pop:function(){return this.yn(this.pa.length-1)},Ff:function(){return this.um(this.pa.length-1)},Zg:function(){return this.um(0)},um:function(t){return 0>=this.pa.length?null:this.keys[this.pa[t]]},nf:function(){return this.Ve}},r}),define("lscF","lscG lscH LoggerManager lscAH Executor lscz lscAe ASSERT".split(" "),function(t,e,n,i,r,o,s,a){function l(){this.a=this.request=this.Ic=this.Ba=null}function u(t,e,n,i){this.xm=this.Li=this.yj=this.Ll=this.Pm=this.Ja=this.kc=null,this.Fh=this.wd=this.Fb=0,this.a=this.status=this.N=1,this.bi=0,this.s=null,this.Lv=!1,this.Ac=t,this.b=e,this.V=null,this.eg(i),this.Bc()}var c=n.getLoggerProxy(s.Mo),h={1:"IDLE",2:"STAND BY",3:"WAITING RESP"};return u.prototype={toString:function(){return["[|ControlConnectionHandler",h[this.status],this.s,this.Fh,this.Fb,"]"].join("|")},PA:function(t){this.Fh=t,c.logDebug(n.resolve(237),this)},mB:function(t,e){e?(this.wd=this.Fb=t,c.logInfo(n.resolve(223),this)):0==this.wd||t<this.wd?(this.Fb=t,c.logInfo(n.resolve(224),this)):(this.Fb=this.wd,c.logInfo(n.resolve(225),this)),1==this.status&&this.Js(this.N)},Js:function(e){1==this.status&&this.N==e&&0!=this.Fb&&(c.logDebug(n.resolve(238),this),this.Dc(null,"",t.Sd))},tB:function(t){t?(c.logInfo(n.resolve(226),this),this.wd=this.Fb=0):0==this.wd?(c.logInfo(n.resolve(227),this),this.Fb=0):(c.logInfo(n.resolve(228),this),this.Fb=this.wd)},eg:function(t){this.kc=new o(o.zt,!1,!this.b.Ii||t),this.Ja=null},ea:function(){c.logDebug(n.resolve(239)),this.Ja&&this.Ja.ea()},fa:function(t){this.N++,1==t&&0<this.Fb&&r.addTimedTask(this.Js,this.Fb,this,[this.N]),c.isDebugLogEnabled()&&c.logDebug(n.resolve(240)+h[this.status]+" -> "+h[t]),this.status=t},Bc:function(){c.logDebug(n.resolve(241),this),this.Fh=0,this.Pm=new e(t.hd),this.Ll=new e(t.di),this.xm=new e(t.Sd),this.V=null,this.wd=this.Fb=0,this.yj||(this.yj=new e(t.gd)),this.Li||(this.Li=new e(t.di)),this.$j=[this.Pm,this.Ll,this.yj,this.Li,this.xm],this.a++;var i=this.s?this.s.nf():null;null!==i&&i!==t.Rd&&i!==t.gd?(a.verifyDiffValue(this.status,1)||c.logError(n.resolve(215)),this.ea(),this.s=null,this.fa(1,"_reset"),this.Hc(!1,"reset1")):null===i&&(a.verifyValue(this.status,1)||c.logError(n.resolve(216)),a.verifyValue(this.s,null)||c.logError(n.resolve(217)),this.Hc(!1,"reset2"))},cl:function(t){t?c.logDebug(n.resolve(242),this):this.V&&c.logDebug(n.resolve(243),this),this.V=t},Dc:function(t,e,n,i,o){r.addTimedTask(this.ep,0,this,[this.a,t,e,n,i,o])},tu:function(t,e,n,i,r){this.ep(this.a,t,e,n,i,r)},Pu:function(e,n){return n==t.Rd||n==t.gd||this.a===e},gp:function(e,n){e==t.hd?this.Pm.Ue(n):e==t.gd?this.yj.Ue(n):e==t.Rd?this.Li.Ue(n):e==t.Sd?this.xm.Ue(n):this.Ll.Ue(n)},ep:function(e,i,r,o,s,a){this.Pu(e,o)&&(c.logInfo(n.resolve(229),this,r),e=new t(r,s,o,i,a),this.gp(o,e),1==this.status?this.Hc(!0,"add"):c.logDebug(n.resolve(244),this))},Hc:function(t,e){!0===t?(c.logDebug(n.resolve(245),t,this),this.Up(this.N,e)):r.addTimedTask(this.Up,!1===t?0:t,this,[this.N,"async."+e])},Up:function(t,e){if(t==this.N){for(var i=0;1>i;){i++,this.fa(2,"dequeueControlRequests"),c.logDebug(n.resolve(246),e,this);var r=null;if(null!=this.s?(c.logDebug(n.resolve(247)),r=this.Hs(this.s)):(c.logDebug(n.resolve(248)),r=this.dA()),1==r)c.logInfo(n.resolve(230)),this.s=null;else{if(2==r)return c.logInfo(n.resolve(231)),void this.Hc(200,"later");if(3==r)return c.logWarn(n.resolve(220)),this.s&&this.s.Wm(!0),this.s=null,void this.Hc(!1,"no");if(4==r)return c.logInfo(n.resolve(232)),this.fa(3,"dequeueControlRequests"),this.s&&this.s.Wm(),void this.Hc(4e3,"http");if(5!=r)return c.logInfo(n.resolve(234)),this.ea(),void this.fa(1,"dequeueControlRequests");c.logInfo(n.resolve(233)),this.fa(3,"dequeueControlRequests"),this.s&&this.s.Wm(),this.s=null,this.fa(1,"dequeueControlRequests")}}this.Hc(!1,"limit")}},dA:function(){for(var t=0;t<this.$j.length;){if(this.bi=this.bi<this.$j.length-1?this.bi+1:0,0<this.$j[this.bi].getLength())return this.Hs(this.$j[this.bi]);t++}return null},Hs:function(e){if(e.Ve==t.hd)for(var o=0,l=e.pa.length;o<l;o++){var u=e.pa[o],h=u.LS_sequence,f=u.LS_msg_prog;if(null!=h&&null!=f)for(var d=o+1,p=e.pa.length;d<p;d++){var g=e.pa[d];h==g.LS_sequence&&f==g.LS_msg_prog&&(c.isDebugLogEnabled()&&c.logErrorExc(Error("backtrace"),"Duplicated message","seq=",h,"prog=",f,"ptr=",u===g),c.logError(n.resolve(218),"seq=",h,"prog=",f))}}if(o=this.Ac.Va(),l=this.b.Qb(),u=this.b.Xg(!1),(h=e.Zg())?((h=new i((h.Ae&&!0!==h.Ae?h.Ae:o)+s.Mk)).Mh(l),h.Oh(u),l=h):l=null,null==l)return c.logDebug(n.resolve(249)),1;if(c.logDebug(n.resolve(250)),u=!1,this.V){if(c.logDebug(n.resolve(251)),null==(u=this.Rp(e,this.V)))return c.logDebug(n.resolve(252)),1;if(l.De(u.getFile()),l.setData(u.getData()),!1!==(u=this.V.zg(l)))return null===u?2:5;this.V=null}for(this.Ja&&!this.kc.xf(o,this.Ja.W,l.wa(),this.b.Qb(),l.va(),this.b.ih(!1))&&(this.kc.Bc(),this.Ja=null);this.Ja||this.kc.wm();){if(!this.Ja){if(!(u=this.kc.Lq(o,l.wa(),this.b.Qb(),l.va(),this.b.ih(!1))))return c.logWarn(n.resolve(221),this.Ja),this.kc.Bc(),3;this.Ja=new u("LS6__CONTROLFRAME"),c.logDebug(n.resolve(253),this.Ja)}if(null==(u=this.Rp(e,this.Ja)))return c.logDebug(n.resolve(254)),1;if(l.De(u.getFile()),l.setData(u.getData()),l.mk(u.Se),this.s.MA(this.N),this.Ja.ea(),this.Lv&&(l.pb=l.pb.replace(/LS_session=.*&/g,"LS_session=FAKE&")),!1!==(u=this.Ja.qa(l,this.s.a,r.packTask(this.kz,this),r.packTask(this.ia,this))))return null===u?(c.logDebug(n.resolve(256)),2):(this.kc.Bc(),4);c.logDebug(n.resolve(255)),this.Ja=null}return!1!==u&&(a.fail(),c.logError(n.resolve(219))),3},Rp:function(t,e){var n=e.td();if(null==this.s)this.s=new l,this.s.Rs(n),this.s.fill(t,this.Fh,this.Ac.Nb(),this.b.Qb(),this.b.Xg(!1));else if(this.s.Cy(n)&&(this.s.Rs(n),n=this.s.Pz(this.Fh,this.Ac.Nb(),this.b.Qb(),this.b.Xg(!1))))for(var i=n.nf();0<n.getLength();)this.gp(i,n.shift());return this.s.isEmpty()?this.s=null:this.s.request},kz:function(e,i){if(this.s&&i==this.s.a){c.logInfo(n.resolve(235),i),this.fa(1,"onReadyForNextRequest");var r=this.s.Zg().Bg;this.s=null,r==t.Rd||this.Ix(e)?this.Hc(!1,"ready4next"):this.Ac.AB()}},Ix:function(t){return""===t||null===t.match(/^window.LS_lastError\[\d+] = "sync error";$/m)},ia:function(t,e){this.s&&e==this.s.a&&(c.logInfo(n.resolve(236),this,t),this.fa(1,"onErrorEvent"),this.s=null,this.Hc(!1,"error"))}},l.prototype={toString:function(){return this.Ba?this.Ba.toString():null},nf:function(){return this.Ba?this.Ba.nf():null},Zg:function(){return this.Ba?this.Ba.Zg():null},getLength:function(){return this.Ba?this.Ba.getLength():0},shift:function(){return this.Ba?this.Ba.shift():null},Cy:function(t){return t!=this.Ic},Rs:function(t){this.Ic=t},fill:function(t,i,r,o,s){if(!(0>=t.getLength()))if(this.Ba=new e(t.nf()),this.request=this.Ic.zx(t,o,s),o="",null===(s=this.Ic.encode(t,r,!0)))this.request=this.Ba=null;else{var a=this.Ic.om(this.request.getFile()),l=this.Ic.rm(s)+s.length;0<i&&l+a>i&&c.logWarn(n.resolve(222),o);do{o+=s,this.Ba.Ue(t.shift()),a+=l,0<t.getLength()&&(s=this.Ic.encode(t,r))&&(l=this.Ic.rm(s)+s.length)}while(s&&(0==i||a+l<i)&&0<t.getLength());this.request.setData(this.Ic.uo(o))}},Pz:function(t,e,n,i){var r=this.Ba;return this.Ba=null,this.fill(r,t,e,n,i),0<r.getLength()?r:null},MA:function(t){this.a=t},isEmpty:function(){return 0>=this.getLength()},Wm:function(t){for(var e=0,n=null;n=this.Ba.um(e);)(n=n.cj())&&r.addTimedTask(n.Sc,0,n,[t]),e++}},u}),define("lscJ",["Inheritance","lscN","lscAj"],function(t,e){function n(t,e,i,r,o,s,a){this._callSuperConstructor(n,[e]),this.Hn=r,this.Tc=o,this.fk=s,this.a=i,this.Ac=t,this.TB=a}var i,r;for(r in{Sc:!0})i=r;return n.prototype={Sc:function(t){this._callSuperMethod(n,i,[t]),t||(this.Ac.kA(this.fk,this.Tc),this.TB||this.Ac.Hy(this.fk,this.Tc))},verifySuccess:function(){return!this.Ac.Ou(this.a)||!this.Hn.J[this.Tc]||null==this.Hn.J[this.Tc].Bh},ef:function(){this.Ac.aA(this.Tc,this)},ph:function(){}},t(n,e),n}),define("lscK",["lscJ","lscG","LoggerManager","lscAe"],function(t,e,n,i){function r(t,e,n){this.active=!1,this.Aj=0,this.Fd={},this.Je={},this.lt=0,this.X=t,this.da=e,this.$e=n}var o=n.getLoggerProxy(i.Ft);return r.prototype={ea:function(){this.active=!1,this.Fd={},this.lt=0,this.Je={},this.Aj++,o.logDebug(n.resolve(263))},Yk:function(){if(o.logDebug(n.resolve(264)),!this.active){for(var e in this.Fd){var i,r=this.Fd[e];for(i in r.J){var s=r.J[i].Bh;if(null!=s){var a=new t(this,this.$e,this.Aj,r,i);this.Gn(i,s,a)}}}this.active=!0}},zg:function(e,r,s,a){o.logDebug(n.resolve(265));var l=this.Fd[r];null==l&&(this.Fd[r]=l={Kf:0,J:{}}),l.Kf++,e={LS_message:e};var u=!1;s&&(e.LS_outcome="",u=!0),r!=i.zc&&(e.LS_sequence=encodeURIComponent(r),u=!0,a&&(e.LS_max_wait=a)),u&&(e.LS_ack="",e.LS_msg_prog=r==i.zc?this.qy(l.Kf):l.Kf),(a={}).Bh=e,a.listener=s,l.J[l.Kf]=a,this.active&&(o.logInfo(n.resolve(257),e),r=new t(this,this.$e,this.Aj,l,l.Kf,r,u),this.Gn(l.Kf,e,r))},qy:function(t){var e=++this.lt;return this.Je[e]=t,e},Gh:function(t){return this.Je[t]?this.Je[t]:t},Sz:function(t){for(var e in this.Je)if(this.Je[e]==t){delete this.Je[e];break}},Ou:function(t){return t==this.Aj},aA:function(t,e){var i=e.Hn.J[t].Bh;o.logDebug(n.resolve(266),i),this.Gn(t,i,e)},Gn:function(t,n,i){this.X.Dc(t,n,e.hd,i)},mu:function(t,e){e=t==i.zc?this.Gh(e):e,o.logInfo(n.resolve(258),t,e);var r=this.Fd[t];r.J[e]&&(null!=r.J[e].Bh&&(o.logDebug(n.resolve(267)),r.J[e].Bh=null),null==r.J[e].listener&&(o.logDebug(n.resolve(268)),this.Re(t,e)))},Hy:function(t,e){o.logDebug(n.resolve(269),t,e),this.Re(t,e)},Re:function(t,e){o.logDebug(n.resolve(270));var r=this.Fd[t];r&&r.J[e]&&(delete r.J[e],t==i.zc&&this.Sz(e))},rb:function(t,e){var n=this.Fd[t];return n&&n.J[e]&&n.J[e].listener?n.J[e].listener:null},kA:function(t,e){o.logDebug(n.resolve(271),t,e);var i=this.rb(t,e);if(i){var r=this.da.sf(i.Bd);r&&r.Sr(i.Ah)}},St:function(t,e){e=t==i.zc?this.Gh(e):e,o.logInfo(n.resolve(259),t,e);var r=this.rb(t,e);if(r){var s=this.da.sf(r.Bd);s&&s.Qr(r.Ah)}this.Re(t,e)},Jy:function(t,e){e=t==i.zc?this.Gh(e):e,o.logInfo(n.resolve(260),t,e);var r=this.rb(t,e);if(r){var s=this.da.sf(r.Bd);s&&s.te(r.Ah)}this.Re(t,e)},Iy:function(t,e,r,s){s=t==i.zc?this.Gh(s):s,o.logInfo(n.resolve(261),t,s);var a=this.rb(t,s);if(a){var l=this.da.sf(a.Bd);l&&l.Rr(a.Ah,e,r)}this.Re(t,s)},Ly:function(t,e,r,s){s=t==i.zc?this.Gh(s):s,o.logInfo(n.resolve(262),t,s);var a=this.rb(t,s);if(a){var l=this.da.sf(a.Bd);l&&l.Tf(a.Ah,e,r)}this.Re(t,s)}},r}),define("lscj",["LoggerManager","Executor","Global","ASSERT","lscAe"],function(d,f,b,a,c){function g(t){this.jf=[],this.Wq=!1,this.lsc={},this.lsc.LS_window=b["_"+t],this.lsc.window=this.lsc.LS_window,this.nv=this.Xv(this.lsc)}var e=d.getLoggerProxy(c.ob);return g.prototype={toString:function(){return"[EvalQueue|"+this.jf.length+"]"},Xv:function(a){function b(c,e){try{var g=Object.keys(e);c="(function("+g.join(", ")+", lsc) {"+c+"})";for(var d=eval(c),f=[],k=0,u=g.length;k<u;k++)f.push(e[g[k]]);f.push(a),d.apply(e,f)}catch(q){console.error("lsc.error5 ",q.message,q.stack)}}return function(t){b(t,a)}},Vt:function(t,n){this.Uh()&&(this.jf.push({p:t,d:n}),e.isDebugLogEnabled()&&e.logDebug(d.resolve(273)),f.addTimedTask(this.ov,0,this))},Ze:function(t){this.g=t},ov:function(){for(e.isDebugLogEnabled()&&e.logDebug(d.resolve(274),this.jf.length);0<this.jf.length;){var t=this.jf.shift();if(this.g&&this.g.nd(t.p))try{this.nv(t.d)}catch(c){this.Wq=!0,this.jf=[],a.fail(),console.log(c),e.logError(d.resolve(272),c,t.d),this.g.Ev()}else e.isDebugLogEnabled()&&e.logDebug(d.resolve(275),t.p,this.g)}},Uh:function(){return!this.Wq},H:function(){}},g}),define("lscw",["IllegalStateException"],function(t){return function(){throw new t("Unsupported operation in NodeJs")}}),define("lscs","Executor BrowserDetection ASSERT LoggerManager Helpers lscq lscl lscAK lsct lscu EnvironmentStatus Global lsco lscG lscAe lscv lscF lscK lscj lscw".split(" "),function(t,e,n,i,r,o,s,a,l,u,c,h,f,d,p,g,v,b,y,m){function _(t,e){this.aa=O++,M.isDebugLogEnabled()&&M.logDebug(i.resolve(289)+this.aa),this.status=1,this.N=0,this.zl=this.g=null,this.he="",this.xa=t,this.da=e,this.b=t.Cb,this.Ta=t.Ab,this.Da=t.ud(),this.wb=new g(this.b,this.Da),this.Cz=new f(this.Da,e),c.addUnloadHandler(this),this.Gv(),this.Ug=null,this.X=new v(this,t.Cb,this.Da,!1),this.Ed=new b(this.X,this.da,this.b)}function x(t){switch(t){case 1:return"No session";case 2:return"WS Streaming";case 3:return"prepare WS Streaming";case 4:return"WS Polling";case 5:return"prepare WS Polling";case 6:return"HTTP Streaming";case 7:return"prepare HTTP Streaming";case 8:return"HTTP Polling";case 9:return"prepare HTTP Polling";case 10:return"Shutting down"}}var w={2:7,6:9,4:3,8:3,_2:3,_6:9,_4:3,_8:7},k={2:7,6:9,4:3,8:3,_2:3,_6:9,_4:3,_8:9},E={2:3,6:7,4:5,8:9},S={2:5,6:9,7:9,9:9},A={3:!0,5:!0,7:!0,9:!0},T=i.getLoggerProxy(p.Me),M=i.getLoggerProxy(p.Td),O=1;return(_.prototype={Gv:function(){var t=this;h.sa(this.Da,"LS_forceReload",function(){t.g&&t.g.ia("server.exit",!0)})},fa:function(t){M.isDebugLogEnabled()&&M.logDebug(i.resolve(290),x(this.status),"->",x(t)),this.status=t,this.N++},ra:function(t,e,n){1!=this.status&&10!=this.status&&this.g&&this.g.ra(t?"api":e,!1,n)},AB:function(){1!=this.status&&10!=this.status&&this.g&&this.g.Mj("control.syncerror")},Fx:function(){return 1!=this.status&&10!=this.status},Eb:function(t,e,n,i,r,o,a){t&&s.Pc(),this.Wp(),t=t?"api":o,this.he=e?"_":"",!a&&this.Fx()?(this.fa(i?r?9:5:r?7:3),this.Wn(t),this.g.xs(this.N,t,n)):(this.zs(),e=this.g?this.g.Nb():null,this.ra(!1,t="new."+t,!1),this.fa(i?r?8:4:r?6:2),this.un(i,n,r),this.g.Eb(e,t))},un:function(t,e,n,i,r){var o=null!==this.Ug;r&&(o=!1),this.g=new(n=n?l:u)(t,e,this,this.N,i,o,r),i&&i.kg(),this.wb.Ze(this.g),this.ga&&this.ga.Ze(this.g),this.Cz.Ze(this.g)},Zd:function(t,e,n,i){this.fa(e?n?8:4:n?6:2),this.un(e,t,n,this.g),this.g.Zd(i)},Dh:function(t,e,n){M.logDebug(i.resolve(291),e),t!=this.N?M.logDebug(i.resolve(292)):(t=3!=(e=E[this.status]||this.status)&&7!=e,e=3!=e&&5!=e,this.fa(t?e?8:4:e?6:2),this.un(t,n,e,this.g,!0),this.g.Dh())},Rn:function(){return"_"==this.he&&E[this.status]==k[this.he+this.status]},Ub:function(t,r,o){t==this.N&&(o?(M.logInfo(i.resolve(281)),this.fa(1)):(7==(t=k[this.status]||this.status)&&e.hr()&&(t=9),M.logInfo(i.resolve(282),x(this.status),x(t)),1==t||10==t?(n.fail(),M.logError(i.resolve(276))):(this.fa(t),this.Wn(r),this.g.xs(this.N,r,!1))))},qz:function(t){t==this.N&&(t=S[this.status],M.logInfo(i.resolve(283),x(this.status),x(t)),t?(this.fa(t),this.Wn("slow"),this.g.$z(this.N)):(n.fail(),M.logError(i.resolve(277),x(this.status),this.g)))},cf:function(t,e,r){t==this.N&&(t=w[this.he+this.status]||this.status,M.logInfo(i.resolve(284),x(this.status),x(t)),1==t||10==t?(n.fail(),M.logError(i.resolve(278))):this.Eb(!1,"_"==this.he,r,3!=t&&7!=t,3!=t&&5!=t,e,!0))},eo:function(t,e,r){t==this.N&&(t=this.status,M.logInfo(i.resolve(285),x(this.status)),A[t]?this.Zd(r,3!=t&&7!=t,3!=t&&5!=t,e):(n.fail(),M.logError(i.resolve(279))))},dt:function(t){M.logInfo(i.resolve(286)),this.eo(t,"slow",!1)},yB:function(t,e){if(t==this.N){var r=this.status;M.logInfo(i.resolve(287),x(this.status)),A[r]?this.Eb(!1,"_"==this.he,!1,3!=r&&7!=r,3!=r&&5!=r,"switch.timeout."+e,!0):(n.fail(),M.logError(i.resolve(280)))}},Wn:function(e){t.addTimedTask(this.yB,this.b.co+(this.wb.dj()||0),this,[this.N,e])},zs:function(){this.X.Bc(),this.Ed.ea()},Jl:function(){var t=null!==this.Ug;this.g&&this.g.eg(t),this.X&&this.X.eg(t)},Wy:function(t){t==this.N&&this.Jl()},Wp:function(){null!==this.Ug&&1e3<r.getTimeStamp()-this.Ug&&(this.Ug=null,this.Jl())},Cm:function(){return this.g?this.g.i():null},qm:function(){return this.g?this.g.qm():p.cc},Va:function(){return this.g?this.g.Va():this.Ta.Kh},Nb:function(){return this.g?this.g.Nb():null},xq:function(){if(!this.ga||!this.ga.Uh()){if(e.isProbablyIE(9,!0)){var t=null;this.ga&&(t=this.ga.uC(),this.ga.H()),this.ga=new m(this.Da,t)}else this.ga=new y(this.Da);this.ga.Ze(this.g)}return this.ga},H:function(){this.ga&&this.ga.H(),c.removeUnloadHandler(this)},unloadEvent:function(){this.ra(!1,"unload",!0),this.fa(10)},ud:function(){return this.Da},oB:function(t){t==this.N&&this.xa.My()},Vc:function(t){M.logInfo(i.resolve(288),this.g),this.sh(t),this.Ed.Yk(),this.xa.Vc(),this.hh(!1)},sh:function(t){M.logDebug(i.resolve(293),this.g),t&&this.X.PA(t)},Yr:function(t,e){return t!=this.N?null:(M.logDebug(i.resolve(294),this.g),this.zs(),this.xa.ue(),this.fa(e?1:this.status),this.N)},gn:function(t,e){var n=this.da.je(t[0]);n?(T.isDebugLogEnabled()&&T.logDebug(i.resolve(296),t),n.th(t,e)):T.logDebug(i.resolve(295),this)},se:function(t){var e=this.da.je(t[0]);e?(T.isDebugLogEnabled()&&T.logDebug(i.resolve(298),t),e.onLostUpdates(t[0],t[1],t[2])):T.logDebug(i.resolve(297),this)},re:function(t){var e=this.da.je(t[0]);e?(T.isDebugLogEnabled()&&T.logDebug(i.resolve(300),t),e.onEndOfSnapshot(t[0],t[1])):T.logDebug(i.resolve(299),this)},qe:function(t){var e=this.da.je(t[0]);e?(T.isDebugLogEnabled()&&T.logDebug(i.resolve(302),t),e.onClearSnapshot(t[0],t[1])):T.logDebug(i.resolve(301),this)},Uf:function(t,e){T.isDebugLogEnabled()&&T.logDebug(i.resolve(303),t,e),this.da.Oy(t,e)},fn:function(t,e,n){var r=this.da.je(t);r?(T.isDebugLogEnabled()&&T.logDebug(i.resolve(304),t,e,n),r.Vf(t,e,n)):T.logDebug(i.resolve(305),this),this.da.Vf(t)},onUnsubscription:function(t){var e=this.da.je(t);e?(T.isDebugLogEnabled()&&T.logDebug(i.resolve(306),t),e.onUnsubscription(t)):T.logDebug(i.resolve(307),this),this.da.onUnsubscription(t)},Wf:function(t,e){this.da.Wf(t,e),T.isDebugLogEnabled()&&T.logDebug(i.resolve(308),t,e),this.da.Wf(t,e)},onSubscription:function(t,e,n,r,o){this.da.onSubscription(t);var s=this.da.je(t);s?(T.isDebugLogEnabled()&&T.logDebug(i.resolve(310),t,e,n,r,o),s.onSubscription(t,r,o,e,n)):T.logDebug(i.resolve(309),this)},Ym:function(t,e){T.isDebugLogEnabled()&&T.logDebug(i.resolve(311),t,e),this.Ed.mu(t,e)},an:function(t,e){T.isDebugLogEnabled()&&T.logDebug(i.resolve(312),t,e),this.Ed.St(t,e)},Zm:function(t,e,n,r){T.isDebugLogEnabled()&&T.logDebug(i.resolve(313),t,r,e,n),this.Ed.Iy(t,e,r,n)},te:function(t,e){T.isDebugLogEnabled()&&T.logDebug(i.resolve(314),t,e),this.Ed.Jy(t,e)},Tf:function(t,e,n,r){T.isDebugLogEnabled()&&T.logDebug(i.resolve(315),t,r,e,n),this.Ed.Ly(t,e,r,n)},Lj:function(t){this.xa.Lj(t)},bn:function(t){T.isDebugLogEnabled()&&T.logDebug(i.resolve(316),t),this.xa.bn(t)},$y:function(t){this.zl&&t!=this.zl&&a.Kx()&&(a.cA(),this.Eb(!1,"_"==this.he,!1,!1,!1,"ip",!1)),this.zl=t},sc:function(){this.xa.sc()},Fn:function(t,e,n,i){this.Ed.zg(t,e,n,i)},Jh:function(t,e){var n=o.Ew(this.N,t,e);this.X.Dc(null,n,d.gd,null)},Ci:function(){this.g&&this.g.Ci()},gA:function(t,e,n,i,r){this.X.Dc(t,e,d.di,r,i)},iA:function(t,e,n,i,r){this.X.Dc(t,e,d.Pk,r,i)},hA:function(t,e,n){this.X.Dc(t,e,d.Co,n)},hh:function(t){this.g&&this.g.hh(t)}}).unloadEvent=_.prototype.unloadEvent,_}),define("lscm",["lscY","lscP","Executor"],function(t,e,n){function i(t,e){this.o=t,this.id=e}var r=e.bt;for(var o in i.methods=e={rh:r,Sf:r,onStatusChange:r,Vc:r,ue:r,Nr:r,Uf:r,sc:r,ping:e.ct,onSubscription:r,onUnsubscription:r,onEndOfSnapshot:r,th:r,onLostUpdates:r,onClearSnapshot:r,Vf:r,te:r,Rr:r,Tf:r,Qr:r,Sr:r},i.prototype={kk:function(t){this.target=t},Kr:function(t,e,n){("lscD"==t?this.o.Ab:"lscE"==t?this.o.Cb:this.o.ka).S(e,n)},pp:function(t){t==this.o.Oc()&&this.o.Sl()},qp:function(t){t==this.o.Oc()&&this.o.uv()},fs:function(){if(null===this.o)throw"net";return!0},Gp:function(){n.addTimedTask(this.o.yp,0,this.o),n.addTimedTask(this.o.yp,1e3,this.o)},Ge:function(t,e){return t!=this.o.Oc()?null:this.o.subscribe(this.id,e)},Md:function(t,e){return t!=this.o.Oc()?null:this.o.unsubscribe(e)},ed:function(t,e,n){return t!=this.o.Oc()?null:this.o.ed(e,n)},$g:function(t,e,n,i,r){if(t!=this.o.Oc())return null;this.o.Fn(e,n,null==i?null:{Ah:i,Bd:this.id},r)},rq:function(t){this.o.Jh(t)},H:function(){this.o=null}},e)i.prototype[o]=t.Pg(o,e[o]);return i}),define("lsck","Global lscAe LoggerManager lscC lscD lscE lscp lscs lscG Executor lscm Helpers".split(" "),function(t,e,n,i,r,o,s,a,l,u,c,h){function f(n,l,c,h,f,p){if(this.ka=new i(n),this.ka.jg(this,!0),this.Ab=new r(c),this.Ab.jg(this,!0),this.Cb=new o(l),this.Cb.jg(this,!0),this.Hm=null,this.M=new s(this,this.ka,this.Ab,this.Cb),h&&h.qj())this.wc=h.fv(this,u.packTask(this.H,this),p),null!=(n=this.wc.cj())&&(this.ql=h.ev(this,n),this.ql.addListener(this.M)),this.id=this.wc.ha();else{this.wc=null;do{this.id="NS"+d++}while(t.lj(this.id,"lsEngine"))}t.sa(this.id,"lsEngine",this),this.c=new a(this,this.M),this.mp(f,e.Jo),this.ka.Ng&&this.Sl()}var d=h.randomG(),p="1757";isNaN(p)&&(p=0);var g=n.getLoggerProxy(e.Td);return f.prototype={toString:function(){return"[LightstreamerEngine "+this.id+"]"},mp:function(t,e){e||(e="LOCAL"+d++);var n=new c(this,e);n.kk(t),t.NA(n),this.M.Tr(e,n)},ud:function(){return this.id},Cm:function(){return this.c.Cm()},Oc:function(){return this.M.Oc()},ue:function(){this.M.ue()},Vc:function(){this.M.Vc()},H:function(){this.c.ra(!1,"suicide",!0),this.c.H(),t.Ru(this.id),this.wc&&this.wc.H(),this.M.Fr(!0),this.M.H(),this.ql&&this.ql.H()},uv:function(){g.logInfo(n.resolve(317)),this.ka.S("connectionRequested",!1),this.c.ra(!0,"api",!0)},Sl:function(){g.logInfo(n.resolve(318)),this.ka.S("connectionRequested",!0);var t=this.Cb.im;null===t?this.c.Eb(!0,!1,!1,!1,!1):this.tv(t)},tv:function(t){var n=t==e.Rk||t==e.ii;this.c.Eb(!0,n,!n,t==e.Qe||t==e.fd,t==e.fd||t==e.Ke||t==e.ii)},Xe:function(t,e,n){return this.M.sd(function(i){i.rh(t,e,n)}),"maxBandwidth"==e?this.c.Ci(n):"forcedTransport"==e?this.ka.Ng&&this.Sl():"reverseHeartbeatInterval"==e?this.c.hh(!1):"corsXHREnabled"!=e&&"xDomainStreamingEnabled"!=e||this.c.Jl(),!0},Lj:function(t){this.wc&&this.wc.ss(t)},bn:function(t){this.wc&&this.wc.ou(t)},Ob:function(){return this.c.qm()},My:function(){var t=this.Ob();if(this.Hm!=t){var e=this.Hm;this.Hm=t,this.M.Ny(t,e),this.onStatusChange&&this.onStatusChange(t)}},Fn:function(t,n,i,r){var o=this.Ob();return o!=e.cc&&o!=e.wg&&(this.c.Fn(t,n,i,r),!0)},Jh:function(t){return this.c.Jh(t,p),!0},subscribe:function(t,e){return this.M.sx(t,e)},unsubscribe:function(t){this.M.us(t)},ed:function(t,e){this.M.ed(t,e)},yp:function(){this.M.Ep()},sc:function(){this.M.sc()}},f}),define("ls_sbc",["IllegalStateException"],function(t){return function(e){return{enableSharing:function(){throw new t("ConnectionSharing is not included in the Lightstreamer library")},isMaster:function(){return e.zf()}}}}),define("LightstreamerClient","Helpers Global Executor lscC lscE lscD lscAP lscAI lscAO lscAc Inheritance Setter EventDispatcher lscAe EnvironmentStatus IllegalArgumentException Environment LoggerManager IllegalStateException ASSERT lsco lsck ls_sbc BrowserDetection".split(" "),function(t,e,n,i,r,o,s,a,l,u,c,h,f,d,p,g,v,b,y,m,_,x,w){function k(t,e){this.C=k,this._callSuperConstructor(k),this.Lp=new r,this.Il=new o,this.connectionOptions=this.Lp,this.connectionDetails=this.Il,this.connectionSharing=w(this),this.ka=new i,this.Cb=this.Lp,this.Ab=this.Il,t&&this.Ab.$s(t),e&&this.Ab.Os(e),this.ka.jg(this),this.Cb.jg(this),this.Ab.jg(this),this.u=new u(this.Cb),this.Ee=this.T=null,this.Vg=this.Sh=0,this.LB=++A,this.J=new l,this.le=d.cc,this.Ei=null,this.qt={},p.addUnloadHandler(this)}var E=b.getLoggerProxy(d.Gk),S=b.getLoggerProxy(d.zb),A=0,T=/^[a-zA-Z0-9_]*$/;return k.pu=function(t,e){v.isNodeJS()&&a.bp(e)},k.pw=function(t){if(v.isNodeJS()){var e=[];return a.Eq(t).forEach(function(t){e.push(t.toString())}),e}},k.setLoggerProvider=function(t){b.setLoggerProvider(t)},k.Dt="nodejs_client",k.Et="7.2.4 build 1757",k.simulateSilence=function(t){_.iB(t)},k.prototype={toString:function(){return["[|LightstreamerClient",this.LB,this.N,this.xC,"]"].join("|")},kk:function(t){this.T=t,this.u.Xh(t),this.J.Xh(t),this.Ts=this.Vg,this.Ei=n.addRepetitiveTask(t.sl,5e3,t)},Fp:function(){this.T&&(this.qt[this.T.ud()]=!0,this.u.Xh(null),this.J.Xh(null),this.Ei&&(n.stopRepetitiveTask(this.Ei),this.Ei=null),this.T.H(),this.T=null,this.ne&&(this.ne.H(),this.ne=null),this.fl(this.ka.Ng?d.wg:d.cc)),this.search&&(this.search.stop(),this.search=null)},Xe:function(t,e,n){return this.T&&this.T.Kr(t,e,n),!0},Gr:function(t,e){e!=this.ka&&this.dispatchEvent("onPropertyChange",[t])},Wl:function(t){var e=v.isBrowser()?navigator.userAgent.toLowerCase():null;null==e||-1==e.indexOf("ucbrowser")&&-1==e.indexOf("ubrowser")?(this.Vg++,n.addTimedTask(this.aq,0,this,[t,this.Vg])):S.logInfo(b.resolve(391))},aq:function(t,e){if(e==this.Vg)if(this.Sh++,this.Fp(),(this.Ee=t)&&!t.qj()&&S.logInfo(b.resolve(392)),t&&t.qj()){e=this.Sh;var n=this,i=t.Nv(this);this.search=i,this.search.find(this.qt).then(function(t){e==n.Sh&&(1==n.search.Hj&&n.Ee.Hj(),null===t?n.Pn(e,i.km()):n.kk(t))},function(){e==n.Sh&&n.dispatchEvent("onShareAbort")})}else null==t&&this.ka.Ng&&this.Pn()},Bv:function(e,n){if(this.Ts==this.Vg)if(this.Fp(),p.isUnloading()||p.isUnloaded())E.logInfo(b.resolve(393));else if(this.Ee){E.logInfo(b.resolve(394));var i=null;2>=this.ka.od||(e?i=1e4:5e3<(i=200+500*t.randomG(this.ka.od))&&(i=5e3)),i=this.Ee.cv(i,n),this.aq(i,this.Ts)}else m.fail(),E.logError(b.resolve(390))},unloadEvent:function(){this.disconnect(),this.T&&this.T.Gp()},Pn:function(t,e){if(!t||t==this.Sh)return this.kk(new s(this)),this.ne=new x(this.ka,this.Cb,this.Ab,this.Ee,this.T,e),this.T.Ss(this.ne.ud()),this.T.UA(this.ne.Oc()),this.T},zf:function(){return null!=this.ne},connect:function(){if(!this.Ab.Kh)throw new y("Configure the server address before trying to connect");E.logInfo(b.resolve(395)),n.addTimedTask(this.yu,0,this)},yu:function(){if(!this.le||this.le!=d.CONNECTING&&this.le!=d.Oe&&0!=this.le.indexOf(d.Ha)){null!=this.Ee&&this.Ee.qj()||this.ne||this.Pn(),E.logDebug(b.resolve(397)),this.ka.S("connectionRequested",!0);var t=this.T;t&&t.pp()}},disconnect:function(){E.logInfo(b.resolve(396)),n.addTimedTask(this.zu,0,this)},zu:function(){E.logDebug(b.resolve(398)),this.ka.S("connectionRequested",!1);var t=this.T;t&&t.qp()},Ob:function(){return this.le},sendMessage:function(t,e,i,r,o){if(e){if(!T.test(e))throw new g("The given sequence name is not valid, use only alphanumeric characters plus underscore, or null")}else e=d.zc;i=i||0==i?this.checkPositiveNumber(i,!0):null,o=this.checkBool(o,!0),n.addTimedTask(this.xu,0,this,[t,e,r,i,o])},xu:function(t,e,n,i,r){this.T&&this.T.vb?this.J.$g(t,e,n,i):r?this.J.Cv(t,e,n,i):n&&this.J.fireEvent("onAbort",n,[t,!1])},mA:function(t,e){this.dispatchEvent("onServerError",[t,e])},gk:function(){this.u.Gz(),this.J.Su()},nA:function(){this.u.qx(),this.J.px()},fl:function(t){t!=this.le&&(this.le=t,this.dispatchEvent("onStatusChange",[t]))},Jh:function(t){return!(!this.T||!this.T.vb||(this.T.rq(t),0))},sc:function(){this.dispatchEvent("onServerKeepalive")},fx:function(){var t,e=[],n=this.u.mb;for(t in n)n[t].et||e.push(n[t]);return e},subscribe:function(t){this.u.ap(t)},unsubscribe:function(t){this.u.rs(t)},addListener:function(t){this._callSuperMethod(k,"addListener",[t])},removeListener:function(t){this._callSuperMethod(k,"removeListener",[t])},getListeners:function(){return this._callSuperMethod(k,"getListeners")}},k.addCookies=k.pu,k.getCookies=k.pw,k.setLoggerProvider=k.setLoggerProvider,k.LIB_NAME=k.Dt,k.LIB_VERSION=k.Et,k.prototype.connect=k.prototype.connect,k.prototype.disconnect=k.prototype.disconnect,k.prototype.getStatus=k.prototype.Ob,k.prototype.sendMessage=k.prototype.sendMessage,k.prototype.getSubscriptions=k.prototype.fx,k.prototype.subscribe=k.prototype.subscribe,k.prototype.unsubscribe=k.prototype.unsubscribe,k.prototype.addListener=k.prototype.addListener,k.prototype.removeListener=k.prototype.removeListener,k.prototype.getListeners=k.prototype.getListeners,k.prototype.enableSharing=k.prototype.Wl,k.prototype.isMaster=k.prototype.zf,k.prototype.preUnloadEvent=k.prototype.unloadEvent=k.prototype.unloadEvent,c(k,f,!1,!0),c(k,h,!0,!0),k}),define("lscAa",["lscAe","Assertions"],function(t,e){function n(t,e,n){this.Zf=t,this.or=e,this.Zj=n}return(n.prototype={Or:function(t,n,i){this.Qn()&&(e.verifyValue(n,1,"Unexpected item position"),this.Zf.jB(this.Zj,i))},Vf:function(t,e){this.Qn()&&this.Zf.kB(t,e,this.Zj)},onItemUpdate:function(t){if(this.Qn())return e.verifyValue(t.ej(),1,"Unexpected item position"),this.Zf.RA((t=t.Od).length-2),t=this.bv(t),this.Zf.update(t,!1,!0)},Qn:function(){return this.Zf.Xq(this.or,this.Zj)},bv:function(e){var n=this.Zf,i=this.or,r=[];r[0]=n.cd,r[1]=i,r.Gc=[],i=n.Cq()+2;for(var o=2,s=2;s<i;s++)s==n.keyCode+1?r[s]=this.Zj:s==n.cb+1?r[s]="UPDATE":s<=n.ma.sb+1?r[s]=t.Pe:(r[s]=e[o],e.no[o]?r[s]=t.Pe:r.Gc.push(s-1),o++);return r}}).onSubscriptionError=n.prototype.Vf,n.prototype.onItemUpdate=n.prototype.onItemUpdate,n.prototype.onItemLostUpdates=n.prototype.Or,n}),define("lscAZ",["LoggerManager","IllegalArgumentException","lscAe"],function(t,e,n){function i(t,e,n,i,r){this.jy=e,this.iy=t,this.au=i,this.ma=n,this.Od=r}var r=t.getLoggerProxy(n.Gk);return(i.prototype={sm:function(){return this.iy},ej:function(){return this.jy},getValue:function(t){return t=this.ai(t),(t=this.Od[t])&&t.yC?t.value:t},nr:function(t){return t=this.ai(t),!this.Od.no[t]},Zx:function(){return this.au},forEachChangedField:function(e){for(var n=this.Od.Gc,i=0;i<n.length;i++){var o=this.ma.getName(n[i]),s=this.Od[n[i]+1];try{e(o,n[i],s)}catch(a){r.logErrorExc(a,t.resolve(399))}}},pq:function(e){for(var n=2;n<this.Od.length;n++){var i=n-1,o=this.ma.getName(i),s=this.Od[n];try{e(o,i,s)}catch(a){r.logErrorExc(a,t.resolve(400))}}},ai:function(t){if(null==(t=isNaN(t)?this.ma.ie(t):t))throw new e("the specified field does not exist");if(0>=t||t>this.ma.pm()+1)throw new e("the specified field position is out of bounds");return t+1},Mw:function(){return this.Od.length-2},sw:function(t){return this.ma.getName(t)}}).getItemName=i.prototype.sm,i.prototype.getItemPos=i.prototype.ej,i.prototype.getValue=i.prototype.getValue,i.prototype.isValueChanged=i.prototype.nr,i.prototype.isSnapshot=i.prototype.Zx,i.prototype.forEachChangedField=i.prototype.forEachChangedField,i.prototype.forEachField=i.prototype.pq,i}),define("lscZ",[],function(){function t(){this.Zb=null,this.sb=0}return t.prototype={at:function(t){this.Zb=t},pm:function(){return this.Zb?this.sb+this.Zb.sb:this.sb},Hd:function(t){this.sb=t}},t}),define("lsca",["Inheritance","lscZ"],function(t,e){function n(t){this._callSuperConstructor(n),this.list=t;for(var e={},i=0;i<t.length;i++)e[t[i]]=i+1;this.Cs=e,this.sb=t.length}return n.prototype={Hd:function(){},lm:function(){return this.list.join(" ")},ie:function(t){return this.Cs[t]?this.Cs[t]:this.Zb&&null!==(t=this.Zb.ie(t))?t+this.sb:null},getName:function(t){return t>this.sb&&this.Zb?this.Zb.getName(t-this.sb):this.list[t-1]||null},Nc:function(){return this.list}},t(n,e),n}),define("lscb",["Inheritance","lscZ"],function(t,e){function n(t){this._callSuperConstructor(n),this.name=t}return n.prototype={lm:function(){return this.name},ie:function(t){return this.Zb&&null!==(t=this.Zb.ie(t))?t+this.sb:null},getName:function(t){return this.Zb?this.Zb.getName(t-this.sb):null},Nc:function(){return this.name}},t(n,e),n}),define("Matrix",[],function(){function t(t){this.$=t||{}}return(t.prototype={insert:function(t,e,n){e in this.$||(this.$[e]={}),this.$[e][n]=t},get:function(t,e){return t in this.$&&e in this.$[t]?this.$[t][e]:null},del:function(t,e){if(!(!t in this.$)){for(var n in e in this.$[t]&&delete this.$[t][e],this.$[t])return;delete this.$[t]}},insertRow:function(t,e){this.$[e]=t},getRow:function(t){return t in this.$?this.$[t]:null},delRow:function(t){t in this.$&&delete this.$[t]},getEntireMatrix:function(){return this.$},isEmpty:function(){for(var t in this.$)return!1;return!0},forEachElement:function(t){for(var e in this.$)this.forEachElementInRow(e,t)},forEachRow:function(t){for(var e in this.$)t(e)},forEachElementInRow:function(t,e){var n,i=this.$[t];for(n in i)e(i[n],t,n)}}).insert=t.prototype.insert,t.prototype.get=t.prototype.get,t.prototype.del=t.prototype.del,t.prototype.insertRow=t.prototype.insertRow,t.prototype.getRow=t.prototype.getRow,t.prototype.delRow=t.prototype.delRow,t.prototype.getEntireMatrix=t.prototype.getEntireMatrix,t.prototype.forEachElement=t.prototype.forEachElement,t.prototype.forEachElementInRow=t.prototype.forEachElementInRow,t.prototype.forEachRow=t.prototype.forEachRow,t.prototype.isEmpty=t.prototype.isEmpty,t}),define("Subscription","lscAa lscAZ lsca lscb Inheritance Setter Matrix Executor lscAe EventDispatcher IllegalArgumentException IllegalStateException LoggerManager lscAj Assertions Helpers".split(" "),function(t,e,n,i,r,o,s,a,l,u,c,h,f,d,p,g){function v(t,e,n){if(this._callSuperConstructor(v),!(t=new String(t).toUpperCase())||!m[t])throw new c("The given value is not a valid subscription mode. Admitted values are MERGE, DISTINCT, RAW, COMMAND");if(this.kd=t,this.ma=this.Kc=this.Jb=this.Rb=this.Cf=this.Df=null,this.oc="RAW"===t?null:"yes",this.ak=this.cd=this.Ki=this.si=this.So=this.Ag=this.ze=this.jb=null,this.pe=new s,this.Uc=new s,this.f=null,this.$a=1,this.BB=0,this.jd=null,this.ho=0,this.Sm=null,this.dk=this.Jj=0,this.behavior=this.kd==l.rg?2:1,this.oo=this.keyCode=this.cb=null,this.Kd=new s,this.Vh=this.Fe=this.Jd=null,this.vB=l.Nk,e){if(!n||!g.isArray(n))throw new c("Please specify a valid field list");g.isArray(e)?this.Ph(e):this.Ph([e]),this.lk(n)}else if(n)throw new c("Please specify a valid item or item list")}function b(t){for(var e=0;e<t.length;e++){if(!t[e])throw new c("A field name cannot be empty");if(-1<t[e].indexOf(" "))throw new c("A field name cannot contain spaces")}}function y(t,e){return t-e}var m={COMMAND:!0,RAW:!0,MERGE:!0,DISTINCT:!0},_=l.Pe,x=f.getLoggerProxy(l.Oo);return(v.prototype={toString:function(){return["[|Subscription",this.$a,this.BB,this.jd,this.ho,this.cd,this.Sm,"]"].join("|")},Bp:function(){this.cd=null,this.pe=new s,this.Uc=new s,this.ma.Hd(0),this.Rb.Hd(0),3==this.behavior&&(this.ma.at(null),this.Kd=new s),x.logDebug(f.resolve(405),this)},Sy:function(t,e,n){if(this.tb(),!this.Rb)throw new c("Invalid Subscription, please specify an item list or item group");if(!this.ma)throw new c("Invalid Subscription, please specify a field list or field schema");return this.$a=5,this.Sm=e,this.jd=t,this.f=n,this.ho++,this.Jj++,p.verifyValue(this.Jj,1,"Wrong count while adding"),x.logInfo(f.resolve(402),this),!0},tz:function(){this.ho++,this.$a=2,x.logDebug(f.resolve(406),this)},wz:function(t){this.cd=t,this.$a=3,x.logDebug(f.resolve(407),this)},iz:function(){var t=this.Af();this.$a=5,this.Bp(),t&&this.Mr(),x.logDebug(f.resolve(408),this)},mz:function(){this.Gx();var t=this.Af();this.$a=1,this.jd=this.Sm=null,delete this.ak,3==this.behavior&&this.Xz(),this.Bp(),this.Jj--,p.verifyValue(this.Jj,0,"Wrong count while removing"),t&&this.Mr(),this.f=null,x.logDebug(f.resolve(409),this)},rz:function(t,e,n,i){this.$a=4,this.dk++,p.verifyValue(this.dk,1,"Wrong count starting push"),x.logInfo(f.resolve(403),this),3==this.behavior&&this.ma.at(this.Vh),this.Kc&&1!=this.behavior&&this.TA(e,t),this.Rb.Hd(n),this.ma.Hd(i),this.dispatchEvent("onSubscription")},Mr:function(){this.dk--,p.verifyValue(this.dk,0,"Wrong count ending push"),x.logInfo(f.resolve(404),this),this.dispatchEvent("onUnsubscription")},Xz:function(){var t=this;this.Kd.forEachElement(function(e,n,i){t.zn(n,i)})},Tz:function(){var t=this;this.Kd.forEachElementInRow(function(e,n,i){t.zn(n,i)})},Uw:function(){return this.bj(),this.ak},tq:function(){if(null!=this.jb){var t=this.jb;return{LS_requested_max_frequency:"unlimited"==t?0:t}}return{}},bj:function(){var t={LS_mode:this.kd,LS_id:encodeURIComponent(this.Rb.lm()),LS_schema:encodeURIComponent(this.ma.lm())};if(null!=this.Ki&&(t.LS_data_adapter=encodeURIComponent(this.Ki)),null!=this.si&&(t.LS_selector=encodeURIComponent(this.si)),null!=this.Ag&&(t.LS_start=this.Ag),null!=this.So&&(t.LS_end=this.So),null!=this.oc&&(t.LS_snapshot="yes"===this.oc?"true":"no"===this.oc?"false":this.oc),d.ta(t,this.tq()),null!=this.ze){var e=this.ze;("unlimited"==e||0<e)&&(t.LS_requested_buffer_size=e)}return x.logDebug(f.resolve(410),this),this.ak=t},QA:function(){if(this.kd==l.rg&&null!=this.Jb&&(this.cb=this.Jb.ie("command"),this.keyCode=this.Jb.ie("key"),!this.cb||!this.keyCode))throw new c("A field list for a COMMAND subscription must contain the key and command fields")},TA:function(t,e){x.logDebug(f.resolve(411),this,t,e),this.cb=t,this.keyCode=e},tb:function(){if(this.wf())throw new h("Cannot modify an active Subscription, please unsubscribe before applying any change")},Gx:function(){if(!this.wf())throw new h("Subscription is not active")},En:function(){if(this.kd!=l.rg)throw new h("Second level field list is only available on COMMAND Subscriptions")},El:function(){if(this.kd!=l.rg)throw new h("This method can only be used on COMMAND subscriptions")},Qx:function(){return 1==this.$a},ay:function(){return 2==this.$a},mr:function(){return 3==this.$a},Af:function(){return 4==this.$a},Sx:function(){return 5==this.$a},wf:function(){return 1!=this.$a},Dm:function(){return this.Af()},Ph:function(t){if(this.tb(),!g.isArray(t))throw new c(" Please specifiy a valid array");for(var e=0;e<t.length;e++){if(!t[e])throw new c("An item name cannot be empty");if(-1<t[e].indexOf(" "))throw new c("An item name cannot contain spaces");if(!isNaN(t[e]))throw new c("An item name cannot be a number")}this.Df=null==t?null:new n(t),this.Cf=null,this.Rb=this.Df},Dw:function(){if(!this.Df){if(this.Cf)throw new h("This Subscription was initiated using an item group, use getItemGroup instead of using getItems");throw new h("The  item list/item group of this Subscription was not initiated")}return this.Df.Nc()},Vs:function(t){this.tb(),this.Df=null,this.Rb=this.Cf=null==t?null:new i(t)},Cw:function(){if(!this.Cf){if(this.Df)throw new h("This Subscription was initiated using an item list, use getItems instead of using getItemGroup");throw new h("The  item list/item group of this Subscription was not initiated")}return this.Cf.Nc()},lk:function(t){if(this.tb(),!g.isArray(t))throw new c(" Please specifiy a valid array");b(t),this.Jb=null==t?null:new n(t),this.Kc=null,this.ma=this.Jb,this.QA()},zq:function(){if(!this.Jb){if(this.Kc)throw new h("This Subscription was initiated using a field schema, use getFieldSchema instead of using getFields");throw new h("The field list/field schema of this Subscription was not initiated")}return this.Jb.Nc()},Kn:function(t){this.tb(),this.Jb=null,this.ma=this.Kc=null==t?null:new i(t)},tw:function(){if(!this.Kc){if(this.Jb)throw new h("This Subscription was initiated using a field list, use getFields instead of using getFieldSchema");throw new h("The field list/field schema of this Subscription was not initiated")}return this.Kc.Nc()},gj:function(){return this.kd},Nh:function(t){this.tb(),this.Ki=t,x.logDebug(f.resolve(412),this,t)},qw:function(){return this.Ki},qk:function(t){this.tb(),this.si=t,x.logDebug(f.resolve(413),this,t)},Yw:function(){return this.si},Qh:function(t){t&&(t=(t=new String(t)).toLowerCase());var e=this.jb;if(this.wf()){if(!t&&0!=t)throw new h("Can't change the frequency from/to 'unfiltered' or to null while the Subscription is active");if("unfiltered"==t||"unfiltered"==this.jb)throw new h("Can't change the frequency from/to 'unfiltered' or to null while the Subscription is active")}if(t||0==t)if("unfiltered"==t||"unlimited"==t)this.jb=t;else try{this.jb=this.checkPositiveNumber(t,!1,!0)}catch(r){throw new c("The given value is not valid for this setting; use null, 'unlimited', 'unfiltered' or a positive number instead")}else this.jb=null;if((this.ay()||this.mr()||this.Af())&&String(e)!=String(this.jb)&&(this.f.ed(this,this.tq()),3==this.behavior)){var n=this;this.Kd.forEachElement(function(t){p.verifyOk(n.Af(),"Table not pushing"),t.Qh(n.jb)})}x.logDebug(f.resolve(414),this,this.jb)},Ww:function(){return this.jb},pk:function(t){if(this.tb(),t||0==t)if("unlimited"==(t=(t=new String(t)).toLowerCase()))this.ze=t;else try{this.ze=this.checkPositiveNumber(t)}catch(n){throw new c("The given value is not valid for this setting; use null, 'unlimited' or a positive number instead")}else this.ze=null;x.logDebug(f.resolve(415),this,this.ze)},Vw:function(){return this.ze},Nn:function(t){if(this.tb(),t||0==t)if("no"==(t=(t=new String(t)).toLowerCase()))this.oc=t;else{if(this.kd==l.Ok)throw new h("Snapshot is not permitted if RAW was specified as mode");if("yes"==t)this.oc=t;else{if(isNaN(t))throw new c("The given value is not valid for this setting; use null, 'yes', 'no' or a positive number instead");if(this.kd!=l.Kk)throw new h("Numeric values are only allowed when the subscription mode is DISTINCT");try{this.oc=this.checkPositiveNumber(t)}catch(n){throw new c("The given value is not valid for this setting; use null, 'yes', 'no' or a positive number instead")}}}else this.oc=null;x.logDebug(f.resolve(416),this,this.oc)},Xw:function(){return this.oc},tA:function(t){if(this.tb(),this.En(),!g.isArray(t))throw new c(" Please specifiy a valid array");b(t),this.Jd=null==t?null:new n(t),this.Fe=null,this.Vh=this.Jd,this.hs()},iw:function(){if(!this.Jd){if(this.Fe)throw new h("The second level of this Subscription was initiated using a field schema, use getCommandSecondLevelFieldSchema instead of using getCommandSecondLevelFields");throw new h("The second level of this Subscription was not initiated")}return this.Jd.Nc()},sA:function(t){this.tb(),this.En(),this.Jd=null,this.Vh=this.Fe=null==t?null:new i(t),this.hs()},hw:function(){if(!this.Fe){if(this.Jd)throw new h("The second level of this Subscription was initiated using a field list, use getCommandSecondLevelFields instead of using getCommandSecondLevelFieldSchema");throw new h("The second level of this Subscription was not initiated")}return this.Fe.Nc()},rA:function(t){this.tb(),this.En(),this.oo=t,x.logDebug(f.resolve(417),this,t)},gw:function(){return this.oo},getValue:function(t,e){return this.pe.get(this.kt(t),this.jt(e))},jw:function(t,e,n){return this.El(),this.Uc.get(this.kt(t)+" "+e,this.jt(n,!0))},Iq:function(){if(this.El(),!this.Kc&&this.Jb)throw new h("This Subscription was initiated using a field list, key field is always 'key'");if(null==this.keyCode)throw new h("The position of the key field is currently unknown");return this.keyCode},uq:function(){if(this.El(),!this.Kc&&this.Jb)throw new h("This Subscription was initiated using a field list, command field is always 'command'");if(null==this.cb)throw new h("The position of the command field is currently unknown");return this.cb},jt:function(t,e){var n=this.ai(t,this.ma,e);if(null===n)throw new c("the specified field does not exist");if(!1===n)throw new c("the specified field position is out of bounds");return n},kt:function(t){if(null===(t=this.ai(t,this.Rb)))throw new c("the specified item does not exist");if(!1===t)throw new c("the specified item position is out of bounds");return t},ai:function(t,e,n){return null==(t=isNaN(t)?e.ie(t):t)?null:!(0>=t||t>(n?e.pm():e.sb))&&t},hs:function(){this.behavior=null==this.Vh?2:3},Av:function(t){this.dispatchEvent("onEndOfSnapshot",[this.Rb.getName(t),t])},Vu:function(t){var e=this.Rb.getName(t);2==this.behavior?this.Uc=new s:3==this.behavior&&(this.Uc=new s,this.Tz(t)),this.dispatchEvent("onClearSnapshot",[e,t])},oy:function(t,e){this.dispatchEvent("onItemLostUpdates",[this.Rb.getName(t),t,e])},jB:function(t,e){this.dispatchEvent("onCommandSecondLevelItemLostUpdates",[e,t])},lA:function(t,e){this.dispatchEvent("onSubscriptionError",[t,e])},kB:function(t,e,n){this.dispatchEvent("onCommandSecondLevelSubscriptionError",[t,e,n])},update:function(t,n,i){p.verifyValue(4,this.$a,"Wrong table phase");var r=t[1],o=new String(r);1!=this.behavior&&(o=this.zz(t,r,i)),3!=this.behavior||i||this.rx(t),1==this.behavior?this.ot(this.pe,r,t,!0):this.ot(this.Uc,o,t,!0),t=new e(this.Rb.getName(r),r,this.ma,n,t),this.dispatchEvent("onItemUpdate",[t]),"DELETE"==this.Uc.get(o,this.cb)&&this.Uc.delRow(o)},ot:function(t,e,n,i){var r=n.length-2,o=1,s=2;for(n.no={};o<=r;o++,s++)n[s]!==_?t.insert(n[s],e,o):i&&(n[s]=t.get(e,o),n.no[s]=!0)},zz:function(t,e,n){var i;if(void 0===t[this.keyCode+1]||void 0===t[this.cb+1])return x.logWarn(f.resolve(401)),null;if(i=t[this.keyCode+1]==_?e+" "+this.pe.get(e,this.keyCode):e+" "+t[this.keyCode+1],n)t[this.keyCode+1]=_,t[this.cb+1]==this.Uc.get(i,this.cb)?t[this.cb+1]=_:(t.Gc.push(this.cb),t.Gc.sort(y));else{for(t.Gc=[],n=2;n<t.length;n++)t[n]&&t[n]==_?t[n]=this.pe.get(e,n-1):this.pe.insert(t[n],e,n-1),t[n]==this.Uc.get(i,n-1)?t[n]=_:t.Gc.push(n-1);if(3==this.behavior&&(e=this.Cq()+2)>t.length)for(n=t.length;n<e;n++)t[n]=_}return i},rx:function(t){var e=t[1],n=t[this.keyCode+1]==_?this.pe.get(e,this.keyCode):t[this.keyCode+1];t=t[this.cb+1];var i=this.Xq(e,n);"DELETE"==t?i&&this.zn(e,n):i||this.su(e,n)},py:function(){this.et=!0},Xq:function(t,e){return null!==this.Kd.get(t,e)},zn:function(t,e){this.f.rs(this.Kd.get(t,e)),this.Kd.del(t,e)},su:function(e,n){var i=new v(this.vB);i.py(),this.Kd.insert(i,e,n);try{i.Ph([n])}catch(s){return void this.dispatchEvent("onCommandSecondLevelSubscriptionError",[14,"The received key value is not a valid name for an Item",n])}this.Jd?i.lk(this.Jd.Nc()):i.Kn(this.Fe.Nc()),i.Nh(this.oo),i.Nn("yes"),i.jb=this.jb;var r=new t(this,e,n);i.addListener(r),this.f.ap(i)},RA:function(t){this.Vh.Hd(t)},Cq:function(){return this.ma.pm()},addListener:function(t){this._callSuperMethod(v,"addListener",[t])},removeListener:function(t){this._callSuperMethod(v,"removeListener",[t])},getListeners:function(){return this._callSuperMethod(v,"getListeners")}}).isActive=v.prototype.wf,v.prototype.isSubscribed=v.prototype.Dm,v.prototype.setItems=v.prototype.Ph,v.prototype.getItems=v.prototype.Dw,v.prototype.setItemGroup=v.prototype.Vs,v.prototype.getItemGroup=v.prototype.Cw,v.prototype.setFields=v.prototype.lk,v.prototype.getFields=v.prototype.zq,v.prototype.setFieldSchema=v.prototype.Kn,v.prototype.getFieldSchema=v.prototype.tw,v.prototype.getMode=v.prototype.gj,v.prototype.setDataAdapter=v.prototype.Nh,v.prototype.getDataAdapter=v.prototype.qw,v.prototype.setSelector=v.prototype.qk,v.prototype.getSelector=v.prototype.Yw,v.prototype.setRequestedMaxFrequency=v.prototype.Qh,v.prototype.getRequestedMaxFrequency=v.prototype.Ww,v.prototype.setRequestedBufferSize=v.prototype.pk,v.prototype.getRequestedBufferSize=v.prototype.Vw,v.prototype.setRequestedSnapshot=v.prototype.Nn,v.prototype.getRequestedSnapshot=v.prototype.Xw,v.prototype.setCommandSecondLevelFields=v.prototype.tA,v.prototype.getCommandSecondLevelFields=v.prototype.iw,v.prototype.setCommandSecondLevelFieldSchema=v.prototype.sA,v.prototype.getCommandSecondLevelFieldSchema=v.prototype.hw,v.prototype.setCommandSecondLevelDataAdapter=v.prototype.rA,v.prototype.getCommandSecondLevelDataAdapter=v.prototype.gw,v.prototype.getValue=v.prototype.getValue,v.prototype.getCommandValue=v.prototype.jw,v.prototype.getKeyPosition=v.prototype.Iq,v.prototype.getCommandPosition=v.prototype.uq,v.prototype.addListener=v.prototype.addListener,v.prototype.removeListener=v.prototype.removeListener,v.prototype.getListeners=v.prototype.getListeners,r(v,u,!1,!0),r(v,o,!0,!0),v}),define("LogMessages",["LoggerManager"],function(t){function e(){}var n="New value for setting received from API{New value for setting received from internal settings{Broadcasting setting to shared LightstreamerClient instances{Setting changed, firing notification{Unexpectedly missing session id{Bind request generated{Create request generated{Recovery request generated{Destroy request generated{Force rebind request generated{Path selected{New {Engine {Subscribing subscription{Unsubscribing subscription{Enqueueing subscription update{Resuming subscription update{Executing subscription update{sending Subscription to the engine{Overriding old promise for table {Delaying subscription completion{Resuming subscription completion{Ignored old promise triggered for table {Ignored old promise failed for table {Restoring all pending Subscriptions{Pausing active Subscription{Pausing all active Subscriptions{Delaying subscription action{Resuming subscription action{Executing subscription action{Delaying subscription action{Resuming subscription action{Subscription action had to be delayed on multiple instances{Unexpected progressive{Unexpected progressive{Received event prog higher than expected{Received event prog different than expected{Received event prog different than actual{Unexpected message outcome sequence{Changing reference session{Command phase check{Adding notification{Skipping replicated progressive{Unexpected command received, ignoring{Client or session unexpectedly disappeared while handling subscription{There is probably another web application connected to the same Lightstreamer Server within this browser instance. That could prevent the current application from connecting to the Server. Please close the other application to unblock the current one{New client attached to engine{Dismissing client{Can't find subscription anymore{Can't find page anymore{Notify back to the client that the subscription was handled{It has been detected that the JavaScript engine of this browser is not respecting the timeouts in setTimeout method calls. The Client has been disconnected from the Server in order to avoid reconnection loops. To try again, just refresh the page.{Unexpected openSocket call{Unexpected WebSocket _load call{Open path is disappeared{Error sending data over WebSocket{Unexpected send outcome while websocket is ready-to-send{Error on WebSocket connection{New WS connection oid={Closing WebSocket connection{Error closing WebSocket connection{Error opening WebSocket connection{timeout on WS open{error on closing a timed out WS{Preparing to bind on WebSocket connection{WebSocket transport sending oid={WebSocket transport receiving oid={WebSocket connection ready{WebSocket connection close event received{New sessionId ({Unexpected phase during binding of session{Unexpected phase during slow handling{Unexpected timeout event while session is _OFF{Unexpected error event while session is an non-active status{Unexpected loop event while session is an non-active status{Unexpected push event while session is an non-active status{Unexpected phase after create request sent{Unexpected phase after bind request sent{Unexpected phase during OK execution{Unexpected empty start time{Unexpected session id received on bind OK{Opening new session{Binding session{Closing session{Initializing session {Sending request to the server to force a rebind on the current connection{Sending request to the server to destroy the current session{New session{Copying prog {Resetting session oid={Session state change ({Mad timeouts? Avoid connection{Opening on server, send destroy{Binding session{Switch requested{Slow requested{Session shutdown{Make pause before next bind{Timeout event{Start session recovery. Cause: no response timeLeft={Start new session. Cause: no response{Timeout: recover session{Timeout: new session{Error event{Closing session: noImplAvailable{Closing session: unableToOpen{Start session recovery. Cause: socket failure while receiving{Closing broken session{Start session recovery. Cause: socket failure while recovering{Switching transport{Start new session{Status timeout in {Synch event received{Available bandwidth event received{Error41 event received{Keepalive event received{OK event received{Sync event received{Loop event received{End event received{Error opening CORS-XHR connection oid={New CORS-XHR connection oid={CORS-XHR connection closed oid={Error non closing connection opened using CORS-XHR{CORS-XHR transport sending oid={CORS-XHR transport receiving oid={CORS-XHR connection error oid={CORS-XHR request completed oid={Error reading CORS-XHR status oid={Error opening connection using XDomainRequest{Closing connection opened using XDomainRequest{Error non closing connection opened using XDomainRequest{XDomainRequest transport sending{Error on connection opened using XDomainRequest{XDomainRequest transport receiving{Connection opened using XDomainRequest completed{Error while sending request using html form{Closing connection opened using html form; actually doing nothing{Html form transport sending{Replace on forever-frame not available{Error while sending request using  replace on forever-frame{Closing connection opened using replace on forever-frame{Replace on forever-frame transport sending{Loading XHR frame to perform non-cross-origin requests{Client is offline, will retry later to load XHR frame{XHR frame loaded{XHR frame loading timeout expired, try to reload{XHR frame loading timeout expired again, will not try again{Passing request to the XHR frame{Error passing request to the XHR frame{Error closing connection opened using XHR{XHR transport sending{Closing connection opened using XHR{Error reading XHR status{XHR response complete{Error on connection opened using XHR{Error on disposing XHR's callback{Error on disposing XHR{Streaming enabled on XHR{XHR transport receiving{XHR response complete{Error opening connection using JSONP technique{JSONP transport sending{Closing connection opened using JSONP technique{Verify connection class{This class is not available on the current environment{Cross-origin request is needed, this class is not able to make cross-origin requests{Cookies on request are required, this class can't guarantee that cookies will be actually sent{Cross-protocol request is needed, this class is not able to make cross-protocol requests{Extra headers are given, this class is not able to send requests containing extra headers{This class can't be used in the current context{Connection class is good{Searching for an appropriate connection class{Restart connection selector{Unable to use available connections to connect to server{Unable to use available connections to connect to server{Client is offline, delaying connection to server{Connection request generated{Connection currently unavailable, delaying connection{Connection open to the server{Unexpected ws phase while opening connection{Unexpected ws phase during binding{Unexpected phase for an clean end of a WS{Unexpected connection error on a connection that was not yet open{can't be unable-to-open since the connection is already open{A control link was received while earlyWSOpenEnabled is set to true, a WebSocket was wasted.{Unexpected WebSocket failure{Open WebSocket to server{WebSockets currently unavailable, delaying connection{Connection to server bound upon WebSocket{Connection to server open upon WebSocket{WebSocket was broken before it was used{WebSocket was broken while we were waiting the first bind{WebSocket was broken while we were waiting{Sync message received while session wasn't in receiving status{Huge delay detected by sync signals. Restored from standby/hibernation?{Delay detected by sync signals{First sync message, check not performed{No delay detected by sync signals{No delay detected by sync signals{Duplicated message{Unexpected request type was given to this batch{Unexpected request type was given to this batch; expecting ADD REMOVE DESTROY or CONSTRAIN{ADD after REMOVE?{Trying to remove by index non-existent request{Trying to remove by key non-existent request{Storing request{Substituting CONSTRAINT or FORCE_REBIND request{Replacing 'second' ADD request with a REMOVE request for the same subscription{REMOVE request already stored, skipping{ADD request for the involved subscription was not yet sent; there is no need to send the related REMOVE request or the original ADD one, removing both{Same session id on different servers, store two different DESTROY requests{Verified duplicated DESTROY request, skipping{Duplicated ADD or CHANGE_SUB request, substitute the old one with the new one{Storing confirmed{Batch handler unexpectedly idle; a batch was waiting{Batch handler unexpectedly not idle; nothing ready to be sent was found{Batch object not null{Duplicated message{Unexpected sending outcome{Can't find an appropriate connection to send control batch{Unable to find a connection for control requests, will try again later{A single request size exceeds the <request_limit> configuration setting for the Server. Trying to send it anyway although it will be refused{Start sending reverse heartbeat to the server{Start sending reverse heartbeat to the server{Keep sending reverse heartbeat to the server{Stop sending reverse heartbeat to the server{Stop sending reverse heartbeat to the server{Keep sending reverse heartbeat to the server{New request to be sent to server{Some controls don't need to be sent anymore, keep on dequeing{Delaying control requests; waiting for a connection to become available{Control request sent through HTTP connection{Control request sent through WebSocket, keep on dequeuing{Control requests queue is now empty{Control request got answer{Error from network{Batch length limit changed{Preparing reverse heartbeat{Close current connection if any and applicable{ControlConnectionHandler state change {Reset Controls handler status{Enabling control requests over WebSocket now{Disabling control requests over WebSocket now{Still waiting previous control request batch to return{Ready to dequeue control requests to be sent to server{starting dequeuing{Send previously composed batch{Generate and send new batch{Empty batch, exit{Ready to send batch on net, choosing connection{WebSocket should be available, try to send through it{Empty request was generated, exit{Connection for control batch chosen{Empty request for HTTP was generated, exit{Connection failed, will try a different connection{Connection temporarily unavailable, will try later{Forward prepared message to control handler{Ack received for message{OK outcome received{DISCARDED outcome received{DENIED outcome received{ERROR outcome received{Closing message handler{Activating message handler{Preparing message request{No ack was received for a message; forwarding it again to the control handler{Ack received, stopping automatic retransmissions{Ack received, no outcome expected, clean structures{Not waiting for ack, purging{Message handled, clean structures{Message on the net notification{Unexpected error occurred while executing server-sent commands!{Enqueuing received data{Dequeuing received data{Data can't be handled{Unexpected fallback type; switching because the current session type cannot be established{Unexpected fallback type; switching because of a slow connection was detected{Unexpected fallback type switching with new session{Unexpected fallback type switching with a force rebind{Unexpected fallback type switching because of a failed force rebind{Can't initiate session, giving up, disabling automatic reconnections{Unable to establish session of the current type. Switching session type{Slow session detected. Switching session type{Setting up new session type{Switching current session type{Slow session switching{Failed to switch session type. Starting new session{Session started{New session handler oid={SessionManager state change:{Session recovery{Session recovery: cancelled{Session bound{Session closed{Discarding update for dismissed page{Received new update{Discarding lost updates notification for dismissed page{Received lost updates event{Discarding end of snapshot notification for dismissed page{Received end of snapshot event{Discarding snapshot clearing notification for dismissed page{Received snapshot clearing event{Received server error event{Received subscription error event{Discarding subscription error notification for dismissed page{Received unsubscription event{Discarding unsubscription notification for dismissed page{Received reconfiguration OK event{Discarding subscription notification for dismissed page{Received subscription event{Received message ack{Received message-ok notification{Received message-deny notification{Received message-discarded notification{Received message-error notification{New control link received{Dismissing current session and stopping automatic reconnections.{Opening a new session and starting automatic reconnections.{Shared worker is broken{RUNNING EXECUTOR AT {RESUMED TO {DELAYED TO {Unexpected sharing error{Unexpected dispatching error{Unexpected error on dispatching{Removing wrong address?{Address already removed?{SharedStatus remote sharing is ready{SharedStatus local sharing is ready{Started refresh thread{There is a concurrent engine. Close engine {Stopped refresh thread{Engine is probably dying, skip one cookie refresh{Checking status{No engines{Checking shared status to verify if there are similar engines alive{Engine found, no values though{Engine found, not compatible though{Write engine shared status{Found engine {Remote engine {You have Norton Internet Security or Norton\nPersonal Firewall installed on this computer.\nIf no real-time data show up, then you need\nto disable Ad Blocking in Norton Internet\nSecurity and then refresh this page{Trying to attach to a cross-page engine{Exception while trying to attach to a cross-page engine{Cross-page engine not found{Probably blocked popup detected: firefox-safari case{Cross-page engine attached{Verify if the found cross-page engine can be used{can't use found cross-page engine: page is now closed{can't use found cross-page engine: uneffective popup detected, chrome case{problem closing the generated popup{Probably blocked popup detected: opera common case{can't use found cross-page engine: Lightstreamer singleton not available{can't use found cross-page engine: Lightstreamer singleton content unavailable{Ready to use found cross-page engine: looks ok{can't use found cross-page engine: exception throw while accessing it{Skipping already-used cookie{Stop search for an engine{No sharing was found, a new sharing will be created{No sharing was found, will keep on searching after a pause{No sharing was found, no sharing will be created, this client will fail{A sharing was found but attaching is disabled, this client will fail{A sharing was found, this will attach to {Engine {A sharing was found, but accordingly with the configuration it will be ignored{Valid engine found: {invalid values{Found a likely dead engine{Searching for available sharing{Local engine found{Local engine not found. Can't search on other pages because of the current sharing configuration{Search remote engine in other page{RemoteEngine = {Can't access reference {Search remote engine in shared storage{Storage inspection complete{No valid engine found{Engine {Engine {Unexpected missing values in sharing cookie{Skipping not compatible engine{Valid engine values found. Wait for popup-protection timeout{No compatible sharing detected{No valid engine values found. Check again in {Forcing preventCrossWindowShare because page is on file:///{A new sharing will be immediately created{No way to obtain a sharing, this client will fail immediately{A sharing will now be searched{New connection sharing{no sharing on mourning room?{Sharing is not available on UCBrowser{Connection sharing is not available{Page is closing, won't search a new engine{Sharing lost, trying to obtain a new one{Connect requested{Disconnect requested{Executing connect{Executing disconnect{An exception was thrown while executing the Function passed to the forEachChangedField method{An exception was thrown while executing the Function passed to the forEachField method{key and/or command position not correctly configured{Subscription entered the active state{Subscription is now subscribed to{Subscription is not subscribed to anymore{Subscription reset{Subscription waiting to be sent to server{Subscription queued to be sent to server{Subscription is now on hold{Subscription exits the active status; it can now be modified{Subscription request generated{Received position of COMMAND and KEY fields from server{Adapter Set assigned{Selector assigned{Requested Max Frequency assigned{Requested Buffer Size assigned{Snapshot Required assigned{Second level Data Adapter Set assigned{Problem calling event on Flash object{Problem calling event on Flash object{Problem calling event on Flash object{Problem calling event on Flash object{Problem calling event on Flash object{Unable to get the Flash movie object reference{The flash object is unexpectedly disappeared{Notification from the flash object received, the object is still incomplete though; will check again later{Ready to make the bridge{Problem calling event on Flash object{Problem calling event on Flash object{Flash object is ready{Waiting a LightstreamerClient instance to create bridge{Waiting the flash object instance to create bridge{Waiting notification from the flash object to create bridge{Flash object disappeared or not yet found{Flash object disappeared or not yet ready{Flash object disappeared or not yet ready{Preparing subscription for flash{Subscribing subscription for flash{The LightstreamerClient is unexpectedly disappeared{The referenced Subscription does not exist{Unsubscribing subscription for flash{The LightstreamerClient is unexpectedly disappeared{The referenced Subscription does not exist{The referenced Subscription does not exist{The referenced Subscription does not exist{The referenced Subscription does not exist{The referenced Subscription does not exist{Wong length!{Missing from first array{Missing from second array{Wrong  element{Not expecting a NULL{Expecting a different value{Expecting 2 different values{Expecting a valid value{Expecting a not valid value{ASSERT failed{Unexpected{An error occurred while executing an event on a listener{Dispatching event on listeners{Can't remove row that does not exist{Cleaning the model{Removing row{Postpone new update until the current update/remove is completed{Postpone new remove until the current update/remove is completed{Inserting new row{Updating row{Scroll direction is ignored if sort is enabled{Merging this update values with the values of the current update{Filling formatted values in cell{New ChartLine{Clearing ChartLine{Repainting ChartLine{ChartLine re-painted{Calculated Y unit{Y labels generated{Y labels cleared{Y labels now configured{Line style configured{Y axis is now positioned{A DOM element must be provided as an anchor for the chart{Cannot create line. Please declare the Y axis{Chart is now ready to be used{Got double nulls, clear line{Parse html for Chart{Painter configured{Creating a new label for the chart{Drawing line on the chart{New line coordinates{New line was drawn{Repaint All{Calculated X unit{X labels generated{X labels cleared{Got a null, ignore point{Line removed{Cleaned all{X axis is now configured on field{Configuring multiple Y axis{Y axis is now configured on field{removing multiple Y axis{Y axis is now removed{X axis is now positioned{X labels now configured{Exception thrown while executing the iterator Function{Cannot find the scroll element{Can't find value for sort key field{Perform auto-scroll{Calculate number of pages{Unexpected position of row to be wiped".split("{");return t.resolve=function(t){return t+"] "+n[t]},e.Gw=function(e){return t.resolve(e)},t.resolve=t.resolve,e.getMessage=e.Gw,e}),define("SimpleLogLevels",[],function(){var t={FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1},e={priority:function(e){return t[e]||0}};return e.priority=e.priority,e}),define("SimpleLogAppender",["SimpleLogLevels"],function(t){function e(e,n){this.Qm=t.priority(e)?e:"INFO",this.vp=n||"*",this.Rm=null}return(e.prototype={setLoggerProvider:function(t){t&&t.getLogger&&t.qq&&(this.Rm=t)},log:function(){},composeLine:function(t,e,n,i){return t+" | "+e+" | "+i+" | "+n},getLevel:function(){return this.Qm},setLevel:function(e){this.Qm=e=t.priority(e)?e:"INFO",null!=this.Rm&&this.Rm.qq()},getCategoryFilter:function(){return this.vp},setCategoryFilter:function(t){this.vp=t||"*"}}).log=e.prototype.log,e.prototype.setLoggerProvider=e.prototype.setLoggerProvider,e.prototype.composeLine=e.prototype.composeLine,e.prototype.getLevel=e.prototype.getLevel,e.prototype.setLevel=e.prototype.setLevel,e.prototype.getCategoryFilter=e.prototype.getCategoryFilter,e.prototype.setCategoryFilter=e.prototype.setCategoryFilter,e}),define("BufferAppender",["Inheritance","SimpleLogAppender","SimpleLogLevels"],function(t,e,n){function i(t,e,n){this._callSuperConstructor(i,[t,e]),this.Yq=!n||0>n?0:n,this.first=0,this.Ff=-1,this.buffer={}}return(i.prototype={reset:function(){this.first=0,this.Ff=-1,this.buffer={}},extractLog:function(t){return t=this.getLog(null,t),this.reset(),t},getLog:function(t,e,i){var r="";for(t?(t=this.Ff-t+1)<this.first&&(t=this.first):t=this.first,e=e||"\n",i=n.priority(i||"DEBUG");t<=this.Ff;)n.priority(this.buffer[t].level)>=i&&(r+=this.buffer[t].zy),r+=e,t++;return r},log:function(t,e,n,i){var r=++this.Ff;0!=this.Yq&&r>=this.Yq&&(this.buffer[this.first]=null,this.first++),n=this.composeLine(t,e,n,i),this.buffer[r]={level:e,zy:n}},getLength:function(){return this.Ff-this.first+1}}).reset=i.prototype.reset,i.prototype.getLog=i.prototype.getLog,i.prototype.extractLog=i.prototype.extractLog,i.prototype.log=i.prototype.log,i.prototype.getLength=i.prototype.getLength,t(i,e),i}),define("ConsoleAppender",["Inheritance","SimpleLogAppender","IllegalStateException"],function(t,e,n){function i(t,e){if("undefined"==typeof console)throw new n("This appender can't work if a console is not available. Enable the Browser console if possible or change appender.");this._callSuperConstructor(i,[t,e])}return(i.prototype={log:function(t,e,n,i){switch(n=this.composeLine(t,e,n,i),e){case"DEBUG":if(console.debug)return void console.debug(n);break;case"INFO":if(console.info)return void console.info(n);break;case"WARN":if(console.warn)return void console.warn(n);default:if(console.error)return void console.error(n)}console.log(n)}}).log=i.prototype.log,t(i,e),i}),define("FunctionAppender",["Inheritance","SimpleLogAppender"],function(t,e){function n(t,e,i,r){this._callSuperConstructor(n,[t,e]),this.Vv=i,this.Qy=r||null}return(n.prototype={log:function(t,e,n,i){var r=this.Vv;if(r.apply){t=this.composeLine(t,e,n,i);try{r.apply(this.Qy,[t])}catch(o){}}}}).log=n.prototype.log,t(n,e),n}),define("RemoteAppender",["Inheritance","BufferAppender","Executor","IllegalArgumentException","SimpleLogLevels"],function(t,e,n,i){function r(t,e,n){if(this._callSuperConstructor(r,[t,e,10]),this.waiting=!1,!n)throw new i("a LightstreamerClient instance is necessary for a RemoteAppender to work.");this.Ro=n}return(r.prototype={log:function(t,e,n,i){this._callSuperMethod(r,"log",[t,e,n,i]),this.To(!0)},To:function(t){if(!(0>=this.getLength())){if(0==this.Ro.Ob().indexOf("CONNECTED")){var e=this.Iv();if(this.Ro.Jh(e))return this.reset(),void(this.waiting=!1)}this.waiting&&t||(this.waiting=!0,n.addTimedTask(this.To,2e3,this))}},Iv:function(t,e){for(var n=(n=this._callSuperMethod(r,"extractLog",["LS_log"])).split("LS_log"),i={},o=0;o<n.length;o++)0!=n[o].length&&(i["LS_log"+(o+1)]=encodeURIComponent(n[o].replace(/[\n\r\f]/g,"||")));return i},extractLog:function(){return null}}).extractLog=r.prototype.extractLog,r.prototype.log=r.prototype.log,t(r,e,!1,!0),r}),define("SimpleLogger",["SimpleLogLevels"],function(t){function e(t,e){this.nh=t,this.Jg=e,this.Lf="DEBUG"}return(e.prototype={fatal:function(t){this.isFatalEnabled()&&this.nh.dispatchLog(this.Jg,"FATAL",t)},isFatalEnabled:function(){return t.priority("FATAL")>=t.priority(this.Lf)},error:function(t){this.isErrorEnabled()&&this.nh.dispatchLog(this.Jg,"ERROR",t)},isErrorEnabled:function(){return t.priority("ERROR")>=t.priority(this.Lf)},warn:function(t){this.isWarnEnabled()&&this.nh.dispatchLog(this.Jg,"WARN",t)},isWarnEnabled:function(){return t.priority("WARN")>=t.priority(this.Lf)},info:function(t){this.isInfoEnabled()&&this.nh.dispatchLog(this.Jg,"INFO",t)},isInfoEnabled:function(){return t.priority("INFO")>=t.priority(this.Lf)},debug:function(t){this.isDebugEnabled()&&this.nh.dispatchLog(this.Jg,"DEBUG",t)},isDebugEnabled:function(){return t.priority("DEBUG")>=t.priority(this.Lf)},setLevel:function(e){this.Lf=t.priority(e)?e:"DEBUG"}}).fatal=e.prototype.fatal,e.prototype.isFatalEnabled=e.prototype.isFatalEnabled,e.prototype.error=e.prototype.error,e.prototype.isErrorEnabled=e.prototype.isErrorEnabled,e.prototype.warn=e.prototype.warn,e.prototype.isWarnEnabled=e.prototype.isWarnEnabled,e.prototype.info=e.prototype.info,e.prototype.isInfoEnabled=e.prototype.isInfoEnabled,e.prototype.debug=e.prototype.debug,e.prototype.isDebugEnabled=e.prototype.isDebugEnabled,e.prototype.setLevel=e.prototype.setLevel,e}),define("SimpleLoggerProvider",["SimpleLogger","SimpleLogLevels"],function(t,e){function n(){this.Sa=[],this.Hf={}}return(n.prototype={Bj:function(){var t=100,n=0;if(0<this.Sa.length){for(var i=0;i<this.Sa.length;i++)e.priority(this.Sa[i].getLevel())<t&&(t=e.priority(this.Sa[i].getLevel()),n=i);return this.Sa[n].getLevel()}return null},Ln:function(t){for(var e in this.Hf)this.Hf[e].setLevel(t)},Lu:function(t,e){if("*"===t.getCategoryFilter())return!0;for(var n=t.getCategoryFilter().split(" "),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1},addLoggerAppender:function(t){t&&t.log&&t.getLevel&&(this.Sa.push(t),t.setLoggerProvider&&t.setLoggerProvider(this)),this.Ln(this.Bj())},removeLoggerAppender:function(t){for(var e=0;e<this.Sa.length;e++)if(this.Sa[e]===t){this.Sa.splice(e,1),this.Ln(this.Bj());break}},qq:function(){this.Ln(this.Bj())},getLogger:function(e){return this.Hf[e]||(this.Hf[e]=new t(this,e),0<this.Sa.length&&this.Hf[e].setLevel(this.Bj())),this.Hf[e]},dispatchLog:function(t,n,i){var r;r="undefined"!=typeof window?window.name+" ":"";var o=0,s=new Date;for(10>(o=s.getHours())&&(r+="0"),r=r+o+":",10>(o=s.getMinutes())&&(r+="0"),r+=o,r+=":",10>(o=s.getSeconds())&&(r+="0"),r+=o,r+=",",r+=s.getMilliseconds(),o=e.priority(n),s=0;s<this.Sa.length;s++)e.priority(this.Sa[s].getLevel())<=o&&this.Lu(this.Sa[s],t)&&this.Sa[s].log(t,n,i,r)}}).addLoggerAppender=n.prototype.addLoggerAppender,n.prototype.removeLoggerAppender=n.prototype.removeLoggerAppender,n.prototype.getLogger=n.prototype.getLogger,n.prototype.dispatchLog=n.prototype.dispatchLog,n})}();var classes=["LightstreamerClient","Subscription","LogMessages","BufferAppender","ConsoleAppender","FunctionAppender","RemoteAppender","SimpleLoggerProvider"];oneRequire(classes,function(){for(var t=0;t<classes.length;t++)exports[classes[t]]=arguments[t]}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(function(){try{return require("moment")}catch(t){}}()):"function"==typeof define&&define.amd?define(["require"],function(t){return e(function(){try{return t("moment")}catch(e){}}())}):(t=t||self).Chart=e(t.moment)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(t,n){return function(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[e[i]]=i);var r=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var o in r)if(r.hasOwnProperty(o)){if(!("channels"in r[o]))throw new Error("missing channels property: "+o);if(!("labels"in r[o]))throw new Error("missing channel labels property: "+o);if(r[o].labels.length!==r[o].channels)throw new Error("channel and label counts mismatch: "+o);var s=r[o].channels,a=r[o].labels;delete r[o].channels,delete r[o].labels,Object.defineProperty(r[o],"channels",{value:s}),Object.defineProperty(r[o],"labels",{value:a})}r.rgb.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(i,r,o),a=Math.max(i,r,o),l=a-s;return a===s?e=0:i===a?e=(r-o)/l:r===a?e=2+(o-i)/l:o===a&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(s+a)/2,[e,100*(a===s?0:n<=.5?l/(a+s):l/(2-a-s)),100*n]},r.rgb.hsv=function(t){var e,n,i,r,o,s=t[0]/255,a=t[1]/255,l=t[2]/255,u=Math.max(s,a,l),c=u-Math.min(s,a,l),h=function(t){return(u-t)/6/c+.5};return 0===c?r=o=0:(o=c/u,e=h(s),n=h(a),i=h(l),s===u?r=i-n:a===u?r=1/3+e-i:l===u&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*u]},r.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2];return[r.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,i))*100,100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},r.rgb.cmyk=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},r.rgb.keyword=function(t){var i=n[t];if(i)return i;var r,o,s,a=1/0;for(var l in e)if(e.hasOwnProperty(l)){var u=(o=t,s=e[l],Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)+Math.pow(o[2]-s[2],2));u<a&&(a=u,r=l)}return r},r.keyword.rgb=function(t){return e[t]},r.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},r.rgb.lab=function(t){var e=r.rgb.xyz(t),n=e[0],i=e[1],o=e[2];return i/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},r.hsl.rgb=function(t){var e,n,i,r,o,s=t[0]/360,a=t[1]/100,l=t[2]/100;if(0===a)return[o=255*l,o,o];e=2*l-(n=l<.5?l*(1+a):l+a-l*a),r=[0,0,0];for(var u=0;u<3;u++)(i=s+1/3*-(u-1))<0&&i++,i>1&&i--,r[u]=255*(o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e);return r},r.hsl.hsv=function(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=n,o=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=o<=1?o:2-o,[e,100*(0===i?2*r/(o+r):2*n/(i+n)),(i+n)/2*100]},r.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),s=255*i*(1-n),a=255*i*(1-n*o),l=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}},r.hsv.hsl=function(t){var e,n,i,r=t[0],o=t[1]/100,s=t[2]/100,a=Math.max(s,.01);return i=(2-o)*s,n=o*a,[r,100*(n=(n/=(e=(2-o)*a)<=1?e:2-e)||0),100*(i/=2)]},r.hwb.rgb=function(t){var e,n,i,r,o,s,a,l=t[0]/360,u=t[1]/100,c=t[2]/100,h=u+c;switch(h>1&&(u/=h,c/=h),i=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(i=1-i),r=u+i*((n=1-c)-u),e){default:case 6:case 0:o=n,s=r,a=u;break;case 1:o=r,s=n,a=u;break;case 2:o=u,s=n,a=r;break;case 3:o=u,s=r,a=n;break;case 4:o=r,s=u,a=n;break;case 5:o=n,s=u,a=r}return[255*o,255*s,255*a]},r.cmyk.rgb=function(t){var e=t[1]/100,n=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-i)+i)),255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},r.xyz.rgb=function(t){var e,n,i,r=t[0]/100,o=t[1]/100,s=t[2]/100;return n=-.9689*r+1.8758*o+.0415*s,i=.0557*r+-.204*o+1.057*s,e=(e=3.2406*r+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},r.xyz.lab=function(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},r.lab.xyz=function(t){var e,n,i;e=t[1]/500+(n=(t[0]+16)/116),i=n-t[2]/200;var r=Math.pow(n,3),o=Math.pow(e,3),s=Math.pow(i,3);return n=r>.008856?r:(n-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,[e*=95.047,n*=100,i*=108.883]},r.lab.lch=function(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]},r.lch.lab=function(t){var e,n=t[1];return e=t[2]/360*2*Math.PI,[t[0],n*Math.cos(e),n*Math.sin(e)]},r.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],o=1 in arguments?arguments[1]:r.rgb.hsv(t)[2];if(0===(o=Math.round(o/50)))return 30;var s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===o&&(s+=60),s},r.hsv.ansi16=function(t){return r.rgb.ansi16(r.hsv.rgb(t),t[2])},r.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},r.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},r.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},r.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},r.rgb.hcg=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255,o=Math.max(Math.max(n,i),r),s=Math.min(Math.min(n,i),r),a=o-s;return e=a<=0?0:o===n?(i-r)/a%6:o===i?2+(r-n)/a:4+(n-i)/a+4,e/=6,[360*(e%=1),100*a,100*(a<1?s/(1-a):0)]},r.hsl.hcg=function(t){var e,n=t[1]/100,i=t[2]/100,r=0;return(e=i<.5?2*n*i:2*n*(1-i))<1&&(r=(i-.5*e)/(1-e)),[t[0],100*e,100*r]},r.hsv.hcg=function(t){var e=t[2]/100,n=t[1]/100*e,i=0;return n<1&&(i=(e-n)/(1-n)),[t[0],100*n,100*i]},r.hcg.rgb=function(t){var e=t[1]/100,n=t[2]/100;if(0===e)return[255*n,255*n,255*n];var i,r=[0,0,0],o=t[0]/360%1*6,s=o%1,a=1-s;switch(Math.floor(o)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return[255*(e*r[0]+(i=(1-e)*n)),255*(e*r[1]+i),255*(e*r[2]+i)]},r.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},r.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},r.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},r.hwb.hcg=function(t){var e=1-t[2]/100,n=e-t[1]/100,i=0;return n<1&&(i=(e-n)/(1-n)),[t[0],100*n,100*i]},r.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},r.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},r.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},r.gray.hsl=r.gray.hsv=function(t){return[0,0,t[0]]},r.gray.hwb=function(t){return[0,100,t[0]]},r.gray.cmyk=function(t){return[0,0,0,t[0]]},r.gray.lab=function(t){return[t[0],0,0]},r.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}}(n={exports:{}}),n.exports}();function i(t,e){return function(n){return e(t(n))}}function r(t,e){for(var r=[e[t].parent,t],o=n[e[t].parent][t],s=e[t].parent;e[s].parent;)r.unshift(e[s].parent),o=i(n[e[s].parent][s],o),s=e[s].parent;return o.conversion=r,o}var o={};Object.keys(n).forEach(function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:n[t].channels}),Object.defineProperty(o[t],"labels",{value:n[t].labels});var e=function(t){for(var e=function(t){var e=function(){for(var t={},e=Object.keys(n),i=e.length,r=0;r<i;r++)t[e[r]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;)for(var r=i.pop(),o=Object.keys(n[r]),s=o.length,a=0;a<s;a++){var l=o[a],u=e[l];-1===u.distance&&(u.distance=e[r].distance+1,u.parent=r,i.unshift(l))}return e}(t),i={},o=Object.keys(e),s=o.length,a=0;a<s;a++){var l=o[a];null!==e[l].parent&&(i[l]=r(l,e))}return i}(t);Object.keys(e).forEach(function(n){var i=e[n];o[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(i),o[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)})});var s=o,a={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},l={getRgba:u,getHsla:c,getRgb:function(t){var e=u(t);return e&&e.slice(0,3)},getHsl:function(t){var e=c(t);return e&&e.slice(0,3)},getHwb:h,getAlpha:function(t){var e=u(t);return e||(e=c(t))||(e=h(t))?e[3]:void 0},hexString:function(t,e){return e=void 0!==e&&3===t.length?e:t[3],"#"+v(t[0])+v(t[1])+v(t[2])+(e>=0&&e<1?v(Math.round(255*e)):"")},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:f,percentString:function(t,e){return e<1||t[3]&&t[3]<1?d(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:d,hslString:function(t,e){return e<1||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:p,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return b[t.slice(0,3)]}};function u(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var o=0;o<e.length;o++)e[o]=parseInt(i[o]+i[o],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=i[2],i=i[1],o=0;o<e.length;o++)e[o]=parseInt(i.slice(2*o,2*o+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<e.length;o++)e[o]=parseInt(i[o+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<e.length;o++)e[o]=Math.round(2.55*parseFloat(i[o+1]));n=parseFloat(i[4])}else if(i=t.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=a[i[1]]))return}for(o=0;o<e.length;o++)e[o]=g(e[o],0,255);return n=n||0==n?g(n,0,1):1,e[3]=n,e}}function c(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[g(parseInt(e[1]),0,360),g(parseFloat(e[2]),0,100),g(parseFloat(e[3]),0,100),g(isNaN(n)?1:n,0,1)]}}}function h(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[g(parseInt(e[1]),0,360),g(parseFloat(e[2]),0,100),g(parseFloat(e[3]),0,100),g(isNaN(n)?1:n,0,1)]}}}function f(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function d(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function g(t,e,n){return Math.min(Math.max(e,t),n)}function v(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var b={};for(var y in a)b[a[y]]=y;var m=function(t){return t instanceof m?t:this instanceof m?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=l.getRgba(t))?this.setValues("rgb",e):(e=l.getHsla(t))?this.setValues("hsl",e):(e=l.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new m(t);var e};m.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return l.hexString(this.values.rgb)},rgbString:function(){return l.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return l.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return l.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return l.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return l.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return l.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return l.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,i=t,r=void 0===e?.5:e,o=2*r-1,s=n.alpha()-i.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,l=1-a;return this.rgb(a*n.red()+l*i.red(),a*n.green()+l*i.green(),a*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new m,i=this.values,r=n.values;for(var o in i)i.hasOwnProperty(o)&&("[object Array]"===(e={}.toString.call(t=i[o]))?r[o]=t.slice(0):"[object Number]"===e?r[o]=t:console.error("unexpected color value:",t));return n}},m.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},m.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},m.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},m.prototype.setValues=function(t,e){var n,i,r=this.values,o=this.spaces,a=this.maxes,l=1;if(this.valid=!0,"alpha"===t)l=e;else if(e.length)r[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];l=e.a}else if(void 0!==e[o[t][0]]){var u=o[t];for(n=0;n<t.length;n++)r[t][n]=e[u[n]];l=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===l?r.alpha:l)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(a[t][n],r[t][n])),r[t][n]=Math.round(i);for(var c in o)c!==t&&(r[c]=s[t][c](r[t]));return!0},m.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},m.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:(n===i[e]||(i[e]=n,this.setValues(t,i)),this)},"undefined"!=typeof window&&(window.Color=m);var _=m;function x(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}var w,k={noop:function(){},uid:(w=0,function(){return w++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return k.valueOrDefault(k.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var r,o,s;if(k.isArray(t))if(o=t.length,i)for(r=o-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(k.isObject(t))for(o=(s=Object.keys(t)).length,r=0;r<o;r++)e.call(n,t[s[r]],s[r])},arrayEquals:function(t,e){var n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=e[n],(r=t[n])instanceof Array&&o instanceof Array){if(!k.arrayEquals(r,o))return!1}else if(r!==o)return!1;return!0},clone:function(t){if(k.isArray(t))return t.map(k.clone);if(k.isObject(t)){for(var e=Object.create(t),n=Object.keys(t),i=n.length,r=0;r<i;++r)e[n[r]]=k.clone(t[n[r]]);return e}return t},_merger:function(t,e,n,i){if(x(t)){var r=e[t],o=n[t];k.isObject(r)&&k.isObject(o)?k.merge(r,o,i):e[t]=k.clone(o)}},_mergerIf:function(t,e,n){if(x(t)){var i=e[t],r=n[t];k.isObject(i)&&k.isObject(r)?k.mergeIf(i,r):e.hasOwnProperty(t)||(e[t]=k.clone(r))}},merge:function(t,e,n){var i,r,o,s,a,l=k.isArray(e)?e:[e],u=l.length;if(!k.isObject(t))return t;for(i=(n=n||{}).merger||k._merger,r=0;r<u;++r)if(k.isObject(e=l[r]))for(a=0,s=(o=Object.keys(e)).length;a<s;++a)i(o[a],t,e,n);return t},mergeIf:function(t,e){return k.merge(t,e,{merger:k._mergerIf})},extend:Object.assign||function(t){return k.merge(t,[].slice.call(arguments,1),{merger:function(t,e,n){e[t]=n[t]}})},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=k.inherits,t&&k.extend(n.prototype,t),n.__super__=e.prototype,n},_deprecated:function(t,e,n,i){void 0!==e&&console.warn(t+': "'+n+'" is deprecated. Please use "'+i+'" instead')}},E=k;k.callCallback=k.callback,k.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},k.getValueOrDefault=k.valueOrDefault,k.getValueAtIndexOrDefault=k.valueAtIndexOrDefault;var S={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-S.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*S.easeInBounce(2*t):.5*S.easeOutBounce(2*t-1)+.5}},A={effects:S};E.easingEffects=S;var T=Math.PI,M=T/180,O=2*T,C=T/2,N=T/4,L=2*T/3,D={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,r,o){if(o){var s=Math.min(o,r/2,i/2),a=e+s,l=n+s,u=e+i-s,c=n+r-s;t.moveTo(e,l),a<u&&l<c?(t.arc(a,l,s,-T,-C),t.arc(u,l,s,-C,0),t.arc(u,c,s,0,C),t.arc(a,c,s,C,T)):a<u?(t.moveTo(a,n),t.arc(u,l,s,-C,C),t.arc(a,l,s,C,T+C)):l<c?(t.arc(a,l,s,-T,0),t.arc(a,c,s,0,T)):t.arc(a,l,s,-T,T),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,r)},drawPoint:function(t,e,n,i,r,o){var s,a,l,u,c,h=(o||0)*M;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(s=e.toString())||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(i,r),t.rotate(h),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(n)||n<=0)){switch(t.beginPath(),e){default:t.arc(i,r,n,0,O),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(h)*n,r-Math.cos(h)*n),h+=L,t.lineTo(i+Math.sin(h)*n,r-Math.cos(h)*n),h+=L,t.lineTo(i+Math.sin(h)*n,r-Math.cos(h)*n),t.closePath();break;case"rectRounded":u=n-(c=.516*n),a=Math.cos(h+N)*u,l=Math.sin(h+N)*u,t.arc(i-a,r-l,c,h-T,h-C),t.arc(i+l,r-a,c,h-C,h),t.arc(i+a,r+l,c,h,h+C),t.arc(i-l,r+a,c,h+C,h+T),t.closePath();break;case"rect":if(!o){u=Math.SQRT1_2*n,t.rect(i-u,r-u,2*u,2*u);break}h+=N;case"rectRot":a=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-a,r-l),t.lineTo(i+l,r-a),t.lineTo(i+a,r+l),t.lineTo(i-l,r+a),t.closePath();break;case"crossRot":h+=N;case"cross":a=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-a,r-l),t.lineTo(i+a,r+l),t.moveTo(i+l,r-a),t.lineTo(i-l,r+a);break;case"star":a=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-a,r-l),t.lineTo(i+a,r+l),t.moveTo(i+l,r-a),t.lineTo(i-l,r+a),h+=N,a=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-a,r-l),t.lineTo(i+a,r+l),t.moveTo(i+l,r-a),t.lineTo(i-l,r+a);break;case"line":a=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(i-a,r-l),t.lineTo(i+a,r+l);break;case"dash":t.moveTo(i,r),t.lineTo(i+Math.cos(h)*n,r+Math.sin(h)*n)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){var n=1e-6;return t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){var r=n.steppedLine;if(r){if("middle"===r){var o=(e.x+n.x)/2;t.lineTo(o,i?n.y:e.y),t.lineTo(o,i?e.y:n.y)}else"after"===r&&!i||"after"!==r&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}else n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},P=D;E.clear=D.clear,E.drawRoundedRectangle=function(t){t.beginPath(),D.roundedRect.apply(D,arguments)};var j={_set:function(t,e){return E.merge(this[t]||(this[t]={}),e)}};j._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var I=j,R=E.valueOrDefault,q={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,r;return E.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,r=+t.left||0):e=n=i=r=+t||0,{top:e,right:n,bottom:i,left:r,height:e+i,width:r+n}},_parseFont:function(t){var e=I.global,n=R(t.fontSize,e.defaultFontSize),i={family:R(t.fontFamily,e.defaultFontFamily),lineHeight:E.options.toLineHeight(R(t.lineHeight,e.defaultLineHeight),n),size:n,style:R(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return i.string=function(t){return!t||E.isNullOrUndef(t.size)||E.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i},resolve:function(t,e,n,i){var r,o,s,a=!0;for(r=0,o=t.length;r<o;++r)if(void 0!==(s=t[r])&&(void 0!==e&&"function"==typeof s&&(s=s(e),a=!1),void 0!==n&&E.isArray(s)&&(s=s[n],a=!1),void 0!==s))return i&&!a&&(i.cacheable=!1),s}},B={_factorize:function(t){var e,n=[],i=Math.sqrt(t);for(e=1;e<i;e++)t%e==0&&(n.push(e),n.push(t/e));return i===(0|i)&&n.push(i),n.sort(function(t,e){return t-e}).pop(),n},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e}},F=B;E.log10=B.log10;var z=E,H=P,U=q,W=F;z.easing=A,z.canvas=H,z.options=U,z.math=W,z.rtl={getRtlAdapter:function(t,e,n){return t?function(t,e){return{x:function(n){return t+t+e-n},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}}(e,n):{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}},overrideTextDirection:function(t,e){var n,i;"ltr"!==e&&"rtl"!==e||(i=[(n=t.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)},restoreTextDirection:function(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}};var V=function(t){z.extend(this,t),this.initialize.apply(this,arguments)};z.extend(V.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=z.extend({},t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,r=e._view;return n&&1!==t?(r||(r=e._view={}),i||(i=e._start={}),function(t,e,n,i){var r,o,s,a,l,u,c,h,f,d=Object.keys(n);for(r=0,o=d.length;r<o;++r)if(u=n[s=d[r]],e.hasOwnProperty(s)||(e[s]=u),(a=e[s])!==u&&"_"!==s[0]){if(t.hasOwnProperty(s)||(t[s]=a),(c=typeof u)==typeof(l=t[s]))if("string"===c){if((h=_(l)).valid&&(f=_(u)).valid){e[s]=f.mix(h,i).rgbString();continue}}else if(z.isFinite(l)&&z.isFinite(u)){e[s]=l+(u-l)*i;continue}e[s]=u}}(i,r,n,t),e):(e._view=z.extend({},n),e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return z.isNumber(this._model.x)&&z.isNumber(this._model.y)}}),V.extend=z.inherits;var Y=V,X=Y.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),K=X;Object.defineProperty(X.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(X.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),I._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:z.noop,onComplete:z.noop}});var G={animations:[],request:null,addAnimation:function(t,e,n,i){var r,o,s=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=n,i||(t.animating=!0),r=0,o=s.length;r<o;++r)if(s[r].chart===t)return void(s[r]=e);s.push(e),1===s.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=z.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=z.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this;t.advance(),t.animations.length>0&&t.requestAnimationFrame()},advance:function(){for(var t,e,n,i,r=this.animations,o=0;o<r.length;)e=(t=r[o]).chart,n=t.numSteps,i=Math.floor((Date.now()-t.startTime)/t.duration*n)+1,t.currentStep=Math.min(i,n),z.callback(t.render,[e,t],e),z.callback(t.onAnimationProgress,[t],e),t.currentStep>=n?(z.callback(t.onAnimationComplete,[t],e),e.animating=!1,r.splice(o,1)):++o}},$=z.options.resolve,Z=["push","pop","shift","splice","unshift"];function J(t,e){var n=t._chartjs;if(n){var i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(Z.forEach(function(e){delete t[e]}),delete t._chartjs)}}var Q=function(t,e){this.initialize(t,e)};z.extend(Q.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.chart,i=n.scales,r=t.getDataset(),o=n.options.scales;null!==e.xAxisID&&e.xAxisID in i&&!r.xAxisID||(e.xAxisID=r.xAxisID||o.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in i&&!r.yAxisID||(e.yAxisID=r.yAxisID||o.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&J(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,i=n.getMeta(),r=n.getDataset().data||[],o=i.data;for(t=0,e=r.length;t<e;++t)o[t]=o[t]||n.createMetaData(t);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,e,n=this,i=n.getDataset(),r=i.data||(i.data=[]);n._data!==r&&(n._data&&J(n._data,n),r&&Object.isExtensible(r)&&(e=n,(t=r)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Z.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),r=i.apply(this,e);return z.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),r}})}))),n._data=r),n.resyncElements()},_configure:function(){var t=this;t._config=z.merge(Object.create(null),[t.chart.options.datasets[t._type],t.getDataset()],{merger:function(t,e,n){"_meta"!==t&&"data"!==t&&z._merger(t,e,n)}})},_update:function(t){var e=this;e._configure(),e._cachedDataOpts=null,e.update(t)},update:z.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,r=0;r<i;++r)n[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},getStyle:function(t){var e,n=this,i=n.getMeta(),r=i.dataset;return n._configure(),!1!==(e=r&&void 0===t?n._resolveDatasetElementOptions(r||{}):n._resolveDataElementOptions(i.data[t=t||0]||{},t)).fill&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var n,i,r,o,s=this,a=s.chart,l=s._config,u=t.custom||{},c=a.options.elements[s.datasetElementType.prototype._type]||{},h=s._datasetElementOptions,f={},d={chart:a,dataset:s.getDataset(),datasetIndex:s.index,hover:e};for(n=0,i=h.length;n<i;++n)r=h[n],o=e?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,f[r]=$([u[o],l[o],c[o]],d);return f},_resolveDataElementOptions:function(t,e){var n=this,i=t&&t.custom,r=n._cachedDataOpts;if(r&&!i)return r;var o,s,a,l,u=n.chart,c=n._config,h=u.options.elements[n.dataElementType.prototype._type]||{},f=n._dataElementOptions,d={},p={chart:u,dataIndex:e,dataset:n.getDataset(),datasetIndex:n.index},g={cacheable:!i};if(i=i||{},z.isArray(f))for(s=0,a=f.length;s<a;++s)d[l=f[s]]=$([i[l],c[l],h[l]],p,e,g);else for(s=0,a=(o=Object.keys(f)).length;s<a;++s)d[l=o[s]]=$([i[l],c[f[l]],c[l],h[l]],p,e,g);return g.cacheable&&(n._cachedDataOpts=Object.freeze(d)),d},removeHoverStyle:function(t){z.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model,o=z.getHoverColor;t.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=$([i.hoverBackgroundColor,e.hoverBackgroundColor,o(r.backgroundColor)],void 0,n),r.borderColor=$([i.hoverBorderColor,e.hoverBorderColor,o(r.borderColor)],void 0,n),r.borderWidth=$([i.hoverBorderWidth,e.hoverBorderWidth,r.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,n,i,r,o,s=this.getMeta().dataset,a={};if(s){for(o=s._model,r=this._resolveDatasetElementOptions(s,!0),t=0,e=(i=Object.keys(r)).length;t<e;++t)a[n=i[t]]=o[n],o[n]=r[n];s.$previousStyle=a}},resyncElements:function(){var t=this,e=t.getMeta(),n=t.getDataset().data,i=e.data.length,r=n.length;r<i?e.data.splice(r,i-r):r>i&&t.insertElements(i,r-i)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Q.extend=z.inherits;var tt=Q,et=2*Math.PI;function nt(t,e){var n=e.startAngle,i=e.endAngle,r=e.pixelMargin,o=r/e.outerRadius,s=e.x,a=e.y;t.beginPath(),t.arc(s,a,e.outerRadius,n-o,i+o),e.innerRadius>r?t.arc(s,a,e.innerRadius-r,i+(o=r/e.innerRadius),n-o,!0):t.arc(s,a,r,i+Math.PI/2,n-Math.PI/2),t.closePath(),t.clip()}I._set("global",{elements:{arc:{backgroundColor:I.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var it=Y.extend({_type:"arc",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=z.getAngleFromPoint(n,{x:t,y:e}),r=i.angle,o=i.distance,s=n.startAngle,a=n.endAngle;a<s;)a+=et;for(;r>a;)r-=et;for(;r<s;)r+=et;return r>=s&&r<=a&&o>=n.innerRadius&&o<=n.outerRadius}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t,e=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,r={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/et)};if(e.save(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+et,e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),t=0;t<r.fullCircles;++t)e.fill();r.endAngle=r.startAngle+n.circumference%et}e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),e.fill(),n.borderWidth&&function(t,e,n){var i="inner"===e.borderAlign;i?(t.lineWidth=2*e.borderWidth,t.lineJoin="round"):(t.lineWidth=e.borderWidth,t.lineJoin="bevel"),n.fullCircles&&function(t,e,n,i){var r,o=n.endAngle;for(i&&(n.endAngle=n.startAngle+et,nt(t,n),n.endAngle=o,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=et,n.fullCircles--)),t.beginPath(),t.arc(n.x,n.y,n.innerRadius,n.startAngle+et,n.startAngle,!0),r=0;r<n.fullCircles;++r)t.stroke();for(t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.startAngle+et),r=0;r<n.fullCircles;++r)t.stroke()}(t,e,n,i),i&&nt(t,n),t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.endAngle),t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),t.closePath(),t.stroke()}(e,n,r),e.restore()}}),rt=z.valueOrDefault,ot=I.global.defaultColor;I._set("global",{elements:{line:{tension:.4,backgroundColor:ot,borderWidth:3,borderColor:ot,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var st=Y.extend({_type:"line",draw:function(){var t,e,n,i=this,r=i._view,o=i._chart.ctx,s=r.spanGaps,a=i._children.slice(),l=I.global,u=l.elements.line,c=-1,h=i._loop;if(a.length){if(i._loop){for(t=0;t<a.length;++t)if(e=z.previousItem(a,t),!a[t]._view.skip&&e._view.skip){a=a.slice(t).concat(a.slice(0,t)),h=s;break}h&&a.push(a[0])}for(o.save(),o.lineCap=r.borderCapStyle||u.borderCapStyle,o.setLineDash&&o.setLineDash(r.borderDash||u.borderDash),o.lineDashOffset=rt(r.borderDashOffset,u.borderDashOffset),o.lineJoin=r.borderJoinStyle||u.borderJoinStyle,o.lineWidth=rt(r.borderWidth,u.borderWidth),o.strokeStyle=r.borderColor||l.defaultColor,o.beginPath(),(n=a[0]._view).skip||(o.moveTo(n.x,n.y),c=0),t=1;t<a.length;++t)n=a[t]._view,e=-1===c?z.previousItem(a,t):a[c],n.skip||(c!==t-1&&!s||-1===c?o.moveTo(n.x,n.y):z.canvas.lineTo(o,e._view,n),c=t);h&&o.closePath(),o.stroke(),o.restore()}}}),at=z.valueOrDefault,lt=I.global.defaultColor;function ut(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}I._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:lt,borderColor:lt,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var ct=Y.extend({_type:"point",inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:ut,inXRange:ut,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._chart.ctx,i=e.pointStyle,r=e.rotation,o=e.radius,s=e.x,a=e.y,l=I.global,u=l.defaultColor;e.skip||(void 0===t||z.canvas._isPointInArea(e,t))&&(n.strokeStyle=e.borderColor||u,n.lineWidth=at(e.borderWidth,l.elements.point.borderWidth),n.fillStyle=e.backgroundColor||u,z.canvas.drawPoint(n,i,o,s,a,r))}}),ht=I.global.defaultColor;function ft(t){return t&&void 0!==t.width}function dt(t){var e,n,i,r,o;return ft(t)?(e=t.x-(o=t.width/2),n=t.x+o,i=Math.min(t.y,t.base),r=Math.max(t.y,t.base)):(o=t.height/2,e=Math.min(t.x,t.base),n=Math.max(t.x,t.base),i=t.y-o,r=t.y+o),{left:e,top:i,right:n,bottom:r}}function pt(t,e,n){return t===e?n:t===n?e:t}function gt(t,e,n){var i=null===e,r=null===n,o=!(!t||i&&r)&&dt(t);return o&&(i||e>=o.left&&e<=o.right)&&(r||n>=o.top&&n<=o.bottom)}I._set("global",{elements:{rectangle:{backgroundColor:ht,borderColor:ht,borderSkipped:"bottom",borderWidth:0}}});var vt=Y.extend({_type:"rectangle",draw:function(){var t=this._chart.ctx,e=this._view,n=function(t){var e=dt(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){var i,r,o,s,a=t.borderWidth,l=function(t){var e=t.borderSkipped,n={};return e?(t.horizontal?t.base>t.x&&(e=pt(e,"left","right")):t.base<t.y&&(e=pt(e,"bottom","top")),n[e]=!0,n):n}(t);return z.isObject(a)?(i=+a.top||0,r=+a.right||0,o=+a.bottom||0,s=+a.left||0):i=r=o=s=+a||0,{t:l.top||i<0?0:i>n?n:i,r:l.right||r<0?0:r>e?e:r,b:l.bottom||o<0?0:o>n?n:o,l:l.left||s<0?0:s>e?e:s}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}}(e),i=n.outer,r=n.inner;t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h),i.w===r.w&&i.h===r.h||(t.save(),t.beginPath(),t.rect(i.x,i.y,i.w,i.h),t.clip(),t.fillStyle=e.borderColor,t.rect(r.x,r.y,r.w,r.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return gt(this._view,t,e)},inLabelRange:function(t,e){var n=this._view;return ft(n)?gt(n,t,null):gt(n,null,e)},inXRange:function(t){return gt(this._view,t,null)},inYRange:function(t){return gt(this._view,null,t)},getCenterPoint:function(){var t,e,n=this._view;return ft(n)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return ft(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),bt={},yt=st,mt=ct,_t=vt;bt.Arc=it,bt.Line=yt,bt.Point=mt,bt.Rectangle=_t;var xt=z._deprecated,wt=z.valueOrDefault;I._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),I._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var kt=tt.extend({dataElementType:bt.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,e,n=this;tt.prototype.initialize.apply(n,arguments),(t=n.getMeta()).stack=n.getDataset().stack,t.bar=!0,e=n._getIndexScale().options,xt("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),xt("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),xt("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),xt("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),xt("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e,n,i=this,r=i.getMeta().data;for(i._ruler=i.getRuler(),e=0,n=r.length;e<n;++e)i.updateElement(r[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.getMeta(),o=i.getDataset(),s=i._resolveDataElementOptions(t,e);t._xScale=i.getScaleForId(r.xAxisID),t._yScale=i.getScaleForId(r.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderSkipped:s.borderSkipped,borderWidth:s.borderWidth,datasetLabel:o.label,label:i.chart.data.labels[e]},z.isArray(o.data[e])&&(t._model.borderSkipped=null),i._updateElementGeometry(t,e,n,s),t.pivot()},_updateElementGeometry:function(t,e,n,i){var r=this,o=t._model,s=r._getValueScale(),a=s.getBasePixel(),l=s.isHorizontal(),u=r._ruler||r.getRuler(),c=r.calculateBarValuePixels(r.index,e,i),h=r.calculateBarIndexPixels(r.index,e,u,i);o.horizontal=l,o.base=n?a:c.base,o.x=l?n?a:c.head:h.center,o.y=l?h.center:n?a:c.head,o.height=l?h.size:void 0,o.width=l?void 0:h.size},_getStacks:function(t){var e,n,i=this._getIndexScale(),r=i._getMatchingVisibleMetas(this._type),o=i.options.stacked,s=r.length,a=[];for(e=0;e<s&&(n=r[e],(!1===o||-1===a.indexOf(n.stack)||void 0===o&&void 0===n.stack)&&a.push(n.stack),n.index!==t);++e);return a},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this,i=n._getIndexScale(),r=[];for(t=0,e=n.getMeta().data.length;t<e;++t)r.push(i.getPixelForValue(null,t,n.index));return{pixels:r,start:i._startPixel,end:i._endPixel,stackCount:n.getStackCount(),scale:i}},calculateBarValuePixels:function(t,e,n){var i,r,o,s,a,l,u,c=this,h=c.chart,f=c._getValueScale(),d=f.isHorizontal(),p=h.data.datasets,g=f._getMatchingVisibleMetas(c._type),v=f._parseValue(p[t].data[e]),b=n.minBarLength,y=f.options.stacked,m=c.getMeta().stack,_=void 0===v.start?0:v.max>=0&&v.min>=0?v.min:v.max,x=void 0===v.start?v.end:v.max>=0&&v.min>=0?v.max-v.min:v.min-v.max,w=g.length;if(y||void 0===y&&void 0!==m)for(i=0;i<w&&(r=g[i]).index!==t;++i)r.stack===m&&(o=void 0===(u=f._parseValue(p[r.index].data[e])).start?u.end:u.min>=0&&u.max>=0?u.max:u.min,(v.min<0&&o<0||v.max>=0&&o>0)&&(_+=o));return s=f.getPixelForValue(_),l=(a=f.getPixelForValue(_+x))-s,void 0!==b&&Math.abs(l)<b&&(l=b,a=x>=0&&!d||x<0&&d?s-b:s+b),{size:l,base:s,head:a,center:a+l/2}},calculateBarIndexPixels:function(t,e,n,i){var r="flex"===i.barThickness?function(t,e,n){var i,r=e.pixels,o=r[t],s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,l=n.categoryPercentage;return null===s&&(s=o-(null===a?e.end-e.start:a-o)),null===a&&(a=o+o-s),i=o-(o-Math.min(s,a))/2*l,{chunk:Math.abs(a-s)/2*l/e.stackCount,ratio:n.barPercentage,start:i}}(e,n,i):function(t,e,n){var i,r,o=n.barThickness,s=e.stackCount,a=e.pixels[t],l=z.isNullOrUndef(o)?function(t,e){var n,i,r,o,s=t._length;for(r=1,o=e.length;r<o;++r)s=Math.min(s,Math.abs(e[r]-e[r-1]));for(r=0,o=t.getTicks().length;r<o;++r)i=t.getPixelForTick(r),s=r>0?Math.min(s,Math.abs(i-n)):s,n=i;return s}(e.scale,e.pixels):-1;return z.isNullOrUndef(o)?(i=l*n.categoryPercentage,r=n.barPercentage):(i=o*s,r=1),{chunk:i/s,ratio:r,start:a-i/2}}(e,n,i),o=this.getStackIndex(t,this.getMeta().stack),s=r.start+r.chunk*o+r.chunk/2,a=Math.min(wt(i.maxBarThickness,1/0),r.chunk*r.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}},draw:function(){var t=this,e=t.chart,n=t._getValueScale(),i=t.getMeta().data,r=t.getDataset(),o=i.length,s=0;for(z.canvas.clipArea(e.ctx,e.chartArea);s<o;++s){var a=n._parseValue(r.data[s]);isNaN(a.min)||isNaN(a.max)||i[s].draw()}z.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var t=this,e=z.extend({},tt.prototype._resolveDataElementOptions.apply(t,arguments)),n=t._getIndexScale().options,i=t._getValueScale().options;return e.barPercentage=wt(n.barPercentage,e.barPercentage),e.barThickness=wt(n.barThickness,e.barThickness),e.categoryPercentage=wt(n.categoryPercentage,e.categoryPercentage),e.maxBarThickness=wt(n.maxBarThickness,e.maxBarThickness),e.minBarLength=wt(i.minBarLength,e.minBarLength),e}}),Et=z.valueOrDefault,St=z.options.resolve;I._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": ("+t.xLabel+", "+t.yLabel+", "+e.datasets[t.datasetIndex].data[t.index].r+")"}}}});var At=tt.extend({dataElementType:bt.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(t){var e=this,n=e.getMeta();z.each(n.data,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){var i=this,r=i.getMeta(),o=t.custom||{},s=i.getScaleForId(r.xAxisID),a=i.getScaleForId(r.yAxisID),l=i._resolveDataElementOptions(t,e),u=i.getDataset().data[e],c=i.index,h=n?s.getPixelForDecimal(.5):s.getPixelForValue("object"==typeof u?u:NaN,e,c),f=n?a.getBasePixel():a.getPixelForValue(u,e,c);t._xScale=s,t._yScale=a,t._options=l,t._datasetIndex=c,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:o.skip||isNaN(h)||isNaN(f),x:h,y:f},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Et(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Et(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Et(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(t,e){var n=this,i=n.chart,r=n.getDataset(),o=t.custom||{},s=r.data[e]||{},a=tt.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:i,dataIndex:e,dataset:r,datasetIndex:n.index};return n._cachedDataOpts===a&&(a=z.extend({},a)),a.radius=St([o.radius,s.r,n._config.radius,i.options.elements.point.radius],l,e),a}}),Tt=z.valueOrDefault,Mt=Math.PI,Ot=2*Mt,Ct=Mt/2;I._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e,n,i,r=document.createElement("ul"),o=t.data,s=o.datasets,a=o.labels;if(r.setAttribute("class",t.id+"-legend"),s.length)for(e=0,n=s[0].data.length;e<n;++e)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=s[0].backgroundColor[e],a[e]&&i.appendChild(document.createTextNode(a[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var r=t.getDatasetMeta(0),o=r.controller.getStyle(i);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(e.datasets[0].data[i])||r.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,s=this.chart;for(n=0,i=(s.data.datasets||[]).length;n<i;++n)(r=s.getDatasetMeta(n)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);s.update()}},cutoutPercentage:50,rotation:-Ct,circumference:Ot,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return z.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Nt=tt.extend({dataElementType:bt.Arc,linkScales:z.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e,n,i=this,r=i.chart,o=r.chartArea,s=r.options,a=1,l=1,u=0,c=0,h=i.getMeta(),f=h.data,d=s.cutoutPercentage/100||0,p=s.circumference,g=i._getRingWeight(i.index);if(p<Ot){var v=s.rotation%Ot,b=(v+=v>=Mt?-Ot:v<-Mt?Ot:0)+p,y=Math.cos(v),m=Math.sin(v),_=Math.cos(b),x=Math.sin(b),w=v<=0&&b>=0||b>=Ot,k=v<=Ct&&b>=Ct||b>=Ot+Ct,E=v<=-Ct&&b>=-Ct||b>=Mt+Ct,S=v===-Mt||b>=Mt?-1:Math.min(y,y*d,_,_*d),A=E?-1:Math.min(m,m*d,x,x*d),T=w?1:Math.max(y,y*d,_,_*d),M=k?1:Math.max(m,m*d,x,x*d);a=(T-S)/2,l=(M-A)/2,u=-(T+S)/2,c=-(M+A)/2}for(e=0,n=f.length;e<n;++e)f[e]._options=i._resolveDataElementOptions(f[e],e);for(r.borderWidth=i.getMaxBorderWidth(),r.outerRadius=Math.max(Math.min((o.right-o.left-r.borderWidth)/a,(o.bottom-o.top-r.borderWidth)/l)/2,0),r.innerRadius=Math.max(r.outerRadius*d,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),r.offsetX=u*r.outerRadius,r.offsetY=c*r.outerRadius,h.total=i.calculateTotal(),i.outerRadius=r.outerRadius-r.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-r.radiusLength*g,0),e=0,n=f.length;e<n;++e)i.updateElement(f[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.chart,o=r.chartArea,s=r.options,a=s.animation,l=(o.left+o.right)/2,u=(o.top+o.bottom)/2,c=s.rotation,h=s.rotation,f=i.getDataset(),d=n&&a.animateRotate||t.hidden?0:i.calculateCircumference(f.data[e])*(s.circumference/Ot),p=t._options||{};z.extend(t,{_datasetIndex:i.index,_index:e,_model:{backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,borderAlign:p.borderAlign,x:l+r.offsetX,y:u+r.offsetY,startAngle:c,endAngle:h,circumference:d,outerRadius:n&&a.animateScale?0:i.outerRadius,innerRadius:n&&a.animateScale?0:i.innerRadius,label:z.valueAtIndexOrDefault(f.label,e,r.data.labels[e])}});var g=t._model;n&&a.animateRotate||(g.startAngle=0===e?s.rotation:i.getMeta().data[e-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),i=0;return z.each(n.data,function(n,r){t=e.data[r],isNaN(t)||n.hidden||(i+=Math.abs(t))}),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?Ot*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,n,i,r,o,s,a,l,u=0,c=this.chart;if(!t)for(e=0,n=c.data.datasets.length;e<n;++e)if(c.isDatasetVisible(e)){t=(i=c.getDatasetMeta(e)).data,e!==this.index&&(o=i.controller);break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)r=t[e],o?(o._configure(),s=o._resolveDataElementOptions(r,e)):s=r._options,"inner"!==s.borderAlign&&(u=(l=s.hoverBorderWidth)>(u=(a=s.borderWidth)>u?a:u)?l:u);return u},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Tt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Tt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Tt(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e},_getRingWeight:function(t){return Math.max(Tt(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});I._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),I._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Lt=kt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Dt=z.valueOrDefault,Pt=z.options.resolve,jt=z.canvas._isPointInArea;function It(t,e){var n=t&&t.options.ticks||{},i=n.reverse,r=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:i?o:r,end:i?r:o}}function Rt(t,e,n){var i=n/2,r=It(t,i),o=It(e,i);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function qt(t){var e,n,i,r;return z.isObject(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r}}I._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Bt=tt.extend({datasetElementType:bt.Line,dataElementType:bt.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e,n,i=this,r=i.getMeta(),o=r.dataset,s=r.data||[],a=i._config,l=i._showLine=Dt(a.showLine,i.chart.options.showLines);for(i._xScale=i.getScaleForId(r.xAxisID),i._yScale=i.getScaleForId(r.yAxisID),l&&(void 0!==a.tension&&void 0===a.lineTension&&(a.lineTension=a.tension),o._scale=i._yScale,o._datasetIndex=i.index,o._children=s,o._model=i._resolveDatasetElementOptions(o),o.pivot()),e=0,n=s.length;e<n;++e)i.updateElement(s[e],e,t);for(l&&0!==o._model.tension&&i.updateBezierControlPoints(),e=0,n=s.length;e<n;++e)s[e].pivot()},updateElement:function(t,e,n){var i,r,o=this,s=o.getMeta(),a=t.custom||{},l=o.getDataset(),u=o.index,c=l.data[e],h=o._xScale,f=o._yScale,d=s.dataset._model,p=o._resolveDataElementOptions(t,e);i=h.getPixelForValue("object"==typeof c?c:NaN,e,u),r=n?f.getBasePixel():o.calculatePointY(c,e,u),t._xScale=h,t._yScale=f,t._options=p,t._datasetIndex=u,t._index=e,t._model={x:i,y:r,skip:a.skip||isNaN(i)||isNaN(r),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:Dt(a.tension,d?d.tension:0),steppedLine:!!d&&d.steppedLine,hitRadius:p.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this,n=e._config,i=t.custom||{},r=e.chart.options,o=r.elements.line,s=tt.prototype._resolveDatasetElementOptions.apply(e,arguments);return s.spanGaps=Dt(n.spanGaps,r.spanGaps),s.tension=Dt(n.lineTension,o.tension),s.steppedLine=Pt([i.steppedLine,n.steppedLine,o.stepped]),s.clip=qt(Dt(n.clip,Rt(e._xScale,e._yScale,s.borderWidth))),s},calculatePointY:function(t,e,n){var i,r,o,s,a,l,u=this.chart,c=this._yScale,h=0,f=0;if(c.options.stacked){for(s=+c.getRightValue(t),l=(a=u._getSortedVisibleDatasetMetas()).length,i=0;i<l&&(r=a[i]).index!==n;++i)"line"===r.type&&r.yAxisID===c.id&&((o=+c.getRightValue(u.data.datasets[r.index].data[e]))<0?f+=o||0:h+=o||0);return c.getPixelForValue(s<0?f+s:h+s)}return c.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,n,i,r=this.chart,o=this.getMeta(),s=o.dataset._model,a=r.chartArea,l=o.data||[];function u(t,e,n){return Math.max(Math.min(t,n),e)}if(s.spanGaps&&(l=l.filter(function(t){return!t._model.skip})),"monotone"===s.cubicInterpolationMode)z.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t)n=l[t]._model,i=z.splineCurve(z.previousItem(l,t)._model,n,z.nextItem(l,t)._model,s.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(r.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t)jt(n=l[t]._model,a)&&(t>0&&jt(l[t-1]._model,a)&&(n.controlPointPreviousX=u(n.controlPointPreviousX,a.left,a.right),n.controlPointPreviousY=u(n.controlPointPreviousY,a.top,a.bottom)),t<l.length-1&&jt(l[t+1]._model,a)&&(n.controlPointNextX=u(n.controlPointNextX,a.left,a.right),n.controlPointNextY=u(n.controlPointNextY,a.top,a.bottom)))},draw:function(){var t,e=this,n=e.chart,i=e.getMeta(),r=i.data||[],o=n.chartArea,s=n.canvas,a=0,l=r.length;for(e._showLine&&(z.canvas.clipArea(n.ctx,{left:!1===(t=i.dataset._model.clip).left?0:o.left-t.left,right:!1===t.right?s.width:o.right+t.right,top:!1===t.top?0:o.top-t.top,bottom:!1===t.bottom?s.height:o.bottom+t.bottom}),i.dataset.draw(),z.canvas.unclipArea(n.ctx));a<l;++a)r[a].draw(o)},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Dt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Dt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Dt(n.hoverBorderWidth,n.borderWidth),e.radius=Dt(n.hoverRadius,n.radius)}}),Ft=z.options.resolve;I._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,n,i,r=document.createElement("ul"),o=t.data,s=o.datasets,a=o.labels;if(r.setAttribute("class",t.id+"-legend"),s.length)for(e=0,n=s[0].data.length;e<n;++e)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=s[0].backgroundColor[e],a[e]&&i.appendChild(document.createTextNode(a[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var r=t.getDatasetMeta(0),o=r.controller.getStyle(i);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(e.datasets[0].data[i])||r.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,s=this.chart;for(n=0,i=(s.data.datasets||[]).length;n<i;++n)(r=s.getDatasetMeta(n)).data[o].hidden=!r.data[o].hidden;s.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var zt=tt.extend({dataElementType:bt.Arc,linkScales:z.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i,r=this,o=r.getDataset(),s=r.getMeta(),a=r.chart.options.startAngle||0,l=r._starts=[],u=r._angles=[],c=s.data;for(r._updateRadius(),s.count=r.countVisibleElements(),e=0,n=o.data.length;e<n;e++)l[e]=a,i=r._computeAngle(e),u[e]=i,a+=i;for(e=0,n=c.length;e<n;++e)c[e]._options=r._resolveDataElementOptions(c[e],e),r.updateElement(c[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max(r/2,0),e.innerRadius=Math.max(i.cutoutPercentage?e.outerRadius/100*i.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var i=this,r=i.chart,o=i.getDataset(),s=r.options,a=s.animation,l=r.scale,u=r.data.labels,c=l.xCenter,h=l.yCenter,f=s.startAngle,d=t.hidden?0:l.getDistanceFromCenterForValue(o.data[e]),p=i._starts[e],g=p+(t.hidden?0:i._angles[e]),v=a.animateScale?0:l.getDistanceFromCenterForValue(o.data[e]),b=t._options||{};z.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth,borderAlign:b.borderAlign,x:c,y:h,innerRadius:0,outerRadius:n?v:d,startAngle:n&&a.animateRotate?f:p,endAngle:n&&a.animateRotate?f:g,label:z.valueAtIndexOrDefault(u,e,u[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return z.each(e.data,function(e,i){isNaN(t.data[i])||e.hidden||n++}),n},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor,r=z.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=r(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(t){var e=this,n=this.getMeta().count,i=e.getDataset(),r=e.getMeta();return isNaN(i.data[t])||r.data[t].hidden?0:Ft([e.chart.options.elements.arc.angle,2*Math.PI/n],{chart:e.chart,dataIndex:t,dataset:i,datasetIndex:e.index},t)}});I._set("pie",z.clone(I.doughnut)),I._set("pie",{cutoutPercentage:0});var Ht=Nt,Ut=z.valueOrDefault;I._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Wt=tt.extend({datasetElementType:bt.Line,dataElementType:bt.Point,linkScales:z.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i=this,r=i.getMeta(),o=r.dataset,s=r.data||[],a=i.chart.scale,l=i._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=a,o._datasetIndex=i.index,o._children=s,o._loop=!0,o._model=i._resolveDatasetElementOptions(o),o.pivot(),e=0,n=s.length;e<n;++e)i.updateElement(s[e],e,t);for(i.updateBezierControlPoints(),e=0,n=s.length;e<n;++e)s[e].pivot()},updateElement:function(t,e,n){var i=this,r=t.custom||{},o=i.getDataset(),s=i.chart.scale,a=s.getPointPositionForValue(e,o.data[e]),l=i._resolveDataElementOptions(t,e),u=i.getMeta().dataset._model,c=n?s.xCenter:a.x,h=n?s.yCenter:a.y;t._scale=s,t._options=l,t._datasetIndex=i.index,t._index=e,t._model={x:c,y:h,skip:r.skip||isNaN(c)||isNaN(h),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Ut(r.tension,u?u.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var t=this,e=t._config,n=t.chart.options,i=tt.prototype._resolveDatasetElementOptions.apply(t,arguments);return i.spanGaps=Ut(e.spanGaps,n.spanGaps),i.tension=Ut(e.lineTension,n.elements.line.tension),i},updateBezierControlPoints:function(){var t,e,n,i,r=this.getMeta(),o=this.chart.chartArea,s=r.data||[];function a(t,e,n){return Math.max(Math.min(t,n),e)}for(r.dataset._model.spanGaps&&(s=s.filter(function(t){return!t._model.skip})),t=0,e=s.length;t<e;++t)n=s[t]._model,i=z.splineCurve(z.previousItem(s,t,!0)._model,n,z.nextItem(s,t,!0)._model,n.tension),n.controlPointPreviousX=a(i.previous.x,o.left,o.right),n.controlPointPreviousY=a(i.previous.y,o.top,o.bottom),n.controlPointNextX=a(i.next.x,o.left,o.right),n.controlPointNextY=a(i.next.y,o.top,o.bottom)},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Ut(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Ut(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Ut(n.hoverBorderWidth,n.borderWidth),e.radius=Ut(n.hoverRadius,n.radius)}});I._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),I._set("global",{datasets:{scatter:{showLine:!1}}});var Vt={bar:kt,bubble:At,doughnut:Nt,horizontalBar:Lt,line:Bt,polarArea:zt,pie:Ht,radar:Wt,scatter:Bt};function Yt(t,e){return t.native?{x:t.x,y:t.y}:z.getRelativePosition(t,e)}function Xt(t,e){var n,i,r,o,s,a,l=t._getSortedVisibleDatasetMetas();for(i=0,o=l.length;i<o;++i)for(r=0,s=(n=l[i].data).length;r<s;++r)(a=n[r])._view.skip||e(a)}function Kt(t,e){var n=[];return Xt(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function Gt(t,e,n,i){var r=Number.POSITIVE_INFINITY,o=[];return Xt(t,function(t){if(!n||t.inRange(e.x,e.y)){var s=t.getCenterPoint(),a=i(e,s);a<r?(o=[t],r=a):a===r&&o.push(t)}}),o}function $t(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){var r=e?Math.abs(t.x-i.x):0,o=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Zt(t,e,n){var i=Yt(e,t);n.axis=n.axis||"x";var r=$t(n.axis),o=n.intersect?Kt(t,i):Gt(t,i,!1,r),s=[];return o.length?(t._getSortedVisibleDatasetMetas().forEach(function(t){var e=t.data[o[0]._index];e&&!e._view.skip&&s.push(e)}),s):[]}var Jt={modes:{single:function(t,e){var n=Yt(e,t),i=[];return Xt(t,function(t){if(t.inRange(n.x,n.y))return i.push(t),i}),i.slice(0,1)},label:Zt,index:Zt,dataset:function(t,e,n){var i=Yt(e,t);n.axis=n.axis||"xy";var r=$t(n.axis),o=n.intersect?Kt(t,i):Gt(t,i,!1,r);return o.length>0&&(o=t.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(t,e){return Zt(t,e,{intersect:!1})},point:function(t,e){return Kt(t,Yt(e,t))},nearest:function(t,e,n){var i=Yt(e,t);n.axis=n.axis||"xy";var r=$t(n.axis);return Gt(t,i,n.intersect,r)},x:function(t,e,n){var i=Yt(e,t),r=[],o=!1;return Xt(t,function(t){t.inXRange(i.x)&&r.push(t),t.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r},y:function(t,e,n){var i=Yt(e,t),r=[],o=!1;return Xt(t,function(t){t.inYRange(i.y)&&r.push(t),t.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r}}},Qt=z.extend;function te(t,e){return z.where(t,function(t){return t.pos===e})}function ee(t,e){return t.sort(function(t,n){var i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function ne(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ie(t,e,n){var i,r,o=n.box,s=t.maxPadding;if(n.size&&(t[n.pos]-=n.size),n.size=n.horizontal?o.height:o.width,t[n.pos]+=n.size,o.getPadding){var a=o.getPadding();s.top=Math.max(s.top,a.top),s.left=Math.max(s.left,a.left),s.bottom=Math.max(s.bottom,a.bottom),s.right=Math.max(s.right,a.right)}if(i=e.outerWidth-ne(s,t,"left","right"),r=e.outerHeight-ne(s,t,"top","bottom"),i!==t.w||r!==t.h){t.w=i,t.h=r;var l=n.horizontal?[i,t.w]:[r,t.h];return!(l[0]===l[1]||isNaN(l[0])&&isNaN(l[1]))}}function re(t,e){var n,i=e.maxPadding;return n={left:0,top:0,right:0,bottom:0},(t?["left","right"]:["top","bottom"]).forEach(function(t){n[t]=Math.max(e[t],i[t])}),n}function oe(t,e,n){var i,r,o,s,a,l,u=[];for(i=0,r=t.length;i<r;++i)(s=(o=t[i]).box).update(o.width||e.w,o.height||e.h,re(o.horizontal,e)),ie(e,n,o)&&(l=!0,u.length&&(a=!0)),s.fullWidth||u.push(o);return a&&oe(u,e,n)||l}function se(t,e,n){var i,r,o,s,a=n.padding,l=e.x,u=e.y;for(i=0,r=t.length;i<r;++i)s=(o=t[i]).box,o.horizontal?(s.left=s.fullWidth?a.left:e.left,s.right=s.fullWidth?n.outerWidth-a.right:e.left+e.w,s.top=u,s.bottom=u+s.height,s.width=s.right-s.left,u=s.bottom):(s.left=l,s.right=l+s.width,s.top=e.top,s.bottom=e.top+e.h,s.height=s.bottom-s.top,l=s.right);e.x=l,e.y=u}I._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var ae,le={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,r=["fullWidth","position","weight"],o=r.length,s=0;s<o;++s)n.hasOwnProperty(i=r[s])&&(e[i]=n[i])},update:function(t,e,n){if(t){var i=z.options.toPadding((t.options.layout||{}).padding),r=e-i.width,o=n-i.height,s=function(t){var e=function(t){var e,n,i,r=[];for(e=0,n=(t||[]).length;e<n;++e)r.push({index:e,box:i=t[e],pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return r}(t),n=ee(te(e,"left"),!0),i=ee(te(e,"right")),r=ee(te(e,"top"),!0),o=ee(te(e,"bottom"));return{leftAndTop:n.concat(r),rightAndBottom:i.concat(o),chartArea:te(e,"chartArea"),vertical:n.concat(i),horizontal:r.concat(o)}}(t.boxes),a=s.vertical,l=s.horizontal,u=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,vBoxMaxWidth:r/2/a.length,hBoxMaxHeight:o/2}),c=Qt({maxPadding:Qt({},i),w:r,h:o,x:i.left,y:i.top},i);!function(t,e){var n,i,r;for(n=0,i=t.length;n<i;++n)(r=t[n]).width=r.horizontal?r.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,r.height=r.horizontal&&e.hBoxMaxHeight}(a.concat(l),u),oe(a,c,u),oe(l,c,u)&&oe(a,c,u),function(t){var e=t.maxPadding;function n(n){var i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(c),se(s.leftAndTop,c,u),c.x+=c.w,c.y+=c.h,se(s.rightAndBottom,c,u),t.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h},z.each(s.chartArea,function(e){var n=e.box;Qt(n,t.chartArea),n.update(c.w,c.h)})}}},ue=(ae=Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"}))&&ae.default||ae,ce="chartjs-size-monitor",he="chartjs-render-monitor",fe=["animationstart","webkitAnimationStart"],de={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function pe(t,e){var n=z.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var ge=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(n){}return t}()&&{passive:!0};function ve(t,e,n){t.addEventListener(e,n,ge)}function be(t,e,n){t.removeEventListener(e,n,ge)}function ye(t,e,n,i,r){return{type:t,chart:e,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function me(t){var e=document.createElement("div");return e.className=t||"",e}var _e={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document;!function(t,e){var n=t.$chartjs||(t.$chartjs={});if(!n.containsStyles){n.containsStyles=!0,e="/* Chart.js */\n"+e;var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(e)),t.appendChild(i)}}(e.host?e:document.head,ue)}},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(this._ensureLoaded(t),function(t,e){var n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var o=pe(t,"width");void 0!==o&&(t.width=o)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var s=pe(t,"height");void 0!==o&&(t.height=s)}}(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e.$chartjs){var n=e.$chartjs.initial;["height","width"].forEach(function(t){var i=n[t];z.isNullOrUndef(i)?e.removeAttribute(t):e.setAttribute(t,i)}),z.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e.$chartjs}},addEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=n.$chartjs||(n.$chartjs={});ve(i,e,(r.proxies||(r.proxies={}))[t.id+"_"+e]=function(e){n(function(t,e){var n=de[t.type]||t.type,i=z.getRelativePosition(t,e);return ye(n,e,i.x,i.y,t)}(e,t))})}else!function(t,e,n){var i,r,o,s,a=t.$chartjs||(t.$chartjs={}),l=a.resizer=function(t){var e=1e6,n=me(ce),i=me(ce+"-expand"),r=me(ce+"-shrink");i.appendChild(me()),r.appendChild(me()),n.appendChild(i),n.appendChild(r),n._reset=function(){i.scrollLeft=e,i.scrollTop=e,r.scrollLeft=e,r.scrollTop=e};var o=function(){n._reset(),t()};return ve(i,"scroll",o.bind(i,"expand")),ve(r,"scroll",o.bind(r,"shrink")),n}((i=function(){if(a.resizer){var i=n.options.maintainAspectRatio&&t.parentNode,r=i?i.clientWidth:0;e(ye("resize",n)),i&&i.clientWidth<r&&n.canvas&&e(ye("resize",n))}},o=!1,s=[],function(){s=Array.prototype.slice.call(arguments),r=r||this,o||(o=!0,z.requestAnimFrame.call(window,function(){o=!1,i.apply(r,s)}))}));!function(t,e){var n=t.$chartjs||(t.$chartjs={}),i=n.renderProxy=function(t){"chartjs-render-animation"===t.animationName&&e()};z.each(fe,function(e){ve(t,e,i)}),n.reflow=!!t.offsetParent,t.classList.add(he)}(t,function(){if(a.resizer){var e=t.parentNode;e&&e!==l.parentNode&&e.insertBefore(l,e.firstChild),l._reset()}})}(i,n,t)},removeEventListener:function(t,e,n){var i,r,o,s=t.canvas;if("resize"!==e){var a=((n.$chartjs||{}).proxies||{})[t.id+"_"+e];a&&be(s,e,a)}else o=(r=(i=s).$chartjs||{}).resizer,delete r.resizer,function(t){var e=t.$chartjs||{},n=e.renderProxy;n&&(z.each(fe,function(e){be(t,e,n)}),delete e.renderProxy),t.classList.remove(he)}(i),o&&o.parentNode&&o.parentNode.removeChild(o)}};z.addEvent=ve,z.removeEvent=be;var xe=z.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},_e._enabled?_e:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}});I._set("global",{plugins:{}});var we={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,r,o,s,a,l=this.descriptors(t),u=l.length;for(i=0;i<u;++i)if("function"==typeof(a=(o=(r=l[i]).plugin)[e])&&((s=[t].concat(n||[])).push(r.options),!1===a.apply(o,s)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],i=[],r=t&&t.config||{},o=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,r=o[e];!1!==r&&(!0===r&&(r=z.clone(I.global.plugins[e])),n.push(t),i.push({plugin:t,options:r||{}}))}}),e.descriptors=i,e.id=this._cacheId,i},_invalidate:function(t){delete t.$plugins}},ke={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=z.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?z.merge(Object.create(null),[I.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var n=this;n.defaults.hasOwnProperty(t)&&(n.defaults[t]=z.extend(n.defaults[t],e))},addScalesToLayout:function(t){z.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,le.addBox(t,e)})}},Ee=z.valueOrDefault,Se=z.rtl.getRtlAdapter;I._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:z.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(t.length>0){var o=t[0];o.label?n=o.label:o.xLabel?n=o.xLabel:r>0&&o.index<r&&(n=i[o.index])}return n},afterTitle:z.noop,beforeBody:z.noop,beforeLabel:z.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),z.isNullOrUndef(t.value)?n+=t.yLabel:n+=t.value,n},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:z.noop,afterBody:z.noop,beforeFooter:z.noop,footer:z.noop,afterFooter:z.noop}}});var Ae={average:function(t){if(!t.length)return!1;var e,n,i=0,r=0,o=0;for(e=0,n=t.length;e<n;++e){var s=t[e];if(s&&s.hasValue()){var a=s.tooltipPosition();i+=a.x,r+=a.y,++o}}return{x:i/o,y:r/o}},nearest:function(t,e){var n,i,r,o=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var l=t[n];if(l&&l.hasValue()){var u=l.getCenterPoint(),c=z.distanceBetweenPoints(e,u);c<a&&(a=c,r=l)}}if(r){var h=r.tooltipPosition();o=h.x,s=h.y}return{x:o,y:s}}};function Te(t,e){return e&&(z.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Me(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Oe(t){var e=I.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Ee(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Ee(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Ee(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Ee(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Ee(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Ee(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Ee(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Ee(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Ee(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Ce(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function Ne(t){return Te([],Me(t))}var Le=Y.extend({initialize:function(){this._model=Oe(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,n=e.callbacks,i=n.beforeTitle.apply(t,arguments),r=n.title.apply(t,arguments),o=n.afterTitle.apply(t,arguments),s=[];return s=Te(s,Me(i)),s=Te(s,Me(r)),Te(s,Me(o))},getBeforeBody:function(){return Ne(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var n=this,i=n._options.callbacks,r=[];return z.each(t,function(t){var o={before:[],lines:[],after:[]};Te(o.before,Me(i.beforeLabel.call(n,t,e))),Te(o.lines,i.label.call(n,t,e)),Te(o.after,Me(i.afterLabel.call(n,t,e))),r.push(o)}),r},getAfterBody:function(){return Ne(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,n=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),r=e.afterFooter.apply(t,arguments),o=[];return o=Te(o,Me(n)),o=Te(o,Me(i)),Te(o,Me(r))},update:function(t){var e,n,i,r,o,s,a,l,u,c,h=this,f=h._options,d=h._model,p=h._model=Oe(f),g=h._active,v=h._data,b={xAlign:d.xAlign,yAlign:d.yAlign},y={x:d.x,y:d.y},m={width:d.width,height:d.height},_={x:d.caretX,y:d.caretY};if(g.length){p.opacity=1;var x=[],w=[];_=Ae[f.position].call(h,g,h._eventPosition);var k=[];for(e=0,n=g.length;e<n;++e)k.push((r=void 0,o=void 0,l=void 0,u=void 0,c=void 0,r=(i=g[e])._xScale,o=i._yScale||i._scale,s=i._index,u=(l=i._chart.getDatasetMeta(a=i._datasetIndex).controller)._getIndexScale(),c=l._getValueScale(),{xLabel:r?r.getLabelForIndex(s,a):"",yLabel:o?o.getLabelForIndex(s,a):"",label:u?""+u.getLabelForIndex(s,a):"",value:c?""+c.getLabelForIndex(s,a):"",index:s,datasetIndex:a,x:i._model.x,y:i._model.y}));f.filter&&(k=k.filter(function(t){return f.filter(t,v)})),f.itemSort&&(k=k.sort(function(t,e){return f.itemSort(t,e,v)})),z.each(k,function(t){x.push(f.callbacks.labelColor.call(h,t,h._chart)),w.push(f.callbacks.labelTextColor.call(h,t,h._chart))}),p.title=h.getTitle(k,v),p.beforeBody=h.getBeforeBody(k,v),p.body=h.getBody(k,v),p.afterBody=h.getAfterBody(k,v),p.footer=h.getFooter(k,v),p.x=_.x,p.y=_.y,p.caretPadding=f.caretPadding,p.labelColors=x,p.labelTextColors=w,p.dataPoints=k,m=function(t,e){var n=t._chart.ctx,i=2*e.yPadding,r=0,o=e.body,s=o.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0),a=e.title.length,l=e.footer.length,u=e.titleFontSize,c=e.bodyFontSize,h=e.footerFontSize;i+=a*u,i+=a?(a-1)*e.titleSpacing:0,i+=a?e.titleMarginBottom:0,i+=(s+=e.beforeBody.length+e.afterBody.length)*c,i+=s?(s-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*h,i+=l?(l-1)*e.footerSpacing:0;var f=0,d=function(t){r=Math.max(r,n.measureText(t).width+f)};return n.font=z.fontString(u,e._titleFontStyle,e._titleFontFamily),z.each(e.title,d),n.font=z.fontString(c,e._bodyFontStyle,e._bodyFontFamily),z.each(e.beforeBody.concat(e.afterBody),d),f=e.displayColors?c+2:0,z.each(o,function(t){z.each(t.before,d),z.each(t.lines,d),z.each(t.after,d)}),f=0,n.font=z.fontString(h,e._footerFontStyle,e._footerFontFamily),z.each(e.footer,d),{width:r+=2*e.xPadding,height:i}}(this,p),y=function(t,e,n,i){var r=t.x,o=t.y,s=t.caretPadding,a=n.xAlign,l=n.yAlign,u=t.caretSize+s,c=t.cornerRadius+s;return"right"===a?r-=e.width:"center"===a&&((r-=e.width/2)+e.width>i.width&&(r=i.width-e.width),r<0&&(r=0)),"top"===l?o+=u:o-="bottom"===l?e.height+u:e.height/2,"center"===l?"left"===a?r+=u:"right"===a&&(r-=u):"left"===a?r-=c:"right"===a&&(r+=c),{x:r,y:o}}(p,m,b=function(t,e){var n,i,r,o,s,a=t._model,l=t._chart,u=t._chart.chartArea,c="center",h="center";a.y<e.height?h="top":a.y>l.height-e.height&&(h="bottom");var f=(u.left+u.right)/2,d=(u.top+u.bottom)/2;"center"===h?(n=function(t){return t<=f},i=function(t){return t>f}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+a.caretSize+a.caretPadding>l.width},o=function(t){return t-e.width-a.caretSize-a.caretPadding<0},s=function(t){return t<=d?"top":"bottom"},n(a.x)?(c="left",r(a.x)&&(c="center",h=s(a.y))):i(a.x)&&(c="right",o(a.x)&&(c="center",h=s(a.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:c,yAlign:p.yAlign?p.yAlign:h}}(this,m),h._chart)}else p.opacity=0;return p.xAlign=b.xAlign,p.yAlign=b.yAlign,p.x=y.x,p.y=y.y,p.width=m.width,p.height=m.height,p.caretX=_.x,p.caretY=_.y,h._model=p,t&&f.custom&&f.custom.call(h,p),h},drawCaret:function(t,e){var n=this._chart.ctx,i=this.getCaretPosition(t,e,this._view);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(t,e,n){var i,r,o,s,a,l,u=n.caretSize,c=n.cornerRadius,h=n.xAlign,f=n.yAlign,d=t.x,p=t.y,g=e.width,v=e.height;if("center"===f)a=p+v/2,"left"===h?(r=(i=d)-u,o=i,s=a+u,l=a-u):(r=(i=d+g)+u,o=i,s=a-u,l=a+u);else if("left"===h?(i=(r=d+c+u)-u,o=r+u):"right"===h?(i=(r=d+g-c-u)-u,o=r+u):(i=(r=n.caretX)-u,o=r+u),"top"===f)a=(s=p)-u,l=s;else{a=(s=p+v)+u,l=s;var b=o;o=i,i=b}return{x1:i,x2:r,x3:o,y1:s,y2:a,y3:l}},drawTitle:function(t,e,n){var i,r,o,s=e.title,a=s.length;if(a){var l=Se(e.rtl,e.x,e.width);for(t.x=Ce(e,e._titleAlign),n.textAlign=l.textAlign(e._titleAlign),n.textBaseline="middle",i=e.titleFontSize,r=e.titleSpacing,n.fillStyle=e.titleFontColor,n.font=z.fontString(i,e._titleFontStyle,e._titleFontFamily),o=0;o<a;++o)n.fillText(s[o],l.x(t.x),t.y+i/2),t.y+=i+r,o+1===a&&(t.y+=e.titleMarginBottom-r)}},drawBody:function(t,e,n){var i,r,o,s,a,l,u,c,h=e.bodyFontSize,f=e.bodySpacing,d=e._bodyAlign,p=e.body,g=e.displayColors,v=0,b=g?Ce(e,"left"):0,y=Se(e.rtl,e.x,e.width),m=function(e){n.fillText(e,y.x(t.x+v),t.y+h/2),t.y+=h+f},_=y.textAlign(d);for(n.textAlign=d,n.textBaseline="middle",n.font=z.fontString(h,e._bodyFontStyle,e._bodyFontFamily),t.x=Ce(e,_),n.fillStyle=e.bodyFontColor,z.each(e.beforeBody,m),v=g&&"right"!==_?"center"===d?h/2+1:h+2:0,a=0,u=p.length;a<u;++a){for(i=p[a],o=e.labelColors[a],n.fillStyle=r=e.labelTextColors[a],z.each(i.before,m),l=0,c=(s=i.lines).length;l<c;++l){if(g){var x=y.x(b);n.fillStyle=e.legendColorBackground,n.fillRect(y.leftForLtr(x,h),t.y,h,h),n.lineWidth=1,n.strokeStyle=o.borderColor,n.strokeRect(y.leftForLtr(x,h),t.y,h,h),n.fillStyle=o.backgroundColor,n.fillRect(y.leftForLtr(y.xPlus(x,1),h-2),t.y+1,h-2,h-2),n.fillStyle=r}m(s[l])}z.each(i.after,m)}v=0,z.each(e.afterBody,m),t.y-=f},drawFooter:function(t,e,n){var i,r,o=e.footer,s=o.length;if(s){var a=Se(e.rtl,e.x,e.width);for(t.x=Ce(e,e._footerAlign),t.y+=e.footerMarginTop,n.textAlign=a.textAlign(e._footerAlign),n.textBaseline="middle",i=e.footerFontSize,n.fillStyle=e.footerFontColor,n.font=z.fontString(i,e._footerFontStyle,e._footerFontFamily),r=0;r<s;++r)n.fillText(o[r],a.x(t.x),t.y+i/2),t.y+=i+e.footerSpacing}},drawBackground:function(t,e,n,i){n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,n.lineWidth=e.borderWidth;var r=e.xAlign,o=e.yAlign,s=t.x,a=t.y,l=i.width,u=i.height,c=e.cornerRadius;n.beginPath(),n.moveTo(s+c,a),"top"===o&&this.drawCaret(t,i),n.lineTo(s+l-c,a),n.quadraticCurveTo(s+l,a,s+l,a+c),"center"===o&&"right"===r&&this.drawCaret(t,i),n.lineTo(s+l,a+u-c),n.quadraticCurveTo(s+l,a+u,s+l-c,a+u),"bottom"===o&&this.drawCaret(t,i),n.lineTo(s+c,a+u),n.quadraticCurveTo(s,a+u,s,a+u-c),"center"===o&&"left"===r&&this.drawCaret(t,i),n.lineTo(s,a+c),n.quadraticCurveTo(s,a,s+c,a),n.closePath(),n.fill(),e.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity;this._options.enabled&&(e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(i,e,t,n),i.y+=e.yPadding,z.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),z.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===t.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(t,i.mode,i),i.reverse&&n._active.reverse()),(e=!z.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}});Le.positioners=Ae;var De=z.valueOrDefault;function Pe(){return z.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var r,o,s,a=n[t].length;for(e[t]||(e[t]=[]),r=0;r<a;++r)o=De((s=n[t][r]).type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),z.merge(e[t][r],!e[t][r].type||s.type&&s.type!==e[t][r].type?[ke.getScaleDefaults(o),s]:s)}else z._merger(t,e,n,i)}})}function je(){return z.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,n,i){var r=e[t]||Object.create(null),o=n[t];"scales"===t?e[t]=Pe(r,o):"scale"===t?e[t]=z.merge(r,[ke.getScaleDefaults(o.type),o]):z._merger(t,e,n,i)}})}function Ie(t){var e=t.options;z.each(t.scales,function(e){le.removeBox(t,e)}),e=je(I.global,I[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function Re(t,e,n){var i,r=function(t){return t.id===i};do{i=e+n++}while(z.findIndex(t,r)>=0);return i}function qe(t){return"top"===t||"bottom"===t}function Be(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}I._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Fe=function(t,e){return this.construct(t,e),this};z.extend(Fe.prototype,{construct:function(t,e){var n=this;e=function(t){var e=(t=t||Object.create(null)).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=je(I.global,I[t.type],t.options||{}),t}(e);var i=xe.acquireContext(t,e),r=i&&i.canvas,o=r&&r.height,s=r&&r.width;n.id=z.uid(),n.ctx=i,n.canvas=r,n.config=e,n.width=s,n.height=o,n.aspectRatio=o?s/o:null,n.options=e.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Fe.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(t){n.config.data=t}}),i&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return we.notify(t,"beforeInit"),z.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.initToolTip(),we.notify(t,"afterInit"),t},clear:function(){return z.canvas.clear(this),this},stop:function(){return G.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,r=n.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(z.getMaximumWidth(i))),s=Math.max(0,Math.floor(r?o/r:z.getMaximumHeight(i)));if((e.width!==o||e.height!==s)&&(i.width=e.width=o,i.height=e.height=s,i.style.width=o+"px",i.style.height=s+"px",z.retinaScale(e,n.devicePixelRatio),!t)){var a={width:o,height:s};we.notify(e,"resize",[a]),n.onResize&&n.onResize(e,a),e.stop(),e.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;z.each(e.xAxes,function(t,n){t.id||(t.id=Re(e.xAxes,"x-axis-",n))}),z.each(e.yAxes,function(t,n){t.id||(t.id=Re(e.yAxes,"y-axis-",n))}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,n=t.scales||{},i=[],r=Object.keys(n).reduce(function(t,e){return t[e]=!1,t},{});e.scales&&(i=i.concat((e.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),e.scale&&i.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),z.each(i,function(e){var i=e.options,o=i.id,s=De(i.type,e.dtype);qe(i.position)!==qe(e.dposition)&&(i.position=e.dposition),r[o]=!0;var a=null;if(o in n&&n[o].type===s)(a=n[o]).options=i,a.ctx=t.ctx,a.chart=t;else{var l=ke.getScaleConstructor(s);if(!l)return;a=new l({id:o,type:s,options:i,ctx:t.ctx,chart:t}),n[a.id]=a}a.mergeTicksOptions(),e.isDefault&&(t.scale=a)}),z.each(r,function(t,e){t||delete n[e]}),t.scales=n,ke.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,n=this,i=[],r=n.data.datasets;for(t=0,e=r.length;t<e;t++){var o=r[t],s=n.getDatasetMeta(t),a=o.type||n.config.type;if(s.type&&s.type!==a&&(n.destroyDatasetMeta(t),s=n.getDatasetMeta(t)),s.type=a,s.order=o.order||0,s.index=t,s.controller)s.controller.updateIndex(t),s.controller.linkScales();else{var l=Vt[s.type];if(void 0===l)throw new Error('"'+s.type+'" is not a chart type.');s.controller=new l(n,t),i.push(s.controller)}}return i},resetElements:function(){var t=this;z.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,n,i=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),Ie(i),we._invalidate(i),!1!==we.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var r=i.buildOrUpdateControllers();for(e=0,n=i.data.datasets.length;e<n;e++)i.getDatasetMeta(e).controller.buildOrUpdateElements();i.updateLayout(),i.options.animation&&i.options.animation.duration&&z.each(r,function(t){t.reset()}),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],we.notify(i,"afterUpdate"),i._layers.sort(Be("z","_idx")),i._bufferedRender?i._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:i.render(t)}},updateLayout:function(){var t=this;!1!==we.notify(t,"beforeLayout")&&(le.update(this,this.width,this.height),t._layers=[],z.each(t.boxes,function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())},t),t._layers.forEach(function(t,e){t._idx=e}),we.notify(t,"afterScaleUpdate"),we.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==we.notify(t,"beforeDatasetsUpdate")){for(var e=0,n=t.data.datasets.length;e<n;++e)t.updateDataset(e);we.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,n=e.getDatasetMeta(t),i={meta:n,index:t};!1!==we.notify(e,"beforeDatasetUpdate",[i])&&(n.controller._update(),we.notify(e,"afterDatasetUpdate",[i]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var n=e.options.animation,i=De(t.duration,n&&n.duration),r=t.lazy;if(!1!==we.notify(e,"beforeRender")){var o=function(t){we.notify(e,"afterRender"),z.callback(n&&n.onComplete,[t],e)};if(n&&i){var s=new K({numSteps:i/16.66,easing:t.easing||n.easing,render:function(t,e){var n=e.currentStep,i=n/e.numSteps;t.draw((0,z.easing.effects[e.easing])(i),i,n)},onAnimationProgress:n.onProgress,onAnimationComplete:o});G.addAnimation(e,s,i,r)}else e.draw(),o(new K({numSteps:0,chart:e}));return e}},draw:function(t){var e,n,i=this;if(i.clear(),z.isNullOrUndef(t)&&(t=1),i.transition(t),!(i.width<=0||i.height<=0)&&!1!==we.notify(i,"beforeDraw",[t])){for(n=i._layers,e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(i.chartArea);for(i.drawDatasets(t);e<n.length;++e)n[e].draw(i.chartArea);i._drawTooltip(t),we.notify(i,"afterDraw",[t])}},transition:function(t){for(var e=this,n=0,i=(e.data.datasets||[]).length;n<i;++n)e.isDatasetVisible(n)&&e.getDatasetMeta(n).controller.transition(t);e.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,n,i=this,r=[];for(e=0,n=(i.data.datasets||[]).length;e<n;++e)t&&!i.isDatasetVisible(e)||r.push(i.getDatasetMeta(e));return r.sort(Be("order","index")),r},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,n,i=this;if(!1!==we.notify(i,"beforeDatasetsDraw",[t])){for(n=(e=i._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)i.drawDataset(e[n],t);we.notify(i,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n={meta:t,index:t.index,easingValue:e};!1!==we.notify(this,"beforeDatasetDraw",[n])&&(t.controller.draw(e),we.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(t){var e=this,n=e.tooltip,i={tooltip:n,easingValue:t};!1!==we.notify(e,"beforeTooltipDraw",[i])&&(n.draw(),we.notify(e,"afterTooltipDraw",[i]))},getElementAtEvent:function(t){return Jt.modes.single(this,t)},getElementsAtEvent:function(t){return Jt.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Jt.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=Jt.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return Jt.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var i=n._meta[e.id];return i||(i=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n.order||0,index:t}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),z.canvas.clear(n),xe.releaseContext(n.ctx),n.canvas=null,n.ctx=null),we.notify(n,"destroy"),delete Fe.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Le({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};z.each(t.options.events,function(i){xe.addEventListener(t,i,n),e[i]=n}),t.options.responsive&&(n=function(){t.resize()},xe.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,z.each(e,function(e,n){xe.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var i,r,o,s=n?"set":"remove";for(r=0,o=t.length;r<o;++r)(i=t[r])&&this.getDatasetMeta(i._datasetIndex).controller[s+"HoverStyle"](i);"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+s+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==we.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),we.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):i&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],n.active="mouseout"===t.type?[]:n.getElementsAtEventForMode(t,r.mode,r),z.callback(i.onHover||i.hover.onHover,[t.native,n.active],n),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),e=!z.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),Fe.instances={};var ze=Fe;function He(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Ue(t){this.options=t||{}}Fe.Controller=Fe,Fe.types={},z.configMerge=je,z.scaleMerge=Pe,z.extend(Ue.prototype,{formats:He,parse:He,format:He,add:He,diff:He,startOf:He,endOf:He,_create:function(t){return t}}),Ue.override=function(t){z.extend(Ue.prototype,t)};var We={_date:Ue},Ve={formatters:{values:function(t){return z.isArray(t)?t:""+t},linear:function(t,e,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var r=z.log10(Math.abs(i)),o="";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var s=z.log10(Math.abs(t)),a=Math.floor(s)-Math.floor(r);a=Math.max(Math.min(a,20),0),o=t.toExponential(a)}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),o=t.toFixed(l)}else o="0";return o},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(z.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}},Ye=z.isArray,Xe=z.isNullOrUndef,Ke=z.valueOrDefault,Ge=z.valueAtIndexOrDefault;function $e(t,e,n){var i,r=t.getTicks().length,o=Math.min(e,r-1),s=t.getPixelForTick(o),a=t._startPixel,l=t._endPixel,u=1e-6;if(!(n&&(i=1===r?Math.max(s-a,l-s):0===e?(t.getPixelForTick(1)-s)/2:(s-t.getPixelForTick(o-1))/2,(s+=o<e?i:-i)<a-u||s>l+u)))return s}function Ze(t){return t.drawTicks?t.tickMarkLength:0}function Je(t){var e,n;return t.display?(e=z.options._parseFont(t),n=z.options.toPadding(t.padding),e.lineHeight+n.height):0}function Qe(t,e){return z.extend(z.options._parseFont({fontFamily:Ke(e.fontFamily,t.fontFamily),fontSize:Ke(e.fontSize,t.fontSize),fontStyle:Ke(e.fontStyle,t.fontStyle),lineHeight:Ke(e.lineHeight,t.lineHeight)}),{color:z.options.resolve([e.fontColor,t.fontColor,I.global.defaultFontColor])})}function tn(t){var e=Qe(t,t.minor);return{minor:e,major:t.major.enabled?Qe(t,t.major):e}}function en(t){var e,n,i,r=[];for(n=0,i=t.length;n<i;++n)void 0!==(e=t[n])._index&&r.push(e);return r}function nn(t,e,n,i){var r,o,s,a,l=Ke(n,0),u=Math.min(Ke(i,t.length),t.length),c=0;for(e=Math.ceil(e),i&&(e=(r=i-n)/Math.floor(r/e)),a=l;a<0;)c++,a=Math.round(l+c*e);for(o=Math.max(l,0);o<u;o++)s=t[o],o===a?(s._index=o,c++,a=Math.round(l+c*e)):delete s.label}I._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Ve.formatters.values,minor:{},major:{}}});var rn=Y.extend({zeroLineIndex:0,getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){z.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,r,o,s,a,l=this,u=l.options.ticks,c=u.sampleSize;if(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=e,l.margins=z.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),s=l.buildTicks()||[],(!(s=l.afterBuildTicks(s)||s)||!s.length)&&l.ticks)for(s=[],i=0,r=l.ticks.length;i<r;++i)s.push({value:l.ticks[i],major:!1});return l._ticks=s,o=l._convertTicksToLabels((a=c<s.length)?function(t,e){for(var n=[],i=t.length/e,r=0,o=t.length;r<o;r+=i)n.push(t[Math.floor(r)]);return n}(s,c):s),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=u.display&&(u.autoSkip||"auto"===u.source)?l._autoSkip(s):s,a&&(o=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=o,l.afterUpdate(),l.minSize},_configure:function(){var t,e,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(t=n.left,e=n.right):(t=n.top,e=n.bottom,i=!i),n._startPixel=t,n._endPixel=e,n._reversePixels=i,n._length=e-t},afterUpdate:function(){z.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){z.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){z.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){z.callback(this.options.beforeDataLimits,[this])},determineDataLimits:z.noop,afterDataLimits:function(){z.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){z.callback(this.options.beforeBuildTicks,[this])},buildTicks:z.noop,afterBuildTicks:function(t){var e=this;return Ye(t)&&t.length?z.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=z.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){z.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){z.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){z.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,n,i,r,o,s,a=this,l=a.options,u=l.ticks,c=a.getTicks().length,h=u.minRotation||0,f=u.maxRotation,d=h;!a._isVisible()||!u.display||h>=f||c<=1||!a.isHorizontal()?a.labelRotation=h:(e=(t=a._getLabelSizes()).widest.width,n=t.highest.height-t.highest.offset,i=Math.min(a.maxWidth,a.chart.width-e),e+6>(r=l.offset?a.maxWidth/c:i/(c-1))&&(r=i/(c-(l.offset?.5:1)),o=a.maxHeight-Ze(l.gridLines)-u.padding-Je(l.scaleLabel),s=Math.sqrt(e*e+n*n),d=z.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/r,1)),Math.asin(Math.min(o/s,1))-Math.asin(n/s))),d=Math.max(h,Math.min(f,d))),a.labelRotation=d)},afterCalculateTickRotation:function(){z.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){z.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=t.chart,i=t.options,r=i.ticks,o=i.scaleLabel,s=i.gridLines,a=t._isVisible(),l="bottom"===i.position,u=t.isHorizontal();if(u?e.width=t.maxWidth:a&&(e.width=Ze(s)+Je(o)),u?a&&(e.height=Ze(s)+Je(o)):e.height=t.maxHeight,r.display&&a){var c=tn(r),h=t._getLabelSizes(),f=h.first,d=h.last,p=h.widest,g=h.highest,v=.4*c.minor.lineHeight,b=r.padding;if(u){var y=0!==t.labelRotation,m=z.toRadians(t.labelRotation),_=Math.cos(m),x=Math.sin(m);e.height=Math.min(t.maxHeight,e.height+(x*p.width+_*(g.height-(y?g.offset:0))+(y?0:v))+b);var w,k,E=t.getPixelForTick(0)-t.left,S=t.right-t.getPixelForTick(t.getTicks().length-1);y?(w=l?_*f.width+x*f.offset:x*(f.height-f.offset),k=l?x*(d.height-d.offset):_*d.width+x*d.offset):(w=f.width/2,k=d.width/2),t.paddingLeft=Math.max((w-E)*t.width/(t.width-E),0)+3,t.paddingRight=Math.max((k-S)*t.width/(t.width-S),0)+3}else e.width=Math.min(t.maxWidth,e.width+(r.mirror?0:p.width+b+v)),t.paddingTop=f.height/2,t.paddingBottom=d.height/2}t.handleMargins(),u?(t.width=t._length=n.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){z.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(Xe(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,n,i,r=this;for(r.ticks=t.map(function(t){return t.value}),r.beforeTickToLabelConversion(),e=r.convertTicksToLabels(t)||r.ticks,r.afterTickToLabelConversion(),n=0,i=t.length;n<i;++n)t[n].label=e[n];return e},_getLabelSizes:function(){var t=this,e=t._labelSizes;return e||(t._labelSizes=e=function(t,e,n,i){var r,o,s,a,l,u,c,h,f,d,p,g,v,b=n.length,y=[],m=[],_=[],x=0,w=0;for(r=0;r<b;++r){if(a=n[r].label,t.font=u=(l=n[r].major?e.major:e.minor).string,c=i[u]=i[u]||{data:{},gc:[]},h=l.lineHeight,f=d=0,Xe(a)||Ye(a)){if(Ye(a))for(o=0,s=a.length;o<s;++o)Xe(p=a[o])||Ye(p)||(f=z.measureText(t,c.data,c.gc,f,p),d+=h)}else f=z.measureText(t,c.data,c.gc,f,a),d=h;y.push(f),m.push(d),_.push(h/2),x=Math.max(f,x),w=Math.max(d,w)}function k(t){return{width:y[t]||0,height:m[t]||0,offset:_[t]||0}}return function(t,e){z.each(t,function(t){var n,i=t.gc,r=i.length/2;if(r>e){for(n=0;n<r;++n)delete t.data[i[n]];i.splice(0,r)}})}(i,b),g=y.indexOf(x),v=m.indexOf(w),{first:k(0),last:k(b-1),widest:k(g),highest:k(v)}}(t.ctx,tn(t.options.ticks),t.getTicks(),t.longestTextCache),t.longestLabelWidth=e.widest.width),e},_parseValue:function(t){var e,n,i,r;return Ye(t)?(e=+this.getRightValue(t[0]),n=+this.getRightValue(t[1]),i=Math.min(e,n),r=Math.max(e,n)):(e=void 0,n=t=+this.getRightValue(t),i=t,r=t),{min:i,max:r,start:e,end:n}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},getLabelForIndex:z.noop,getPixelForValue:z.noop,getValueForPixel:z.noop,getPixelForTick:function(t){var e=this,n=e.options.offset,i=e._ticks.length,r=1/Math.max(i-(n?0:1),1);return t<0||t>i-1?null:e.getPixelForDecimal(t*r+(n?r/2:0))},getPixelForDecimal:function(t){var e=this;return e._reversePixels&&(t=1-t),e._startPixel+t*e._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,n=t.max;return t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0},_autoSkip:function(t){var e,n,i,r,o=this,s=o.options.ticks,a=s.maxTicksLimit||o._length/o._tickSize()+1,l=s.major.enabled?function(t){var e,n,i=[];for(e=0,n=t.length;e<n;e++)t[e].major&&i.push(e);return i}(t):[],u=l.length,c=l[0],h=l[u-1];if(u>a)return function(t,e,n){var i,r,o=0,s=e[0];for(n=Math.ceil(n),i=0;i<t.length;i++)r=t[i],i===s?(r._index=i,s=e[++o*n]):delete r.label}(t,l,u/a),en(t);if(i=function(t,e,n,i){var r,o,s,a,l=function(t){var e,n,i=t.length;if(i<2)return!1;for(n=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==n)return!1;return n}(t),u=(e.length-1)/i;if(!l)return Math.max(u,1);for(s=0,a=(r=z.math._factorize(l)).length-1;s<a;s++)if((o=r[s])>u)return o;return Math.max(u,1)}(l,t,0,a),u>0){for(e=0,n=u-1;e<n;e++)nn(t,i,l[e],l[e+1]);return nn(t,i,z.isNullOrUndef(r=u>1?(h-c)/(u-1):null)?0:c-r,c),nn(t,i,h,z.isNullOrUndef(r)?t.length:h+r),en(t)}return nn(t,i),en(t)},_tickSize:function(){var t=this,e=t.options.ticks,n=z.toRadians(t.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=t._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return t.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r},_isVisible:function(){var t,e,n,i=this,r=i.chart,o=i.options.display;if("auto"!==o)return!!o;for(t=0,e=r.data.datasets.length;t<e;++t)if(r.isDatasetVisible(t)&&((n=r.getDatasetMeta(t)).xAxisID===i.id||n.yAxisID===i.id))return!0;return!1},_computeGridLineItems:function(t){var e,n,i,r,o,s,a,l,u,c,h,f,d,p,g,v,b,y=this,m=y.chart,_=y.options,x=_.gridLines,w=_.position,k=x.offsetGridLines,E=y.isHorizontal(),S=y._ticksToDraw,A=S.length+(k?1:0),T=Ze(x),M=[],O=x.drawBorder?Ge(x.lineWidth,0,0):0,C=O/2,N=z._alignPixel,L=function(t){return N(m,t,O)};for("top"===w?(e=L(y.bottom),a=y.bottom-T,u=e-C,h=L(t.top)+C,d=t.bottom):"bottom"===w?(e=L(y.top),h=t.top,d=L(t.bottom)-C,a=e+C,u=y.top+T):"left"===w?(e=L(y.right),s=y.right-T,l=e-C,c=L(t.left)+C,f=t.right):(e=L(y.left),c=t.left,f=L(t.right)-C,s=e+C,l=y.left+T),n=0;n<A;++n)Xe((i=S[n]||{}).label)&&n<S.length||(n===y.zeroLineIndex&&_.offset===k?(p=x.zeroLineWidth,g=x.zeroLineColor,v=x.zeroLineBorderDash||[],b=x.zeroLineBorderDashOffset||0):(p=Ge(x.lineWidth,n,1),g=Ge(x.color,n,"rgba(0,0,0,0.1)"),v=x.borderDash||[],b=x.borderDashOffset||0),void 0!==(r=$e(y,i._index||n,k))&&(o=N(m,r,p),E?s=l=c=f=o:a=u=h=d=o,M.push({tx1:s,ty1:a,tx2:l,ty2:u,x1:c,y1:h,x2:f,y2:d,width:p,color:g,borderDash:v,borderDashOffset:b})));return M.ticksLength=A,M.borderValue=e,M},_computeLabelItems:function(){var t,e,n,i,r,o,s,a,l,u,c,h,f=this,d=f.options,p=d.ticks,g=d.position,v=p.mirror,b=f.isHorizontal(),y=f._ticksToDraw,m=tn(p),_=p.padding,x=Ze(d.gridLines),w=-z.toRadians(f.labelRotation),k=[];for("top"===g?(o=f.bottom-x-_,s=w?"left":"center"):"bottom"===g?(o=f.top+x+_,s=w?"right":"center"):"left"===g?(r=f.right-(v?0:x)-_,s=v?"left":"right"):(r=f.left+(v?0:x)+_,s=v?"right":"left"),t=0,e=y.length;t<e;++t)Xe(i=(n=y[t]).label)||(a=f.getPixelForTick(n._index||t)+p.labelOffset,u=(l=n.major?m.major:m.minor).lineHeight,c=Ye(i)?i.length:1,b?(r=a,h="top"===g?((w?1:.5)-c)*u:(w?0:.5)*u):(o=a,h=(1-c)*u/2),k.push({x:r,y:o,rotation:w,label:i,font:l,textOffset:h,textAlign:s}));return k},_drawGrid:function(t){var e=this,n=e.options.gridLines;if(n.display){var i,r,o,s,a,l=e.ctx,u=e.chart,c=z._alignPixel,h=n.drawBorder?Ge(n.lineWidth,0,0):0,f=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(o=0,s=f.length;o<s;++o)r=(a=f[o]).color,(i=a.width)&&r&&(l.save(),l.lineWidth=i,l.strokeStyle=r,l.setLineDash&&(l.setLineDash(a.borderDash),l.lineDashOffset=a.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(a.tx1,a.ty1),l.lineTo(a.tx2,a.ty2)),n.drawOnChartArea&&(l.moveTo(a.x1,a.y1),l.lineTo(a.x2,a.y2)),l.stroke(),l.restore());if(h){var d,p,g,v,b=h,y=Ge(n.lineWidth,f.ticksLength-1,1),m=f.borderValue;e.isHorizontal()?(d=c(u,e.left,b)-b/2,p=c(u,e.right,y)+y/2,g=v=m):(g=c(u,e.top,b)-b/2,v=c(u,e.bottom,y)+y/2,d=p=m),l.lineWidth=h,l.strokeStyle=Ge(n.color,0),l.beginPath(),l.moveTo(d,g),l.lineTo(p,v),l.stroke()}}},_drawLabels:function(){var t=this;if(t.options.ticks.display){var e,n,i,r,o,s,a,l,u=t.ctx,c=t._labelItems||(t._labelItems=t._computeLabelItems());for(e=0,i=c.length;e<i;++e){if(s=(o=c[e]).font,u.save(),u.translate(o.x,o.y),u.rotate(o.rotation),u.font=s.string,u.fillStyle=s.color,u.textBaseline="middle",u.textAlign=o.textAlign,l=o.textOffset,Ye(a=o.label))for(n=0,r=a.length;n<r;++n)u.fillText(""+a[n],0,l),l+=s.lineHeight;else u.fillText(a,0,l);u.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,n=t.options,i=n.scaleLabel;if(i.display){var r,o,s=Ke(i.fontColor,I.global.defaultFontColor),a=z.options._parseFont(i),l=z.options.toPadding(i.padding),u=a.lineHeight/2,c=n.position,h=0;if(t.isHorizontal())r=t.left+t.width/2,o="bottom"===c?t.bottom-u-l.bottom:t.top+u+l.top;else{var f="left"===c;r=f?t.left+u+l.top:t.right-u-l.top,o=t.top+t.height/2,h=f?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(r,o),e.rotate(h),e.textAlign="center",e.textBaseline="middle",e.fillStyle=s,e.font=a.string,e.fillText(i.labelString,0,0),e.restore()}},draw:function(t){var e=this;e._isVisible()&&(e._drawGrid(t),e._drawTitle(),e._drawLabels())},_layers:function(){var t=this,e=t.options,n=e.ticks&&e.ticks.z||0,i=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&n!==i&&t.draw===t._draw?[{z:i,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:n,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:n,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var e=this,n=e.isHorizontal();return e.chart._getSortedVisibleDatasetMetas().filter(function(i){return(!t||i.type===t)&&(n?i.xAxisID===e.id:i.yAxisID===e.id)})}});rn.prototype._draw=rn.prototype.draw;var on=rn,sn=z.isNullOrUndef,an=on.extend({determineDataLimits:function(){var t,e=this,n=e._getLabels(),i=e.options.ticks,r=i.min,o=i.max,s=0,a=n.length-1;void 0!==r&&(t=n.indexOf(r))>=0&&(s=t),void 0!==o&&(t=n.indexOf(o))>=0&&(a=t),e.minIndex=s,e.maxIndex=a,e.min=n[s],e.max=n[a]},buildTicks:function(){var t=this,e=t._getLabels(),n=t.minIndex,i=t.maxIndex;t.ticks=0===n&&i===e.length-1?e:e.slice(n,i+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart;return i.getDatasetMeta(e).controller._getValueScaleId()===n.id?n.getRightValue(i.data.datasets[e].data[t]):n._getLabels()[t]},_configure:function(){var t=this,e=t.options.offset,n=t.ticks;on.prototype._configure.call(t),t.isHorizontal()||(t._reversePixels=!t._reversePixels),n&&(t._startValue=t.minIndex-(e?.5:0),t._valueRange=Math.max(n.length-(e?0:1),1))},getPixelForValue:function(t,e,n){var i,r,o,s=this;return sn(e)||sn(n)||(t=s.chart.data.datasets[n].data[e]),sn(t)||(i=s.isHorizontal()?t.x:t.y),(void 0!==i||void 0!==t&&isNaN(e))&&(r=s._getLabels(),t=z.valueOrDefault(i,t),e=-1!==(o=r.indexOf(t))?o:e,isNaN(e)&&(e=t)),s.getPixelForDecimal((e-s._startValue)/s._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=this,n=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(n,0),e.ticks.length-1)},getBasePixel:function(){return this.bottom}});an._defaults={position:"bottom"};var ln=z.isNullOrUndef,un=on.extend({getRightValue:function(t){return"string"==typeof t?+t:on.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=z.sign(t.min),i=z.sign(t.max);n<0&&i<0?t.max=0:n>0&&i>0&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,o=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(t.min=null===t.min?e.suggestedMin:Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(t.max=null===t.max?e.suggestedMax:Math.max(t.max,e.suggestedMax)),r!==o&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this,n=e.options.ticks,i=n.stepSize,r=n.maxTicksLimit;return i?t=Math.ceil(e.max/i)-Math.floor(e.min/i)+1:(t=e._computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:z.noop,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:z.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var n,i,r,o,s=[],a=t.stepSize,l=a||1,u=t.maxTicks-1,c=t.min,h=t.max,f=t.precision,d=e.min,p=e.max,g=z.niceNum((p-d)/u/l)*l;if(g<1e-14&&ln(c)&&ln(h))return[d,p];(o=Math.ceil(p/g)-Math.floor(d/g))>u&&(g=z.niceNum(o*g/u/l)*l),a||ln(f)?n=Math.pow(10,z._decimalPlaces(g)):(n=Math.pow(10,f),g=Math.ceil(g*n)/n),i=Math.floor(d/g)*g,r=Math.ceil(p/g)*g,a&&(!ln(c)&&z.almostWhole(c/g,g/1e3)&&(i=c),!ln(h)&&z.almostWhole(h/g,g/1e3)&&(r=h)),o=z.almostEquals(o=(r-i)/g,Math.round(o),g/1e3)?Math.round(o):Math.ceil(o),i=Math.round(i*n)/n,r=Math.round(r*n)/n,s.push(ln(c)?i:c);for(var v=1;v<o;++v)s.push(Math.round((i+v*g)*n)/n);return s.push(ln(h)?r:h),s}(i,t);t.handleDirectionalChanges(),t.max=z.max(r),t.min=z.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),on.prototype.convertTicksToLabels.call(t)},_configure:function(){var t,e=this,n=e.getTicks(),i=e.min,r=e.max;on.prototype._configure.call(e),e.options.offset&&n.length&&(i-=t=(r-i)/Math.max(n.length-1,1)/2,r+=t),e._startValue=i,e._endValue=r,e._valueRange=r-i}}),cn={position:"left",ticks:{callback:Ve.formatters.linear}};function hn(t,e,n,i){var r,o,s=t.options,a=function(t,e,n){var i=[n.type,void 0===e&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===t[i]&&(t[i]={pos:[],neg:[]}),t[i]}(e,s.stacked,n),l=a.pos,u=a.neg,c=i.length;for(r=0;r<c;++r)o=t._parseValue(i[r]),isNaN(o.min)||isNaN(o.max)||n.data[r].hidden||(l[r]=l[r]||0,u[r]=u[r]||0,s.relativePoints?l[r]=100:o.min<0||o.max<0?u[r]+=o.min:l[r]+=o.max)}function fn(t,e,n){var i,r,o=n.length;for(i=0;i<o;++i)r=t._parseValue(n[i]),isNaN(r.min)||isNaN(r.max)||e.data[i].hidden||(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}var dn=un.extend({determineDataLimits:function(){var t,e,n,i,r=this,o=r.options,s=r.chart.data.datasets,a=r._getMatchingVisibleMetas(),l=o.stacked,u={},c=a.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===l)for(t=0;!l&&t<c;++t)l=void 0!==(e=a[t]).stack;for(t=0;t<c;++t)n=s[(e=a[t]).index].data,l?hn(r,u,e,n):fn(r,e,n);z.each(u,function(t){i=t.pos.concat(t.neg),r.min=Math.min(r.min,z.min(i)),r.max=Math.max(r.max,z.max(i))}),r.min=z.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=z.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var t,e=this;return e.isHorizontal()?Math.ceil(e.width/40):(t=z.options._parseFont(e.options.ticks),Math.ceil(e.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this;return e.getPixelForDecimal((+e.getRightValue(t)-e._startValue)/e._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}});dn._defaults=cn;var pn=z.valueOrDefault,gn=z.math.log10,vn={position:"left",ticks:{callback:Ve.formatters.logarithmic}};function bn(t,e){return z.isFinite(t)&&t>=0?t:e}var yn=on.extend({determineDataLimits:function(){var t,e,n,i,r,o,s=this,a=s.options,l=s.chart,u=l.data.datasets,c=s.isHorizontal();function h(t){return c?t.xAxisID===s.id:t.yAxisID===s.id}s.min=Number.POSITIVE_INFINITY,s.max=Number.NEGATIVE_INFINITY,s.minNotZero=Number.POSITIVE_INFINITY;var f=a.stacked;if(void 0===f)for(t=0;t<u.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&h(e)&&void 0!==e.stack){f=!0;break}if(a.stacked||f){var d={};for(t=0;t<u.length;t++){var p=[(e=l.getDatasetMeta(t)).type,void 0===a.stacked&&void 0===e.stack?t:"",e.stack].join(".");if(l.isDatasetVisible(t)&&h(e))for(void 0===d[p]&&(d[p]=[]),r=0,o=(i=u[t].data).length;r<o;r++){var g=d[p];n=s._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||e.data[r].hidden||n.min<0||n.max<0||(g[r]=g[r]||0,g[r]+=n.max)}}z.each(d,function(t){if(t.length>0){var e=z.min(t),n=z.max(t);s.min=Math.min(s.min,e),s.max=Math.max(s.max,n)}})}else for(t=0;t<u.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&h(e))for(r=0,o=(i=u[t].data).length;r<o;r++)n=s._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||e.data[r].hidden||n.min<0||n.max<0||(s.min=Math.min(n.min,s.min),s.max=Math.max(n.max,s.max),0!==n.min&&(s.minNotZero=Math.min(n.min,s.minNotZero)));s.min=z.isFinite(s.min)?s.min:null,s.max=z.isFinite(s.max)?s.max:null,s.minNotZero=z.isFinite(s.minNotZero)?s.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=bn(e.min,t.min),t.max=bn(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(gn(t.min))-1),t.max=Math.pow(10,Math.floor(gn(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(gn(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(gn(t.min))+1):10),null===t.minNotZero&&(t.minNotZero=t.min>0?t.min:t.max<1?Math.pow(10,Math.floor(gn(t.max))):1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:bn(e.min),max:bn(e.max)},r=t.ticks=function(t,e){var n,i,r=[],o=pn(t.min,Math.pow(10,Math.floor(gn(e.min)))),s=Math.floor(gn(e.max)),a=Math.ceil(e.max/Math.pow(10,s));0===o?(n=Math.floor(gn(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(o),o=i*Math.pow(10,n)):(n=Math.floor(gn(o)),i=Math.floor(o/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(o),10==++i&&(i=1,l=++n>=0?1:l),o=Math.round(i*Math.pow(10,n)*l)/l}while(n<s||n===s&&i<a);var u=pn(t.max,o);return r.push(u),r}(i,t);t.max=z.max(r),t.min=z.min(r),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),on.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(gn(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,n=0;on.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),n=pn(t.options.ticks.fontSize,I.global.defaultFontSize)/t._length),t._startValue=gn(e),t._valueOffset=n,t._valueRange=(gn(t.max)-gn(e))/(1-n)},getPixelForValue:function(t){var e=this,n=0;return(t=+e.getRightValue(t))>e.min&&t>0&&(n=(gn(t)-e._startValue)/e._valueRange+e._valueOffset),e.getPixelForDecimal(n)},getValueForPixel:function(t){var e=this,n=e.getDecimalForPixel(t);return 0===n&&0===e.min?0:Math.pow(10,e._startValue+(n-e._valueOffset)*e._valueRange)}});yn._defaults=vn;var mn=z.valueOrDefault,_n=z.valueAtIndexOrDefault,xn=z.options.resolve,wn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Ve.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function kn(t){var e=t.ticks;return e.display&&t.display?mn(e.fontSize,I.global.defaultFontSize)+2*e.backdropPaddingY:0}function En(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function Sn(t){return 0===t||180===t?"center":t<180?"left":"right"}function An(t,e,n,i){var r,o,s=n.y+i/2;if(z.isArray(e))for(r=0,o=e.length;r<o;++r)t.fillText(e[r],n.x,s),s+=i;else t.fillText(e,n.x,s)}function Tn(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function Mn(t){return z.isNumber(t)?t:0}var On=un.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=kn(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;z.each(e.data.datasets,function(r,o){if(e.isDatasetVisible(o)){var s=e.getDatasetMeta(o);z.each(r.data,function(e,r){var o=+t.getRightValue(e);isNaN(o)||s.data[r].hidden||(n=Math.min(o,n),i=Math.max(o,i))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/kn(this.options))},convertTicksToLabels:function(){var t=this;un.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(function(){var e=z.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""})},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this,e=t.options;e.display&&e.pointLabels.display?function(t){var e,n,i,r=z.options._parseFont(t.options.pointLabels),o={l:0,r:t.width,t:0,b:t.height-t.paddingTop},s={};t.ctx.font=r.string,t._pointLabelSizes=[];var a,l,u,c=t.chart.data.labels.length;for(e=0;e<c;e++){i=t.getPointPosition(e,t.drawingArea+5),a=t.ctx,l=r.lineHeight,n=z.isArray(u=t.pointLabels[e])?{w:z.longestText(a,a.font,u),h:u.length*l}:{w:a.measureText(u).width,h:l},t._pointLabelSizes[e]=n;var h=t.getIndexAngle(e),f=z.toDegrees(h)%360,d=En(f,i.x,n.w,0,180),p=En(f,i.y,n.h,90,270);d.start<o.l&&(o.l=d.start,s.l=h),d.end>o.r&&(o.r=d.end,s.r=h),p.start<o.t&&(o.t=p.start,s.t=h),p.end>o.b&&(o.b=p.end,s.b=h)}t.setReductions(t.drawingArea,o,s)}(t):t.setCenterPoint(0,0,0,0)},setReductions:function(t,e,n){var i=this,r=e.l/Math.sin(n.l),o=Math.max(e.r-i.width,0)/Math.sin(n.r),s=-e.t/Math.cos(n.t),a=-Math.max(e.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=Mn(r),o=Mn(o),s=Mn(s),a=Mn(a),i.drawingArea=Math.min(Math.floor(t-(r+o)/2),Math.floor(t-(s+a)/2)),i.setCenterPoint(r,o,s,a)},setCenterPoint:function(t,e,n,i){var r=this,o=n+r.drawingArea,s=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((t+r.drawingArea+(r.width-e-r.drawingArea))/2+r.left),r.yCenter=Math.floor((o+s)/2+r.top+r.paddingTop)},getIndexAngle:function(t){var e=this.chart,n=(t*(360/e.data.labels.length)+((e.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(z.isNullOrUndef(t))return NaN;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,i=n.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(i)*e+n.xCenter,y:Math.sin(i)*e+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this,n=e.min,i=e.max;return e.getPointPositionForValue(t||0,e.beginAtZero?0:n<0&&i<0?i:n>0&&i>0?n:0)},_drawGrid:function(){var t,e,n,i=this,r=i.ctx,o=i.options,s=o.gridLines,a=o.angleLines,l=mn(a.lineWidth,s.lineWidth),u=mn(a.color,s.color);if(o.pointLabels.display&&function(t){var e=t.ctx,n=t.options,i=n.pointLabels,r=kn(n),o=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),s=z.options._parseFont(i);e.save(),e.font=s.string,e.textBaseline="middle";for(var a=t.chart.data.labels.length-1;a>=0;a--){var l=t.getPointPosition(a,o+(0===a?r/2:0)+5),u=_n(i.fontColor,a,I.global.defaultFontColor);e.fillStyle=u;var c=t.getIndexAngle(a),h=z.toDegrees(c);e.textAlign=Sn(h),Tn(h,t._pointLabelSizes[a],l),An(e,t.pointLabels[a],l,s.lineHeight)}e.restore()}(i),s.display&&z.each(i.ticks,function(t,n){0!==n&&(e=i.getDistanceFromCenterForValue(i.ticksAsNumbers[n]),function(t,e,n,i){var r,o=t.ctx,s=e.circular,a=t.chart.data.labels.length,l=_n(e.color,i-1),u=_n(e.lineWidth,i-1);if((s||a)&&l&&u){if(o.save(),o.strokeStyle=l,o.lineWidth=u,o.setLineDash&&(o.setLineDash(e.borderDash||[]),o.lineDashOffset=e.borderDashOffset||0),o.beginPath(),s)o.arc(t.xCenter,t.yCenter,n,0,2*Math.PI);else{r=t.getPointPosition(0,n),o.moveTo(r.x,r.y);for(var c=1;c<a;c++)r=t.getPointPosition(c,n),o.lineTo(r.x,r.y)}o.closePath(),o.stroke(),o.restore()}}(i,s,e,n))}),a.display&&l&&u){for(r.save(),r.lineWidth=l,r.strokeStyle=u,r.setLineDash&&(r.setLineDash(xn([a.borderDash,s.borderDash,[]])),r.lineDashOffset=xn([a.borderDashOffset,s.borderDashOffset,0])),t=i.chart.data.labels.length-1;t>=0;t--)e=i.getDistanceFromCenterForValue(o.ticks.reverse?i.min:i.max),n=i.getPointPosition(t,e),r.beginPath(),r.moveTo(i.xCenter,i.yCenter),r.lineTo(n.x,n.y),r.stroke();r.restore()}},_drawLabels:function(){var t=this,e=t.ctx,n=t.options.ticks;if(n.display){var i,r,o=t.getIndexAngle(0),s=z.options._parseFont(n),a=mn(n.fontColor,I.global.defaultFontColor);e.save(),e.font=s.string,e.translate(t.xCenter,t.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",z.each(t.ticks,function(o,l){(0!==l||n.reverse)&&(i=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),n.showLabelBackdrop&&(r=e.measureText(o).width,e.fillStyle=n.backdropColor,e.fillRect(-r/2-n.backdropPaddingX,-i-s.size/2-n.backdropPaddingY,r+2*n.backdropPaddingX,s.size+2*n.backdropPaddingY)),e.fillStyle=a,e.fillText(o,0,-i))}),e.restore()}},_drawTitle:z.noop});On._defaults=wn;var Cn=z._deprecated,Nn=z.options.resolve,Ln=z.valueOrDefault,Dn=Number.MIN_SAFE_INTEGER||-9007199254740991,Pn=Number.MAX_SAFE_INTEGER||9007199254740991,jn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},In=Object.keys(jn);function Rn(t,e){return t-e}function qn(t){return z.valueOrDefault(t.time.min,t.ticks.min)}function Bn(t){return z.valueOrDefault(t.time.max,t.ticks.max)}function Fn(t,e,n,i){var r=function(t,e,n){for(var i,r,o,s=0,a=t.length-1;s>=0&&s<=a;){if(o=t[i=s+a>>1],!(r=t[i-1]||null))return{lo:null,hi:o};if(o[e]<n)s=i+1;else{if(!(r[e]>n))return{lo:r,hi:o};a=i-1}}return{lo:o,hi:null}}(t,e,n),o=r.lo?r.hi?r.lo:t[t.length-2]:t[0],s=r.lo?r.hi?r.hi:t[t.length-1]:t[1],a=s[e]-o[e];return o[i]+(s[i]-o[i])*(a?(n-o[e])/a:0)}function zn(t,e){var n=t._adapter,i=t.options.time,r=i.parser,o=r||i.format,s=e;return"function"==typeof r&&(s=r(s)),z.isFinite(s)||(s="string"==typeof o?n.parse(s,o):n.parse(s)),null!==s?+s:(r||"function"!=typeof o||(s=o(e),z.isFinite(s)||(s=n.parse(s))),s)}function Hn(t,e){if(z.isNullOrUndef(e))return null;var n=t.options.time,i=zn(t,t.getRightValue(e));return null===i||n.round&&(i=+t._adapter.startOf(i,n.round)),i}function Un(t,e,n,i){var r,o,s=In.length;for(r=In.indexOf(t);r<s-1;++r)if((o=jn[In[r]]).common&&Math.ceil((n-e)/((o.steps?o.steps:Pn)*o.size))<=i)return In[r];return In[s-1]}function Wn(t,e,n){var i,r,o=[],s={},a=e.length;for(i=0;i<a;++i)s[r=e[i]]=i,o.push({value:r,major:!1});return 0!==a&&n?function(t,e,n,i){var r,o,s=t._adapter,a=+s.startOf(e[0].value,i),l=e[e.length-1].value;for(r=a;r<=l;r=+s.add(r,1,i))(o=n[r])>=0&&(e[o].major=!0);return e}(t,o,s,n):o}var Vn=on.extend({initialize:function(){this.mergeTicksOptions(),on.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,n=e.time||(e.time={}),i=t._adapter=new We._date(e.adapters.date);return Cn("time scale",n.format,"time.format","time.parser"),Cn("time scale",n.min,"time.min","ticks.min"),Cn("time scale",n.max,"time.max","ticks.max"),z.mergeIf(n.displayFormats,i.formats()),on.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),on.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,r,o,s,a=this,l=a.chart,u=a._adapter,c=a.options,h=c.time.unit||"day",f=Pn,d=Dn,p=[],g=[],v=[],b=a._getLabels();for(t=0,n=b.length;t<n;++t)v.push(Hn(a,b[t]));for(t=0,n=(l.data.datasets||[]).length;t<n;++t)if(l.isDatasetVisible(t))if(z.isObject((r=l.data.datasets[t].data)[0]))for(g[t]=[],e=0,i=r.length;e<i;++e)o=Hn(a,r[e]),p.push(o),g[t][e]=o;else g[t]=v.slice(0),s||(p=p.concat(v),s=!0);else g[t]=[];v.length&&(f=Math.min(f,v[0]),d=Math.max(d,v[v.length-1])),p.length&&(p=n>1?function(t){var e,n,i,r={},o=[];for(e=0,n=t.length;e<n;++e)r[i=t[e]]||(r[i]=!0,o.push(i));return o}(p).sort(Rn):p.sort(Rn),f=Math.min(f,p[0]),d=Math.max(d,p[p.length-1])),f=Hn(a,qn(c))||f,d=Hn(a,Bn(c))||d,f=f===Pn?+u.startOf(Date.now(),h):f,d=d===Dn?+u.endOf(Date.now(),h)+1:d,a.min=Math.min(f,d),a.max=Math.max(f+1,d),a._table=[],a._timestamps={data:p,datasets:g,labels:v}},buildTicks:function(){var t,e,n,i=this,r=i.min,o=i.max,s=i.options,a=s.ticks,l=s.time,u=i._timestamps,c=[],h=i.getLabelCapacity(r),f=a.source,d=s.distribution;for(u="data"===f||"auto"===f&&"series"===d?u.data:"labels"===f?u.labels:function(t,e,n,i){var r,o=t._adapter,s=t.options,a=s.time,l=a.unit||Un(a.minUnit,e,n,i),u=Nn([a.stepSize,a.unitStepSize,1]),c="week"===l&&a.isoWeekday,h=e,f=[];if(c&&(h=+o.startOf(h,"isoWeek",c)),h=+o.startOf(h,c?"day":l),o.diff(n,e,l)>1e5*u)throw e+" and "+n+" are too far apart with stepSize of "+u+" "+l;for(r=h;r<n;r=+o.add(r,u,l))f.push(r);return r!==n&&"ticks"!==s.bounds||f.push(r),f}(i,r,o,h),"ticks"===s.bounds&&u.length&&(r=u[0],o=u[u.length-1]),r=Hn(i,qn(s))||r,o=Hn(i,Bn(s))||o,t=0,e=u.length;t<e;++t)(n=u[t])>=r&&n<=o&&c.push(n);return i.min=r,i.max=o,i._unit=l.unit||(a.autoSkip?Un(l.minUnit,i.min,i.max,h):function(t,e,n,i,r){var o,s;for(o=In.length-1;o>=In.indexOf(n);o--)if(jn[s=In[o]].common&&t._adapter.diff(r,i,s)>=e-1)return s;return In[n?In.indexOf(n):0]}(i,c.length,l.minUnit,i.min,i.max)),i._majorUnit=a.major.enabled&&"year"!==i._unit?function(t){for(var e=In.indexOf(t)+1,n=In.length;e<n;++e)if(jn[In[e]].common)return In[e]}(i._unit):void 0,i._table=function(t,e,n,i){if("linear"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var r,o,s,a,l,u=[],c=[e];for(r=0,o=t.length;r<o;++r)(a=t[r])>e&&a<n&&c.push(a);for(c.push(n),r=0,o=c.length;r<o;++r)l=c[r+1],a=c[r],void 0!==(s=c[r-1])&&void 0!==l&&Math.round((l+s)/2)===a||u.push({time:a,pos:r/(o-1)});return u}(i._timestamps.data,r,o,d),i._offsets=function(t,e,n,i,r){var o,s,a=0,l=0;return r.offset&&e.length&&(o=Fn(t,"time",e[0],"pos"),a=1===e.length?1-o:(Fn(t,"time",e[1],"pos")-o)/2,s=Fn(t,"time",e[e.length-1],"pos"),l=1===e.length?s:(s-Fn(t,"time",e[e.length-2],"pos"))/2),{start:a,end:l,factor:1/(a+1+l)}}(i._table,c,0,0,s),a.reverse&&c.reverse(),Wn(i,c,i._majorUnit)},getLabelForIndex:function(t,e){var n=this,i=n._adapter,r=n.chart.data,o=n.options.time,s=r.labels&&t<r.labels.length?r.labels[t]:"",a=r.datasets[e].data[t];return z.isObject(a)&&(s=n.getRightValue(a)),o.tooltipFormat?i.format(zn(n,s),o.tooltipFormat):"string"==typeof s?s:i.format(zn(n,s),o.displayFormats.datetime)},tickFormatFunction:function(t,e,n,i){var r=this,o=r.options,s=o.time.displayFormats,a=r._majorUnit,l=s[a],u=n[e],c=o.ticks,h=a&&l&&u&&u.major,f=r._adapter.format(t,i||(h?l:s[r._unit])),d=h?c.major:c.minor,p=Nn([d.callback,d.userCallback,c.callback,c.userCallback]);return p?p(f,e,n):f},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(t[e].value,e,t));return i},getPixelForOffset:function(t){var e=this,n=e._offsets,i=Fn(e._table,"time",t,"pos");return e.getPixelForDecimal((n.start+i)*n.factor)},getPixelForValue:function(t,e,n){var i=this,r=null;if(void 0!==e&&void 0!==n&&(r=i._timestamps.datasets[n][e]),null===r&&(r=Hn(i,t)),null!==r)return i.getPixelForOffset(r)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._offsets,i=e.getDecimalForPixel(t)/n.factor-n.end,r=Fn(e._table,"pos",i,"time");return e._adapter._create(r)},_getLabelSize:function(t){var e=this,n=e.options.ticks,i=e.ctx.measureText(t).width,r=z.toRadians(e.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),s=Math.sin(r),a=Ln(n.fontSize,I.global.defaultFontSize);return{w:i*o+a*s,h:i*s+a*o}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this,n=e.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=e.tickFormatFunction(t,0,Wn(e,[t],e._majorUnit),r),s=e._getLabelSize(o),a=Math.floor(e.isHorizontal()?e.width/s.w:e.height/s.h);return e.options.offset&&a--,a>0?a:1}});Vn._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var Yn={category:an,linear:dn,logarithmic:yn,radialLinear:On,time:Vn},Xn={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};We._date.override("function"==typeof t?{_id:"moment",formats:function(){return Xn},parse:function(e,n){return"string"==typeof e&&"string"==typeof n?e=t(e,n):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,n){return t(e).format(n)},add:function(e,n,i){return t(e).add(n,i).valueOf()},diff:function(e,n,i){return t(e).diff(t(n),i)},startOf:function(e,n,i){return e=t(e),"isoWeek"===n?e.isoWeekday(i).valueOf():e.startOf(n).valueOf()},endOf:function(e,n){return t(e).endOf(n).valueOf()},_create:function(e){return t(e)}}:{}),I._set("global",{plugins:{filler:{propagate:!0}}});var Kn={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),r=i&&n.isDatasetVisible(e)&&i.dataset._children||[],o=r.length||0;return o?function(t,e){return e<o&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return z.isArray(e)?function(t,n){return e[n]}:function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};function Gn(t,e,n){var i,r=t._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return"-"!==o[0]&&"+"!==o[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function $n(t){return(t.el._scale||{}).getPointPositionForValue?function(t){var e,n,i,r,o,s=t.el._scale,a=s.options,l=s.chart.data.labels.length,u=t.fill,c=[];if(!l)return null;for(n=a.ticks.reverse?s.min:s.max,i=s.getPointPositionForValue(0,e=a.ticks.reverse?s.max:s.min),r=0;r<l;++r)o="start"===u||"end"===u?s.getPointPositionForValue(r,"start"===u?e:n):s.getBasePosition(r),a.gridLines.circular&&(o.cx=i.x,o.cy=i.y,o.angle=s.getIndexAngle(r)-Math.PI/2),c.push(o);return c}(t):function(t){var e,n=t.el._model||{},i=t.el._scale||{},r=t.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?o=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:i.getBasePixel&&(o=i.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if(z.isFinite(o))return{x:(e=i.isHorizontal())?o:null,y:e?null:o}}return null}(t)}function Zn(t,e,n){var i,r=t[e].fill,o=[e];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(i=t[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function Jn(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),Kn[n](t))}function Qn(t){return t&&!t.skip}function ti(t,e,n,i,r){var o,s,a,l;if(i&&r){for(t.moveTo(e[0].x,e[0].y),o=1;o<i;++o)z.canvas.lineTo(t,e[o-1],e[o]);if(void 0===n[0].angle)for(t.lineTo(n[r-1].x,n[r-1].y),o=r-1;o>0;--o)z.canvas.lineTo(t,n[o],n[o-1],!0);else for(s=n[0].cx,a=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-s,2)+Math.pow(n[0].y-a,2)),o=r-1;o>0;--o)t.arc(s,a,l,n[o].angle,n[o-1].angle,!0)}}function ei(t,e,n,i,r,o){var s,a,l,u,c,h,f,d,p=e.length,g=i.spanGaps,v=[],b=[],y=0,m=0;for(t.beginPath(),s=0,a=p;s<a;++s)c=n(u=e[l=s%p]._view,l,i),h=Qn(u),f=Qn(c),o&&void 0===d&&h&&(a=p+(d=s+1)),h&&f?(y=v.push(u),m=b.push(c)):y&&m&&(g?(h&&v.push(u),f&&b.push(c)):(ti(t,v,b,y,m),y=m=0,v=[],b=[]));ti(t,v,b,y,m),t.closePath(),t.fillStyle=r,t.fill()}var ni={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,r,o,s=(t.data.datasets||[]).length,a=e.propagate,l=[];for(i=0;i<s;++i)o=null,(r=(n=t.getDatasetMeta(i)).dataset)&&r._model&&r instanceof bt.Line&&(o={visible:t.isDatasetVisible(i),fill:Gn(r,i,s),chart:t,el:r}),n.$filler=o,l.push(o);for(i=0;i<s;++i)(o=l[i])&&(o.fill=Zn(l,i,a),o.boundary=$n(o),o.mapper=Jn(o))},beforeDatasetsDraw:function(t){var e,n,i,r,o,s,a,l=t._getSortedVisibleDatasetMetas(),u=t.ctx;for(n=l.length-1;n>=0;--n)(e=l[n].$filler)&&e.visible&&(o=(i=e.el)._children||[],a=(r=i._view).backgroundColor||I.global.defaultColor,(s=e.mapper)&&a&&o.length&&(z.canvas.clipArea(u,t.chartArea),ei(u,o,s,r,a,i._loop),z.canvas.unclipArea(u)))}},ii=z.rtl.getRtlAdapter,ri=z.noop,oi=z.valueOrDefault;function si(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}I._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,n=t.options.legend||{},i=n.labels&&n.labels.usePointStyle;return t._getSortedDatasetMetas().map(function(n){var r=n.controller.getStyle(i?0:void 0);return{text:e[n.index].label,fillStyle:r.backgroundColor,hidden:!t.isDatasetVisible(n.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:n.index}},this)}}},legendCallback:function(t){var e,n,i,r=document.createElement("ul"),o=t.data.datasets;for(r.setAttribute("class",t.id+"-legend"),e=0,n=o.length;e<n;e++)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[e].backgroundColor,o[e].label&&i.appendChild(document.createTextNode(o[e].label));return r.outerHTML}});var ai=Y.extend({initialize:function(t){var e=this;z.extend(e,t),e.legendHitBoxes=[],e._hoveredItem=null,e.doughnutMode=!1},beforeUpdate:ri,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:ri,beforeSetDimensions:ri,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:ri,beforeBuildLabels:ri,buildLabels:function(){var t=this,e=t.options.labels||{},n=z.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:ri,beforeFit:ri,fit:function(){var t=this,e=t.options,n=e.labels,i=e.display,r=t.ctx,o=z.options._parseFont(n),s=o.size,a=t.legendHitBoxes=[],l=t.minSize,u=t.isHorizontal();if(u?(l.width=t.maxWidth,l.height=i?10:0):(l.width=i?10:0,l.height=t.maxHeight),i){if(r.font=o.string,u){var c=t.lineWidths=[0],h=0;r.textAlign="left",r.textBaseline="middle",z.each(t.legendItems,function(t,e){var i=si(n,s)+s/2+r.measureText(t.text).width;(0===e||c[c.length-1]+i+2*n.padding>l.width)&&(h+=s+n.padding,c[c.length-(e>0?0:1)]=0),a[e]={left:0,top:0,width:i,height:s},c[c.length-1]+=i+n.padding}),l.height+=h}else{var f=n.padding,d=t.columnWidths=[],p=t.columnHeights=[],g=n.padding,v=0,b=0;z.each(t.legendItems,function(t,e){var i=si(n,s)+s/2+r.measureText(t.text).width;e>0&&b+s+2*f>l.height&&(g+=v+n.padding,d.push(v),p.push(b),v=0,b=0),v=Math.max(v,i),b+=s+f,a[e]={left:0,top:0,width:i,height:s}}),g+=v,d.push(v),p.push(b),l.width+=g}t.width=l.width,t.height=l.height}else t.width=l.width=t.height=l.height=0},afterFit:ri,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,i=I.global,r=i.defaultColor,o=i.elements.line,s=t.height,a=t.columnHeights,l=t.width,u=t.lineWidths;if(e.display){var c,h=ii(e.rtl,t.left,t.minSize.width),f=t.ctx,d=oi(n.fontColor,i.defaultFontColor),p=z.options._parseFont(n),g=p.size;f.textAlign=h.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.strokeStyle=d,f.fillStyle=d,f.font=p.string;var v=si(n,g),b=t.legendHitBoxes,y=function(t,i){switch(e.align){case"start":return n.padding;case"end":return t-i;default:return(t-i+n.padding)/2}},m=t.isHorizontal();c=m?{x:t.left+y(l,u[0]),y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+y(s,a[0]),line:0},z.rtl.overrideTextDirection(t.ctx,e.textDirection);var _=g+n.padding;z.each(t.legendItems,function(e,i){var d=f.measureText(e.text).width,p=v+g/2+d,x=c.x,w=c.y;h.setWidth(t.minSize.width),m?i>0&&x+p+n.padding>t.left+t.minSize.width&&(w=c.y+=_,c.line++,x=c.x=t.left+y(l,u[c.line])):i>0&&w+_>t.top+t.minSize.height&&(x=c.x=x+t.columnWidths[c.line]+n.padding,c.line++,w=c.y=t.top+y(s,a[c.line]));var k=h.x(x);!function(t,e,i){if(!(isNaN(v)||v<=0)){f.save();var s=oi(i.lineWidth,o.borderWidth);if(f.fillStyle=oi(i.fillStyle,r),f.lineCap=oi(i.lineCap,o.borderCapStyle),f.lineDashOffset=oi(i.lineDashOffset,o.borderDashOffset),f.lineJoin=oi(i.lineJoin,o.borderJoinStyle),f.lineWidth=s,f.strokeStyle=oi(i.strokeStyle,r),f.setLineDash&&f.setLineDash(oi(i.lineDash,o.borderDash)),n&&n.usePointStyle){var a=v*Math.SQRT2/2,l=h.xPlus(t,v/2);z.canvas.drawPoint(f,i.pointStyle,a,l,e+g/2,i.rotation)}else f.fillRect(h.leftForLtr(t,v),e,v,g),0!==s&&f.strokeRect(h.leftForLtr(t,v),e,v,g);f.restore()}}(k,w,e),b[i].left=h.leftForLtr(k,b[i].width),b[i].top=w,function(t,e,n,i){var r=g/2,o=h.xPlus(t,v+r),s=e+r;f.fillText(n.text,o,s),n.hidden&&(f.beginPath(),f.lineWidth=2,f.moveTo(o,s),f.lineTo(h.xPlus(o,i),s),f.stroke())}(k,w,e,d),m?c.x+=p+n.padding:c.y+=_}),z.rtl.restoreTextDirection(t.ctx,e.textDirection)}},_getLegendItemAt:function(t,e){var n,i,r,o=this;if(t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom)for(r=o.legendHitBoxes,n=0;n<r.length;++n)if(t>=(i=r[n]).left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height)return o.legendItems[n];return null},handleEvent:function(t){var e,n=this,i=n.options,r="mouseup"===t.type?"click":t.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}e=n._getLegendItemAt(t.x,t.y),"click"===r?e&&i.onClick&&i.onClick.call(n,t.native,e):(i.onLeave&&e!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,t.native,n._hoveredItem),n._hoveredItem=e),i.onHover&&e&&i.onHover.call(n,t.native,e))}});function li(t,e){var n=new ai({ctx:t.ctx,options:e,chart:t});le.configure(t,n,e),le.addBox(t,n),t.legend=n}var ui={id:"legend",_element:ai,beforeInit:function(t){var e=t.options.legend;e&&li(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(z.mergeIf(e,I.global.legend),n?(le.configure(t,n,e),n.options=e):li(t,e)):n&&(le.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}},ci=z.noop;I._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var hi=Y.extend({initialize:function(t){z.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:ci,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:ci,beforeSetDimensions:ci,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:ci,beforeBuildLabels:ci,buildLabels:ci,afterBuildLabels:ci,beforeFit:ci,fit:function(){var t,e=this,n=e.options,i=e.minSize={},r=e.isHorizontal();n.display?(t=(z.isArray(n.text)?n.text.length:1)*z.options._parseFont(n).lineHeight+2*n.padding,e.width=i.width=r?e.maxWidth:t,e.height=i.height=r?t:e.maxHeight):e.width=i.width=e.height=i.height=0},afterFit:ci,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=t.options;if(n.display){var i,r,o,s=z.options._parseFont(n),a=s.lineHeight,l=a/2+n.padding,u=0,c=t.top,h=t.left,f=t.bottom,d=t.right;e.fillStyle=z.valueOrDefault(n.fontColor,I.global.defaultFontColor),e.font=s.string,t.isHorizontal()?(r=h+(d-h)/2,o=c+l,i=d-h):(r="left"===n.position?h+l:d-l,o=c+(f-c)/2,i=f-c,u=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(r,o),e.rotate(u),e.textAlign="center",e.textBaseline="middle";var p=n.text;if(z.isArray(p))for(var g=0,v=0;v<p.length;++v)e.fillText(p[v],0,g,i),g+=a;else e.fillText(p,0,0,i);e.restore()}}});function fi(t,e){var n=new hi({ctx:t.ctx,options:e,chart:t});le.configure(t,n,e),le.addBox(t,n),t.titleBlock=n}var di={},pi=ni,gi=ui,vi={id:"title",_element:hi,beforeInit:function(t){var e=t.options.title;e&&fi(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(z.mergeIf(e,I.global.title),n?(le.configure(t,n,e),n.options=e):fi(t,e)):n&&(le.removeBox(t,n),delete t.titleBlock)}};for(var bi in di.filler=pi,di.legend=gi,di.title=vi,ze.helpers=z,function(){function t(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function e(t){return null!=t&&"none"!==t}function n(n,i,r){var o=document.defaultView,s=z._getParentNode(n),a=o.getComputedStyle(n)[i],l=o.getComputedStyle(s)[i],u=e(a),c=e(l),h=Number.POSITIVE_INFINITY;return u||c?Math.min(u?t(a,n,r):h,c?t(l,s,r):h):"none"}z.where=function(t,e){if(z.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return z.each(t,function(t){e(t)&&n.push(t)}),n},z.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},z.findNextWhere=function(t,e,n){z.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},z.findPreviousWhere=function(t,e,n){z.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;i>=0;i--){var r=t[i];if(e(r))return r}},z.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},z.almostEquals=function(t,e,n){return Math.abs(t-e)<n},z.almostWhole=function(t,e){var n=Math.round(t);return n-e<=t&&n+e>=t},z.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},z.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},z.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},z.toRadians=function(t){return t*(Math.PI/180)},z.toDegrees=function(t){return t*(180/Math.PI)},z._decimalPlaces=function(t){if(z.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},z.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},z.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},z.aliasPixel=function(t){return t%2==0?0:.5},z._alignPixel=function(t,e,n){var i=t.currentDevicePixelRatio,r=n/2;return Math.round((e-r)*i)/i+r},z.splineCurve=function(t,e,n,i){var r=t.skip?e:t,o=e,s=n.skip?e:n,a=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2)),u=a/(a+l),c=l/(a+l),h=i*(u=isNaN(u)?0:u),f=i*(c=isNaN(c)?0:c);return{previous:{x:o.x-h*(s.x-r.x),y:o.y-h*(s.y-r.y)},next:{x:o.x+f*(s.x-r.x),y:o.y+f*(s.y-r.y)}}},z.EPSILON=Number.EPSILON||1e-14,z.splineCurveMonotone=function(t){var e,n,i,r,o,s,a,l,u,c=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),h=c.length;for(e=0;e<h;++e)if(!(i=c[e]).model.skip){if(n=e>0?c[e-1]:null,(r=e<h-1?c[e+1]:null)&&!r.model.skip){var f=r.model.x-i.model.x;i.deltaK=0!==f?(r.model.y-i.model.y)/f:0}i.mK=!n||n.model.skip?i.deltaK:!r||r.model.skip?n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?0:(n.deltaK+i.deltaK)/2}for(e=0;e<h-1;++e)r=c[e+1],(i=c[e]).model.skip||r.model.skip||(z.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(o=i.mK/i.deltaK,s=r.mK/i.deltaK,(l=Math.pow(o,2)+Math.pow(s,2))<=9||(a=3/Math.sqrt(l),i.mK=o*a*i.deltaK,r.mK=s*a*i.deltaK)));for(e=0;e<h;++e)(i=c[e]).model.skip||(r=e<h-1?c[e+1]:null,(n=e>0?c[e-1]:null)&&!n.model.skip&&(i.model.controlPointPreviousX=i.model.x-(u=(i.model.x-n.model.x)/3),i.model.controlPointPreviousY=i.model.y-u*i.mK),r&&!r.model.skip&&(i.model.controlPointNextX=i.model.x+(u=(r.model.x-i.model.x)/3),i.model.controlPointNextY=i.model.y+u*i.mK))},z.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},z.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},z.niceNum=function(t,e){var n=Math.floor(z.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},z.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},z.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,o=t.target||t.srcElement,s=o.getBoundingClientRect(),a=r.touches;a&&a.length>0?(n=a[0].clientX,i=a[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(z.getStyle(o,"padding-left")),u=parseFloat(z.getStyle(o,"padding-top")),c=parseFloat(z.getStyle(o,"padding-right")),h=parseFloat(z.getStyle(o,"padding-bottom")),f=s.bottom-s.top-u-h;return{x:n=Math.round((n-s.left-l)/(s.right-s.left-l-c)*o.width/e.currentDevicePixelRatio),y:i=Math.round((i-s.top-u)/f*o.height/e.currentDevicePixelRatio)}},z.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},z.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},z._calculatePadding=function(t,e,n){return(e=z.getStyle(t,e)).indexOf("%")>-1?n*parseInt(e,10)/100:parseInt(e,10)},z._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},z.getMaximumWidth=function(t){var e=z._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,i=n-z._calculatePadding(e,"padding-left",n)-z._calculatePadding(e,"padding-right",n),r=z.getConstraintWidth(t);return isNaN(r)?i:Math.min(i,r)},z.getMaximumHeight=function(t){var e=z._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,i=n-z._calculatePadding(e,"padding-top",n)-z._calculatePadding(e,"padding-bottom",n),r=z.getConstraintHeight(t);return isNaN(r)?i:Math.min(i,r)},z.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},z.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=t.canvas,r=t.height,o=t.width;i.height=r*n,i.width=o*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=o+"px")}},z.fontString=function(t,e,n){return e+" "+t+"px "+n},z.longestText=function(t,e,n,i){var r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),t.font=e;var s,a,l,u,c,h=0,f=n.length;for(s=0;s<f;s++)if(null!=(u=n[s])&&!0!==z.isArray(u))h=z.measureText(t,r,o,h,u);else if(z.isArray(u))for(a=0,l=u.length;a<l;a++)null==(c=u[a])||z.isArray(c)||(h=z.measureText(t,r,o,h,c));var d=o.length/2;if(d>n.length){for(s=0;s<d;s++)delete r[o[s]];o.splice(0,d)}return h},z.measureText=function(t,e,n,i,r){var o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i},z.numberOfLabelLines=function(t){var e=1;return z.each(t,function(t){z.isArray(t)&&t.length>e&&(e=t.length)}),e},z.color=_?function(t){return t instanceof CanvasGradient&&(t=I.global.defaultColor),_(t)}:function(t){return console.error("Color.js not found!"),t},z.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:z.color(t).saturate(.5).darken(.1).rgbString()}}(),ze._adapters=We,ze.Animation=K,ze.animationService=G,ze.controllers=Vt,ze.DatasetController=tt,ze.defaults=I,ze.Element=Y,ze.elements=bt,ze.Interaction=Jt,ze.layouts=le,ze.platform=xe,ze.plugins=we,ze.Scale=on,ze.scaleService=ke,ze.Ticks=Ve,ze.Tooltip=Le,ze.helpers.each(Yn,function(t,e){ze.scaleService.registerScaleType(e,t,t._defaults)}),di)di.hasOwnProperty(bi)&&ze.plugins.register(di[bi]);ze.platform.initialize();var yi=ze;return"undefined"!=typeof window&&(window.Chart=ze),ze.Chart=ze,ze.Legend=di.legend._element,ze.Title=di.title._element,ze.pluginService=ze.plugins,ze.PluginBase=ze.Element.extend({}),ze.canvasHelpers=ze.helpers.canvas,ze.layoutService=ze.layouts,ze.LinearScaleBase=un,ze.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(t){ze[t]=function(e,n){return new ze(e,ze.helpers.merge(n||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}}),yi}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Quill=e():t.Quill=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),r=n(18),o=n(19),s=n(45),a=n(46),l=n(47),u=n(48),c=n(49),h=n(12),f=n(32),d=n(33),p=n(31),g=n(1);e.default={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:i.default,Format:r.default,Leaf:o.default,Embed:u.default,Scroll:s.default,Block:l.default,Inline:a.default,Text:c.default,Attributor:{Attribute:h.default,Class:f.default,Style:d.default,Store:p.default}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=this;return(n=t.call(this,e="[Parchment] "+e)||this).message=e,n.name=n.constructor.name,n}return r(e,t),e}(Error);e.ParchmentError=o;var s,a={},l={},u={},c={};function h(t,e){var n;if(void 0===e&&(e=s.ANY),"string"==typeof t)n=c[t]||a[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof t)t&s.LEVEL&s.BLOCK?n=c.block:t&s.LEVEL&s.INLINE&&(n=c.inline);else if(t instanceof HTMLElement){var i=(t.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=l[i[r]])break;n=n||u[t.tagName]}return null==n?null:e&s.LEVEL&n.scope&&e&s.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(s=e.Scope||(e.Scope={})),e.create=function(t,e){var n=h(t);if(null==n)throw new o("Unable to create "+t+" blot");var i=n,r=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:i.create(e);return new i(r,e)},e.find=function t(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:i?t(n.parentNode,i):null},e.query=h,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(e){return t(e)});var i=e[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new o("Invalid definition");if("abstract"===i.blotName)throw new o("Cannot register abstract class");if(c[i.blotName||i.attrName]=i,"string"==typeof i.keyName)a[i.keyName]=i;else if(null!=i.className&&(l[i.className]=i),null!=i.tagName){i.tagName=Array.isArray(i.tagName)?i.tagName.map(function(t){return t.toUpperCase()}):i.tagName.toUpperCase();var r=Array.isArray(i.tagName)?i.tagName:[i.tagName];r.forEach(function(t){null!=u[t]&&null!=i.className||(u[t]=i)})}return i}},function(t,e,n){var i=n(51),r=n(11),o=n(3),s=n(20),a=String.fromCharCode(0),l=function(t){this.ops=Array.isArray(t)?t:null!=t&&Array.isArray(t.ops)?t.ops:[]};l.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},l.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},l.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},l.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&"object"!=typeof(n=this.ops[(e-=1)-1]))return this.ops.unshift(t),this;if(r(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(i){(t(i)?e:n).push(i)}),[e,n]},l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+s.length(e):e.delete?t-e.delete:t},0)},l.prototype.length=function(){return this.reduce(function(t,e){return t+s.length(e)},0)},l.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],i=s.iterator(this.ops),r=0;r<e&&i.hasNext();){var o;r<t?o=i.next(t-r):(o=i.next(e-r),n.push(o)),r+=s.length(o)}return new l(n)},l.prototype.compose=function(t){var e=s.iterator(this.ops),n=s.iterator(t.ops),i=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var a=o.retain;"insert"===e.peekType()&&e.peekLength()<=a;)a-=e.peekLength(),i.push(e.next());o.retain-a>0&&n.next(o.retain-a)}for(var u=new l(i);e.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===e.peekType())u.push(e.next());else{var c=Math.min(e.peekLength(),n.peekLength()),h=e.next(c),f=n.next(c);if("number"==typeof f.retain){var d={};"number"==typeof h.retain?d.retain=c:d.insert=h.insert;var p=s.attributes.compose(h.attributes,f.attributes,"number"==typeof h.retain);if(p&&(d.attributes=p),u.push(d),!n.hasNext()&&r(u.ops[u.ops.length-1],d)){var g=new l(e.rest());return u.concat(g).chop()}}else"number"==typeof f.delete&&"number"==typeof h.retain&&u.push(f)}return u.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var n=[this,t].map(function(e){return e.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:a;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")}).join("")}),o=new l,u=i(n[0],n[1],e),c=s.iterator(this.ops),h=s.iterator(t.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case i.INSERT:n=Math.min(h.peekLength(),e),o.push(h.next(n));break;case i.DELETE:n=Math.min(e,c.peekLength()),c.next(n),o.delete(n);break;case i.EQUAL:n=Math.min(c.peekLength(),h.peekLength(),e);var a=c.next(n),l=h.next(n);r(a.insert,l.insert)?o.retain(n,s.attributes.diff(a.attributes,l.attributes)):o.push(l).delete(n)}e-=n}}),o.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";for(var n=s.iterator(this.ops),i=new l,r=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),a=s.length(o)-n.peekLength(),u="string"==typeof o.insert?o.insert.indexOf(e,a)-a:-1;if(u<0)i.push(n.next());else if(u>0)i.push(n.next(u));else{if(!1===t(i,n.next(1).attributes||{},r))return;r+=1,i=new l}}i.length()>0&&t(i,{},r)},l.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=s.iterator(this.ops),i=s.iterator(t.ops),r=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var o=Math.min(n.peekLength(),i.peekLength()),a=n.next(o),u=i.next(o);if(a.delete)continue;u.delete?r.push(u):r.retain(o,s.attributes.transform(a.attributes,u.attributes,e))}else r.retain(s.length(n.next()));return r.chop()},l.prototype.transformPosition=function(t,e){e=!!e;for(var n=s.iterator(this.ops),i=0;n.hasNext()&&i<=t;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<t||!e)&&(t+=r),i+=r):t-=Math.min(r,t-i)}return t},t.exports=l},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},a=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,r=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!o)return!1;for(e in t);return void 0===e||n.call(t,e)},l=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(o)return o(t,e).value}return t[e]};t.exports=function t(){var e,n,i,r,o,c,h=arguments[0],f=1,d=arguments.length,p=!1;for("boolean"==typeof h&&(p=h,h=arguments[1]||{},f=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});f<d;++f)if(null!=(e=arguments[f]))for(n in e)i=u(h,n),h!==(r=u(e,n))&&(p&&r&&(a(r)||(o=s(r)))?(o?(o=!1,c=i&&s(i)?i:[]):c=i&&a(i)?i:{},l(h,{name:n,newValue:t(p,c,r)})):void 0!==r&&l(h,{name:n,newValue:r}));return h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=h(n(3)),s=h(n(2)),a=h(n(0)),l=h(n(16)),u=h(n(6)),c=h(n(7));function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){return f(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),i(e,[{key:"attach",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new a.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=a.default.query(t,a.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,i){this.format(n,i)}},{key:"insertAt",value:function(t,n,i){if("string"==typeof n&&n.endsWith("\n")){var o=a.default.create(v.blotName);this.parent.insertBefore(o,0===t?this:this.next),o.insertAt(0,n.slice(0,-1))}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i)}}]),e}(a.default.Embed);g.scope=a.default.Scope.BLOCK_BLOT;var v=function(t){function e(t){f(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return p(e,t),i(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(a.default.Leaf).reduce(function(t,e){return 0===e.length()?t:t.insert(e.value(),b(e))},new s.default).insert("\n",b(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,i,o){n<=0||(a.default.query(i,a.default.Scope.BLOCK)?t+n===this.length()&&this.format(i,o):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),i,o),this.cache={})}},{key:"insertAt",value:function(t,n,i){if(null!=i)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);if(0!==n.length){var o=n.split("\n"),s=o.shift();s.length>0&&(t<this.length()-1||null==this.children.tail?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var a=this;o.reduce(function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length},t+s.length)}}},{key:"insertBefore",value:function(t,n){var i=this.children.head;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),i instanceof l.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var o=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},o}}]),e}(a.default.Block);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,o.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:b(t.parent,e))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[u.default,a.default.Embed,c.default],e.bubbleFormats=b,e.BlockEmbed=g,e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(50);var s=v(n(2)),a=v(n(14)),l=v(n(8)),u=v(n(9)),c=v(n(0)),h=n(15),f=v(h),d=v(n(3)),p=v(n(10)),g=v(n(34));function v(t){return t&&t.__esModule?t:{default:t}}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m=(0,p.default)("quill"),_=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(this,t),this.options=x(e,i),this.container=this.options.container,null==this.container)return m.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new f.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(t){t===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(t,e){var i=n.selection.lastRange,r=i&&0===i.length?i.index:void 0;w.call(n,function(){return n.editor.update(null,e,r)},t)});var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),p.default.level(t)}},{key:"find",value:function(t){return t.__quill||c.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&m.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var r=t.attrName||t.blotName;"string"==typeof r?this.register("formats/"+r,t,e):Object.keys(t).forEach(function(i){n.register(i,t[i],e)})}else null==this.imports[t]||i||m.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?c.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),o(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var i=this,o=k(t,e,n),s=r(o,4);return w.call(this,function(){return i.editor.deleteText(t,e)},n=s[3],t=s[0],-1*(e=s[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,function(){var i=n.getSelection(!0),r=new s.default;if(null==i)return r;if(c.default.query(t,c.default.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,b({},t,e));else{if(0===i.length)return n.selection.format(t,e),r;r=n.editor.formatText(i.index,i.length,b({},t,e))}return n.setSelection(i,l.default.sources.SILENT),r},i)}},{key:"formatLine",value:function(t,e,n,i,o){var s,a=this,l=k(t,e,n,i,o),u=r(l,4);return e=u[1],s=u[2],w.call(this,function(){return a.editor.formatLine(t,e,s)},o=u[3],t=u[0],0)}},{key:"formatText",value:function(t,e,n,i,o){var s,a=this,l=k(t,e,n,i,o),u=r(l,4);return e=u[1],s=u[2],w.call(this,function(){return a.editor.formatText(t,e,s)},o=u[3],t=u[0],0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=k(t,e),i=r(n,2);return this.editor.getContents(t=i[0],e=i[1])}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=k(t,e),i=r(n,2);return this.editor.getText(t=i[0],e=i[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return w.call(this,function(){return r.editor.insertEmbed(e,n,i)},o,e)}},{key:"insertText",value:function(t,e,n,i,o){var s,a=this,l=k(t,0,n,i,o),u=r(l,4);return s=u[2],w.call(this,function(){return a.editor.insertText(t,e,s)},o=u[3],t=u[0],e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var i=this,o=k(t,e,n),s=r(o,4);return e=s[1],w.call(this,function(){return i.editor.removeFormat(t,e)},n=s[3],t=s[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,function(){t=new s.default(t);var n=e.getLength(),i=e.editor.deleteText(0,n),r=e.editor.applyDelta(t),o=r.ops[r.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),r.delete(1)),i.compose(r)},n)}},{key:"setSelection",value:function(e,n,i){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var o=k(e,n,i),s=r(o,4);i=s[3],this.selection.setRange(new h.Range(e=s[0],n=s[1]),i),i!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new s.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,function(){return t=new s.default(t),e.editor.applyDelta(t,n)},n,!0)}}]),t}();function x(t,e){if((e=(0,d.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==_.DEFAULTS.theme){if(e.theme=_.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=g.default;var n=(0,d.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={})})});var i=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce(function(t,e){var n=_.import("modules/"+e);return null==n?m.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,d.default)(!0,{},_.DEFAULTS,{modules:i},n,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function w(t,e,n,i){if(this.options.strict&&!this.isEnabled()&&e===l.default.sources.USER)return new s.default;var r=null==n?null:this.getSelection(),o=this.editor.delta,a=t();if(null!=r&&(!0===n&&(n=r.index),null==i?r=E(r,a,e):0!==i&&(r=E(r,n,i,e)),this.setSelection(r,l.default.sources.SILENT)),a.length()>0){var u,c,h=[l.default.events.TEXT_CHANGE,a,o,e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(h)),e!==l.default.sources.SILENT&&(c=this.emitter).emit.apply(c,h)}return a}function k(t,e,n,r,o){var s={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(o=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(o=r,r=n,n=e,e=0),"object"===(void 0===n?"undefined":i(n))?(s=n,o=r):"string"==typeof n&&(null!=r?s[n]=r:o=n),[t,e,s,o=o||l.default.sources.API]}function E(t,e,n,i){if(null==t)return null;var o=void 0,a=void 0;if(e instanceof s.default){var u=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,i!==l.default.sources.USER)}),c=r(u,2);o=c[0],a=c[1]}else{var f=[t.index,t.index+t.length].map(function(t){return t<e||t===e&&i===l.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),d=r(f,2);o=d[0],a=d[1]}return new h.Range(o,a-o)}_.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},_.events=l.default.events,_.sources=l.default.sources,_.version="1.3.7",_.imports={delta:s.default,parchment:c.default,"core/module":u.default,"core/theme":g.default},e.expandConfig=x,e.overload=k,e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=a(n(7)),s=a(n(0));function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"formatAt",value:function(t,n,i,o){if(e.compare(this.statics.blotName,i)<0&&s.default.query(i,s.default.Scope.BLOT)){var a=this.isolate(t,n);o&&a.wrap(i,o)}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,o)}},{key:"optimize",value:function(t){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var i=e.order.indexOf(t),r=e.order.indexOf(n);return i>=0||r>=0?i-r:t===n?0:t<n?-1:1}}]),e}(s.default.Inline);c.allowedChildren=[c,s.default.Embed,o.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=c},function(t,e,n){"use strict";var i;function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=n(0))&&i.__esModule?i:{default:i}).default.Text);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=s(n(54));function s(t){return t&&t.__esModule?t:{default:t}}var a=(0,s(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)})})});var l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",a.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"emit",value:function(){a.log.apply(a,arguments),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.listeners[t.type]||[]).forEach(function(e){var i=e.node,r=e.handler;(t.target===i||i.contains(t.target))&&r.apply(void 0,[t].concat(n))})}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(o.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},e.default=l},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.quill=e,this.options=n};r.DEFAULTS={},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function o(t){if(i.indexOf(t)<=i.indexOf(r)){for(var e,n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];(e=console)[t].apply(e,o)}}function s(t){return i.reduce(function(e,n){return e[n]=o.bind(console,n,t),e},{})}o.level=s.level=function(t){r=t},e.default=s},function(t,e,n){var i=Array.prototype.slice,r=n(52),o=n(53),s=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var u,c;if(a(t)||a(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t))return!!o(e)&&(t=i.call(t),e=i.call(e),s(t,e,n));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}try{var h=r(t),f=r(e)}catch(d){return!1}if(h.length!=f.length)return!1;for(h.sort(),f.sort(),u=h.length-1;u>=0;u--)if(h[u]!=f[u])return!1;for(u=h.length-1;u>=0;u--)if(!s(t[c=h[u]],e[c],n))return!1;return typeof t==typeof e}(t,e,n))};function a(t){return null==t}function l(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e,this.scope=null!=n.scope?n.scope&i.Scope.LEVEL|i.Scope.TYPE&i.Scope.ATTRIBUTE:i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=i.query(t,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=h(n(2)),a=h(n(0)),l=h(n(4)),u=h(n(6)),c=h(n(7));function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){return f(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),e}(u.default);g.blotName="code",g.tagName="CODE";var v=function(t){function e(){return f(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),r(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(function(e,n){return e.insert(n).insert("\n",t.formats())},new s.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var r=this.descendant(c.default,this.length()-1),s=i(r,1)[0];null!=s&&s.deleteAt(s.length()-1,1),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,i,r){if(0!==n&&null!=a.default.query(i,a.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(t);if(!(o<0||o>=t+n)){var s=this.newlineIndex(t,!0)+1,l=o-s+1,u=this.isolate(s,l),c=u.next;u.format(i,r),c instanceof e&&c.formatAt(0,t-s+n-l,i,r)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var r=this.descendant(c.default,t),o=i(r,2);o[0].insertAt(o[1],e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var n=this.domNode.textContent.slice(t).indexOf("\n");return n>-1?t+n:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=a.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof a.default.Embed?e.remove():e.unwrap()})}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(l.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",e.Code=g,e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=b(n(2)),a=b(n(20)),l=b(n(0)),u=b(n(13)),c=b(n(24)),h=n(4),f=b(h),d=b(n(16)),p=b(n(21)),g=b(n(11)),v=b(n(3));function b(t){return t&&t.__esModule?t:{default:t}}var y=/^[ -~]*$/,m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return o(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce(function(t,e){if(1===e.insert){var n=(0,p.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,p.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)},new s.default)}(t)).reduce(function(t,s){var u=s.retain||s.delete||s.insert.length||1,c=s.attributes||{};if(null!=s.insert){if("string"==typeof s.insert){var d=s.insert;d.endsWith("\n")&&n&&(n=!1,d=d.slice(0,-1)),t>=o&&!d.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,d);var p=e.scroll.line(t),g=r(p,2),b=g[0],y=g[1],m=(0,v.default)({},(0,h.bubbleFormats)(b));if(b instanceof f.default){var _=b.descendant(l.default.Leaf,y),x=r(_,1);m=(0,v.default)(m,(0,h.bubbleFormats)(x[0]))}c=a.default.attributes.diff(m,c)||{}}else if("object"===i(s.insert)){var w=Object.keys(s.insert)[0];if(null==w)return t;e.scroll.insertAt(t,w,s.insert[w])}o+=u}return Object.keys(c).forEach(function(n){e.scroll.formatAt(t,u,n,c[n])}),t+u},0),t.reduce(function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new s.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach(function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var o=n.scroll.lines(t,Math.max(e,1)),s=e;o.forEach(function(e){var o=e.length();if(e instanceof u.default){var a=t-e.offset(n.scroll),l=e.newlineIndex(a+s)-a+1;e.formatAt(a,l,r,i[r])}else e.format(r,i[r]);s-=o})}}),this.scroll.optimize(),this.update((new s.default).retain(t).retain(e,(0,p.default)(i)))}},{key:"formatText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach(function(r){n.scroll.formatAt(t,e,r,i[r])}),this.update((new s.default).retain(t).retain(e,(0,p.default)(i)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new s.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===e?this.scroll.path(t).forEach(function(t){var e=r(t,1)[0];e instanceof f.default?n.push(e):e instanceof l.default.Leaf&&i.push(e)}):(n=this.scroll.lines(t,e),i=this.scroll.descendants(l.default.Leaf,t,e));var o=[n,i].map(function(t){if(0===t.length)return{};for(var e=(0,h.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=_((0,h.bubbleFormats)(n),e)}return e});return v.default.apply(v.default,o)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return"string"==typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new s.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach(function(r){n.scroll.formatAt(t,e.length,r,i[r])}),this.update((new s.default).retain(t).insert(e,(0,p.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===f.default.blotName&&!(t.children.length>1)&&t.children.head instanceof d.default}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),i=this.scroll.line(t+e),o=r(i,2),a=o[0],l=o[1],c=0,h=new s.default;null!=a&&(c=a instanceof u.default?a.newlineIndex(l)-l+1:a.length()-l,h=a.delta().slice(l,l+c-1).insert("\n"));var f=this.getContents(t,e+c).diff((new s.default).insert(n).concat(h)),d=(new s.default).retain(t).concat(f);return this.applyDelta(d)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(y)&&l.default.find(e[0].target)){var r=l.default.find(e[0].target),o=(0,h.bubbleFormats)(r),a=r.offset(this.scroll),u=e[0].oldValue.replace(c.default.CONTENTS,""),f=(new s.default).insert(u),d=(new s.default).insert(r.value()),p=(new s.default).retain(a).concat(f.diff(d,n));t=p.reduce(function(t,e){return e.insert?t.insert(e.insert,o):t.push(e)},new s.default),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&(0,g.default)(i.compose(t),this.delta)||(t=i.diff(this.delta,n));return t}}]),t}();function _(t,e){return Object.keys(e).reduce(function(n,i){return null==t[i]||(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]]),n},{})}e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=u(n(0)),s=u(n(21)),a=u(n(11)),l=u(n(8));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=(0,u(n(10)).default)("quill:selection"),d=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.index=e,this.length=n},p=function(){function t(e,n){var i=this;h(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){i.mouseDown||setTimeout(i.update.bind(i,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(t,e){t===l.default.events.TEXT_CHANGE&&e.length()>0&&i.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(i.hasFocus()){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(e){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range;i.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)}}),this.update(l.default.sources.SILENT)}return r(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",function(){t.composing=!0}),this.root.addEventListener("compositionend",function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout(function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(t,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=o.default.find(n.start.node,!1);if(null==i)return;if(i instanceof o.default.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var r=void 0,o=this.scroll.leaf(t),s=i(o,2),a=s[0],l=s[1];if(null==a)return null;var u=a.position(l,!0),c=i(u,2);r=c[0],l=c[1];var h=document.createRange();if(e>0){h.setStart(r,l);var f=this.scroll.leaf(t+e),d=i(f,2);if(null==(a=d[0]))return null;var p=a.position(l=d[1],!0),g=i(p,2);return h.setEnd(r=g[0],l=g[1]),h.getBoundingClientRect()}var v="left",b=void 0;return r instanceof Text?(l<r.data.length?(h.setStart(r,l),h.setEnd(r,l+1)):(h.setStart(r,l-1),h.setEnd(r,l),v="right"),b=h.getBoundingClientRect()):(b=a.domNode.getBoundingClientRect(),l>0&&(v="right")),{bottom:b.top+b.height,height:b.height,left:b[v],right:b[v],top:b.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return f.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map(function(t){var n=i(t,2),r=n[0],s=n[1],a=o.default.find(r,!0),l=a.offset(e.scroll);return 0===s?l:a instanceof o.default.Container?l+a.length():l+a.index(r,s)}),s=Math.min(Math.max.apply(Math,c(r)),this.scroll.length()-1),a=Math.min.apply(Math,[s].concat(c(r)));return new d(a,s-a)}},{key:"normalizeNative",value:function(t){if(!g(this.root,t.startContainer)||!t.collapsed&&!g(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n}),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],r=[],o=this.scroll.length();return n.forEach(function(t,n){t=Math.min(o-1,t);var s=e.scroll.leaf(t),a=i(s,2),l=a[1],u=a[0].position(l,0!==n),c=i(u,2);r.push(c[0],l=c[1])}),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var r=this.scroll.length()-1,o=this.scroll.line(Math.min(e.index,r)),s=i(o,1)[0],a=s;if(e.length>0){var l=this.scroll.line(Math.min(e.index+e.length,r));a=i(l,1)[0]}if(null!=s&&null!=a){var u=t.getBoundingClientRect();n.top<u.top?t.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(t.scrollTop+=n.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",t,e,n,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||r||t!==s.startContainer||e!==s.startOffset||n!==s.endContainer||i!==s.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(n,i),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e&&(n=e,e=!1),f.info("setRange",t),null!=t){var i=this.rangeToNative(t);this.setNativeRange.apply(this,c(i).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.lastRange,n=this.getRange(),r=i(n,2),o=r[0],u=r[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,a.default)(e,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var h,f=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(e),t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(f)),t!==l.default.sources.SILENT&&(h=this.emitter).emit.apply(h,f)}}}]),t}();function g(t,e){return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=d,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"insertInto",value:function(t,n){0===t.children.length?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(((i=n(0))&&i.__esModule?i:{default:i}).default.Embed);l.blotName="break",l.tagName="BR",e.default=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(44),s=n(30),a=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=u(e);t.insertBefore(n,t.children.head||void 0)}catch(i){if(i instanceof a.ParchmentError)return;throw i}})},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})},e.prototype.descendant=function(t,n){var i=this.children.find(n),r=i[0],o=i[1];return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,o]:r instanceof e?r.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,function(n,i,s){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&r.push(n),n instanceof e&&(r=r.concat(n.descendants(t,i,o))),o-=s}),r},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,function(t,e,r){t.formatAt(e,r,n,i)})},e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),r=i[0];if(r)r.insertAt(i[1],e,n);else{var o=null==n?a.create("text",e):a.create(e,n);this.appendChild(o)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(e){return t instanceof e}))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var i=this.children.find(t,n),r=i[0],o=i[1],s=[[this,t]];return r instanceof e?s.concat(r.path(o,n)):(null!=r&&s.push([r,o]),s)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),function(t,i,r){t=t.split(i,e),n.appendChild(t)}),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,i=[],r=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),r.push.apply(r,t.removedNodes))}),r.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}}),i.filter(function(t){return t.parentNode==n.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var i=u(t);i.next==e&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,e||void 0))})},e}(s.default);function u(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),s=n(31),a=n(17),l=n(1),u=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new s.default(n.domNode),n}return r(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=l.query(t);n instanceof o.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===i.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(n,i){var r=t.prototype.wrap.call(this,n,i);return r instanceof e&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},e}(a.default);e.default=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(30),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=s.Scope.INLINE_BLOT,e}(o.default);e.default=a},function(t,e,n){var i=n(11),r=n(3),o={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=r(!0,{},e);for(var o in n||(i=Object.keys(i).reduce(function(t,e){return null!=i[e]&&(t[e]=i[e]),t},{})),t)void 0!==t[o]&&void 0===e[o]&&(i[o]=t[o]);return Object.keys(i).length>0?i:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,r){return i(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var i=Object.keys(e).reduce(function(n,i){return void 0===t[i]&&(n[i]=e[i]),n},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(t){return new s(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function s(t){this.ops=t,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=o.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var r={};return e.attributes&&(r.attributes=e.attributes),"number"==typeof e.retain?r.retain=t:r.insert="string"==typeof e.insert?e.insert.substr(n,t):e.insert,r}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(i)}return[]},t.exports=o},function(t,e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,i;try{e=Map}catch(a){e=function(){}}try{n=Set}catch(a){n=function(){}}try{i=Promise}catch(a){i=function(){}}function r(o,a,l,u,c){"object"==typeof a&&(l=a.depth,u=a.prototype,c=a.includeNonEnumerable,a=a.circular);var h=[],f=[],d="undefined"!=typeof Buffer;return void 0===a&&(a=!0),void 0===l&&(l=1/0),function o(l,p){if(null===l)return null;if(0===p)return l;var g,v;if("object"!=typeof l)return l;if(t(l,e))g=new e;else if(t(l,n))g=new n;else if(t(l,i))g=new i(function(t,e){l.then(function(e){t(o(e,p-1))},function(t){e(o(t,p-1))})});else if(r.__isArray(l))g=[];else if(r.__isRegExp(l))g=new RegExp(l.source,s(l)),l.lastIndex&&(g.lastIndex=l.lastIndex);else if(r.__isDate(l))g=new Date(l.getTime());else{if(d&&Buffer.isBuffer(l))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(g),g;t(l,Error)?g=Object.create(l):void 0===u?(v=Object.getPrototypeOf(l),g=Object.create(v)):(g=Object.create(u),v=u)}if(a){var b=h.indexOf(l);if(-1!=b)return f[b];h.push(l),f.push(g)}for(var y in t(l,e)&&l.forEach(function(t,e){var n=o(e,p-1),i=o(t,p-1);g.set(n,i)}),t(l,n)&&l.forEach(function(t){var e=o(t,p-1);g.add(e)}),l){var m;v&&(m=Object.getOwnPropertyDescriptor(v,y)),m&&null==m.set||(g[y]=o(l[y],p-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(l);for(y=0;y<_.length;y++){var x=_[y];(!(k=Object.getOwnPropertyDescriptor(l,x))||k.enumerable||c)&&(g[x]=o(l[x],p-1),k.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(l);for(y=0;y<w.length;y++){var k,E=w[y];(k=Object.getOwnPropertyDescriptor(l,E))&&k.enumerable||(g[E]=o(l[E],p-1),Object.defineProperty(g,E,{enumerable:!1}))}}return g}(o,l)}function o(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return r.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},r.__objToStr=o,r.__isDate=function(t){return"object"==typeof t&&"[object Date]"===o(t)},r.__isArray=function(t){return"object"==typeof t&&"[object Array]"===o(t)},r.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===o(t)},r.__getRegExpFlags=s,r}();"object"==typeof t&&t.exports&&(t.exports=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=d(n(0)),a=d(n(8)),l=n(4),u=d(l),c=d(n(16)),h=d(n(13)),f=d(n(25));function d(t){return t&&t.__esModule?t:{default:t}}function p(t){return t instanceof u.default||t instanceof l.BlockEmbed}var g=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce(function(t,e){return t[e]=!0,t},{})),i.domNode.addEventListener("DOMNodeInserted",function(){}),i.optimize(),i.enable(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var r=this.line(t),s=i(r,2),a=s[0],u=s[1],f=this.line(t+n),d=i(f,1)[0];if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=d&&a!==d&&u>0){if(a instanceof l.BlockEmbed||d instanceof l.BlockEmbed)return void this.optimize();if(a instanceof h.default){var p=a.newlineIndex(a.length(),!0);if(p>-1&&(a=a.split(p+1))===d)return void this.optimize()}else if(d instanceof h.default){var g=d.newlineIndex(0);g>-1&&d.split(g+1)}a.moveChildren(d,d.children.head instanceof c.default?null:d.children.head),a.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,i,r){(null==this.whitelist||this.whitelist[i])&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,r),this.optimize())}},{key:"insertAt",value:function(t,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==i||null==s.default.query(n,s.default.Scope.BLOCK)){var r=s.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var a=s.default.create(n,i);this.appendChild(a)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===s.default.Scope.INLINE_BLOT){var i=s.default.create(this.statics.defaultChild);i.appendChild(t),t=i}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(p,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,i){var r=[],o=i;return e.children.forEachAt(n,i,function(e,n,i){p(e)?r.push(e):e instanceof s.default.Container&&(r=r.concat(t(e,n,o))),o-=i}),r};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=a.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,n,t),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,n,t)}}}]),e}(s.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[u.default,l.BlockEmbed,f.default],e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=g(n(21)),a=g(n(11)),l=g(n(3)),u=g(n(2)),c=g(n(20)),h=g(n(0)),f=g(n(5)),d=g(n(10)),p=g(n(9));function g(t){return t&&t.__esModule?t:{default:t}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=(0,d.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",m=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.bindings={},Object.keys(i.options.bindings).forEach(function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&i.options.bindings[e]&&i.addBinding(i.options.bindings[e])}),i.addBinding({key:e.keys.ENTER,shiftKey:null},E),i.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},x),i.addBinding({key:e.keys.DELETE},{collapsed:!0},w)):(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},x),i.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),i.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},k),i.addBinding({key:e.keys.DELETE},{collapsed:!1},k),i.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},x),i.listen(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"match",value:function(t,e){return e=T(e),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!e[n]!==t[n]&&null!==e[n]})&&e.key===(t.which||t.keyCode)}}]),o(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=T(t);if(null==i||null==i.key)return b.warn("Attempted to add invalid keyboard binding",i);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),i=(0,l.default)(i,e,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var o=(t.bindings[n.which||n.keyCode]||[]).filter(function(t){return e.match(n,t)});if(0!==o.length){var s=t.quill.getSelection();if(null!=s&&t.quill.hasFocus()){var l=t.quill.getLine(s.index),u=r(l,2),c=u[0],f=u[1],d=t.quill.getLeaf(s.index),p=r(d,2),g=p[0],v=p[1],b=0===s.length?[g,v]:t.quill.getLeaf(s.index+s.length),y=r(b,2),m=y[0],_=y[1],x=g instanceof h.default.Text?g.value().slice(0,v):"",w=m instanceof h.default.Text?m.value().slice(_):"",k={collapsed:0===s.length,empty:0===s.length&&c.length()<=1,format:t.quill.getFormat(s),offset:f,prefix:x,suffix:w};o.some(function(e){if(null!=e.collapsed&&e.collapsed!==k.collapsed)return!1;if(null!=e.empty&&e.empty!==k.empty)return!1;if(null!=e.offset&&e.offset!==k.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==k.format[t]}))return!1}else if("object"===i(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=k.format[t]:!1===e.format[t]?null==k.format[t]:(0,a.default)(e.format[t],k.format[t])}))return!1;return!(null!=e.prefix&&!e.prefix.test(k.prefix)||null!=e.suffix&&!e.suffix.test(k.suffix)||!0===e.handler.call(t,s,k))})&&n.preventDefault()}}}})}}]),e}(p.default);function _(t,e){var n;return v(n={key:t,shiftKey:e,altKey:null},t===m.keys.LEFT?"prefix":"suffix",/^$/),v(n,"handler",function(n){var i=n.index;t===m.keys.RIGHT&&(i+=n.length+1);var o=this.quill.getLeaf(i);return!(r(o,1)[0]instanceof h.default.Embed&&(t===m.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,f.default.sources.USER):this.quill.setSelection(n.index-1,f.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,f.default.sources.USER):this.quill.setSelection(n.index+n.length+1,f.default.sources.USER),1))}),n}function x(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),i=r(n,1)[0],o={};if(0===e.offset){var s=this.quill.getLine(t.index-1),a=r(s,1)[0];if(null!=a&&a.length()>1){var l=i.formats(),u=this.quill.getFormat(t.index-1,1);o=c.default.attributes.diff(l,u)||{}}}var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-h,h,f.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(t.index-h,h,o,f.default.sources.USER),this.quill.focus()}}function w(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var i={},o=0,s=this.quill.getLine(t.index),a=r(s,1)[0];if(e.offset>=a.length()-1){var l=this.quill.getLine(t.index+1),u=r(l,1)[0];if(u){var h=a.formats(),d=this.quill.getFormat(t.index,1);i=c.default.attributes.diff(h,d)||{},o=u.length()}}this.quill.deleteText(t.index,n,f.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index+o-1,n,i,f.default.sources.USER)}}function k(t){var e=this.quill.getLines(t),n={};if(e.length>1){var i=e[0].formats(),r=e[e.length-1].formats();n=c.default.attributes.diff(r,i)||{}}this.quill.deleteText(t,f.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,f.default.sources.USER),this.quill.setSelection(t.index,f.default.sources.SILENT),this.quill.focus()}function E(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var i=Object.keys(e.format).reduce(function(t,n){return h.default.query(n,h.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t},{});this.quill.insertText(t.index,"\n",i,f.default.sources.USER),this.quill.setSelection(t.index+1,f.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==i[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],f.default.sources.USER))})}function S(t){return{key:m.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=h.default.query("code-block"),i=e.index,o=e.length,s=this.quill.scroll.descendant(n,i),a=r(s,2),l=a[0],u=a[1];if(null!=l){var c=this.quill.getIndex(l),d=l.newlineIndex(u,!0)+1,p=l.newlineIndex(c+u+o),g=l.domNode.textContent.slice(d,p).split("\n");u=0,g.forEach(function(e,r){t?(l.insertAt(d+u,n.TAB),u+=n.TAB.length,0===r?i+=n.TAB.length:o+=n.TAB.length):e.startsWith(n.TAB)&&(l.deleteAt(d+u,n.TAB.length),u-=n.TAB.length,0===r?i-=n.TAB.length:o-=n.TAB.length),u+=e.length+1}),this.quill.update(f.default.sources.USER),this.quill.setSelection(i,o,f.default.sources.SILENT)}}}}function A(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],f.default.sources.USER)}}}function T(t){if("string"==typeof t||"number"==typeof t)return T({key:t});if("object"===(void 0===t?"undefined":i(t))&&(t=(0,s.default)(t,!1)),"string"==typeof t.key)if(null!=m.keys[t.key.toUpperCase()])t.key=m.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[y]=t.shortKey,delete t.shortKey),t}m.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},m.DEFAULTS={bindings:{bold:A("bold"),italic:A("italic"),underline:A("underline"),indent:{key:m.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",f.default.sources.USER)}},outdent:{key:m.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",f.default.sources.USER)}},"outdent backspace":{key:m.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",f.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,f.default.sources.USER)}},"indent code-block":S(!0),"outdent code-block":S(!1),"remove tab":{key:m.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,f.default.sources.USER)}},tab:{key:m.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new u.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,f.default.sources.SILENT)}},"list empty enter":{key:m.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,f.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,f.default.sources.USER)}},"checklist enter":{key:m.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=r(e,2),i=n[0],o=n[1],s=(0,l.default)({},i.formats(),{list:"checked"}),a=(new u.default).retain(t.index).insert("\n",s).retain(i.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,f.default.sources.USER),this.quill.setSelection(t.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:m.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),i=r(n,2),o=i[0],s=i[1],a=(new u.default).retain(t.index).insert("\n",e.format).retain(o.length()-s-1).retain(1,{header:null});this.quill.updateContents(a,f.default.sources.USER),this.quill.setSelection(t.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,i=this.quill.getLine(t.index),o=r(i,2),s=o[0],a=o[1];if(a>n)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",f.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(t.index-a).delete(n+1).retain(s.length()-2-a).retain(1,{list:l});this.quill.updateContents(c,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,f.default.sources.SILENT)}},"code exit":{key:m.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=r(e,2),i=n[0],o=n[1],s=(new u.default).retain(t.index+i.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,f.default.sources.USER)}},"embed left":_(m.keys.LEFT,!1),"embed left shift":_(m.keys.LEFT,!0),"embed right":_(m.keys.RIGHT,!1),"embed right shift":_(m.keys.RIGHT,!0)}},e.default=m,e.SHORTKEY=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=a(n(0)),s=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.selection=n,i.textNode=document.createTextNode(e.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"value",value:function(){}}]),r(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var r=this,s=0;null!=r&&r.statics.scope!==o.default.Scope.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(s,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),i=void 0,r=void 0,a=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var l=[t,n.start.offset,n.end.offset];i=l[0],r=l[1],a=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var u=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof s.default?(i=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=e.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var c=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),2!==n.length);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([r,a].map(function(t){return Math.max(0,Math.min(i.data.length,t-1))}));return{startNode:i,startOffset:r=c[0],endNode:i,endOffset:a=c[1]}}}}},{key:"update",value:function(t,e){var n=this;if(t.some(function(t){return"characterData"===t.type&&t.target===n.textNode})){var i=this.restore();i&&(e.range=i)}}},{key:"value",value:function(){return""}}]),e}(o.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(0)),r=n(4),o=s(r);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default.Container);u.allowedChildren=[o.default,r.BlockEmbed,u],e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=(i=n(0))&&i.__esModule?i:{default:i};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"value",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?"#"+(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join(""):n}}]),e}(s.default.Attributor.Style),c=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),h=new u("color","color",{scope:s.default.Scope.INLINE});e.ColorAttributor=u,e.ColorClass=c,e.ColorStyle=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return u(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(((i=n(6))&&i.__esModule?i:{default:i}).default);function u(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=l,e.sanitize=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=a(n(23)),s=a(n(107));function a(t){return t&&t.__esModule?t:{default:t}}var l=0;function u(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(t){switch(t.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return r(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){e.selectItem(n,!0)}),n.addEventListener("keydown",function(t){switch(t.keyCode){case o.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case o.default.keys.ESCAPE:e.escape(),t.preventDefault()}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=s.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach(function(n){var i=t.buildItem(n);e.appendChild(i),!0===n.selected&&t.selectItem(i)}),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=b(n(0)),r=b(n(5)),o=n(4),s=b(o),a=b(n(16)),l=b(n(25)),u=b(n(24)),c=b(n(35)),h=b(n(6)),f=b(n(22)),d=b(n(7)),p=b(n(55)),g=b(n(42)),v=b(n(23));function b(t){return t&&t.__esModule?t:{default:t}}r.default.register({"blots/block":s.default,"blots/block/embed":o.BlockEmbed,"blots/break":a.default,"blots/container":l.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":h.default,"blots/scroll":f.default,"blots/text":d.default,"modules/clipboard":p.default,"modules/history":g.default,"modules/keyboard":v.default}),i.default.register(s.default,a.default,u.default,h.default,f.default,d.default),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t){this.domNode=t,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return i.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,r){var o=this.isolate(t,e);if(null!=i.query(n,i.Scope.BLOT)&&r)o.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var s=i.create(this.statics.scope);o.wrap(s),s.format(n,r)}},t.prototype.insertAt=function(t,e,n){var r=null==n?i.create("text",e):i.create(e,n),o=this.split(t);this.parent.insertBefore(r,o)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?i.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?i.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n(32),o=n(33),s=n(1),a=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=i.default.keys(this.domNode),n=r.default.keys(this.domNode),a=o.default.keys(this.domNode);e.concat(n).concat(a).forEach(function(e){var n=s.query(e,s.Scope.ATTRIBUTE);n instanceof i.default&&(t.attributes[n.attrName]=n)})},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}();e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){o(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(o(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function o(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[o(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[o(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}return i(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();r.DEFAULTS={modules:{}},r.themes={default:r},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=a(n(0)),s=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var l="\ufeff",u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t)}),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,i=t.data.split(l).join("");if(t===this.leftGuard)if(this.prev instanceof s.default){var r=this.prev.length();this.prev.insertAt(r,i),e={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(o.default.create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(o.default.create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data=l,e}},{key:"update",value:function(t,e){var n=this;t.forEach(function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var i=n.restore(t.target);i&&(e.range=i)}})}}]),e}(o.default.Embed);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var i,r=(i=n(0))&&i.__esModule?i:{default:i},o={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new r.default.Attributor.Attribute("align","align",o),a=new r.default.Attributor.Class("align","ql-align",o),l=new r.default.Attributor.Style("align","text-align",o);e.AlignAttribute=s,e.AlignClass=a,e.AlignStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var i,r=(i=n(0))&&i.__esModule?i:{default:i},o=n(26),s=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),a=new o.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var i,r=(i=n(0))&&i.__esModule?i:{default:i},o={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},s=new r.default.Attributor.Attribute("direction","dir",o),a=new r.default.Attributor.Class("direction","ql-direction",o),l=new r.default.Attributor.Style("direction","direction",o);e.DirectionAttribute=s,e.DirectionClass=a,e.DirectionStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=(i=n(0))&&i.__esModule?i:{default:i};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new s.default.Attributor.Class("font","ql-font",u),h=new(function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"value",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(s.default.Attributor.Style))("font","font-family",u);e.FontStyle=h,e.FontClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var i,r=(i=n(0))&&i.__esModule?i:{default:i},o=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=o,e.SizeStyle=s},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(0)),o=s(n(5));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(o.default.events.EDITOR_CHANGE,function(t,e,n,r){t!==o.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==o.default.sources.USER?i.transform(e):i.record(e,n))}),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],o.default.sources.USER),this.ignoreChange=!1;var i=l(n[t]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),t=r.redo.compose(t)}else this.lastRecorded=i;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}),this.stack.redo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(s(n(9)).default);function l(t){var e=t.reduce(function(t,e){return t+(e.delete||0)},0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(function(t){return null!=r.default.query(t,r.default.Scope.BLOCK)}))}(t)&&(n-=1),n}a.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=a,e.getLastChangeIndex=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=p(n(3)),s=p(n(2)),a=p(n(8)),l=p(n(23)),u=p(n(34)),c=p(n(59)),h=p(n(60)),f=p(n(28)),d=p(n(61));function p(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=[!1,"center","right","justify"],m=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],x=["1","2","3",!1],w=["small",!1,"large","huge"],k=function(t){function e(t,n){g(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach(function(t){t.container.contains(n.target)||t.close()})}),i}return b(e,t),i(e,[{key:"addModule",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach(function(t){(t.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var i=t.value||"";null!=i&&e[n][i]&&(t.innerHTML=e[n][i])}})})}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&S(t,y),new h.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&S(t,m,"background"===n?"#ffffff":"#000000"),new c.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?S(t,_):t.classList.contains("ql-header")?S(t,x):t.classList.contains("ql-size")&&S(t,w)),new f.default(t)}),this.quill.on(a.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(t){t.update()})})}}]),e}(u.default);k.DEFAULTS=(0,o.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var i=t.quill.getSelection(!0);t.quill.updateContents((new s.default).retain(i.index).delete(i.length).insert({image:n.target.result}),a.default.sources.USER),t.quill.setSelection(i.index+1,a.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}}),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var E=function(t){function e(t,n){g(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return b(e,t),i(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){l.default.match(e,"enter")?(t.save(),e.preventDefault()):l.default.match(e,"escape")&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t,e,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var i=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,a.default.sources.USER)),this.quill.root.scrollTop=i;break;case"video":n=(e=(t=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t;case"formula":if(!n)break;var r=this.quill.getSelection(!0);if(null!=r){var o=r.index+r.length;this.quill.insertEmbed(o,this.root.getAttribute("data-mode"),n,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(o+1," ",a.default.sources.USER),this.quill.setSelection(o+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}(d.default);function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){var i=document.createElement("option");e===n?i.setAttribute("selected","selected"):i.setAttribute("value",e),t.appendChild(i)})}e.BaseTooltip=E,e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,i=this.iterator();n=i();){var r=n.length();if(t<r||e&&t===r&&(null==n.next||0!==n.next.length()))return[n,t];t-=r}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var i,r=this.find(t),o=t-r[1],s=this.iterator(r[0]);(i=s())&&o<t+e;){var a=i.length();t>o?n(i,t-o,Math.min(e,o+a-t)):n(i,0,Math.min(a,t+e-o)),o+=a}},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n,i=this.iterator();n=i();)e=t(e,n);return e},t}();e.default=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),s=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver(function(t){n.update(t)}),n.observer.observe(n.domNode,a),n.attach(),n}return r(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,i,r){this.update(),t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){this.update(),t.prototype.insertAt.call(this,e,n,i)},e.prototype.optimize=function(e,n){var i=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)e.push(r.pop());for(var a=function(t,e){void 0===e&&(e=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(null==t.domNode[s.DATA_KEY].mutations&&(t.domNode[s.DATA_KEY].mutations=[]),e&&a(t.parent))},l=function(t){null!=t.domNode[s.DATA_KEY]&&null!=t.domNode[s.DATA_KEY].mutations&&(t instanceof o.default&&t.children.forEach(l),t.optimize(n))},u=e,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(t){var e=s.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(s.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=s.find(t,!1);a(e,!1),e instanceof o.default&&e.children.forEach(function(t){a(t,!1)})})):"attributes"===t.type&&a(e.prev)),a(e))}),this.children.forEach(l),r=(u=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)e.push(r.pop())}},e.prototype.update=function(e,n){var i=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map(function(t){var e=s.find(t.target,!0);return null==e?null:null==e.domNode[s.DATA_KEY].mutations?(e.domNode[s.DATA_KEY].mutations=[t],e):(e.domNode[s.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null!=t&&t!==i&&null!=t.domNode[s.DATA_KEY]&&t.update(t.domNode[s.DATA_KEY].mutations||[],n)}),null!=this.domNode[s.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="DIV",e}(o.default);e.default=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,i){var r=this;n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):(this.children.forEach(function(t){t instanceof o.default||(t=t.wrap(e.blotName,!0)),r.attributes.copy(t)}),this.unwrap())},e.prototype.formatAt=function(e,n,i,r){null!=this.formats()[i]||s.query(i,s.Scope.ATTRIBUTE)?this.isolate(e,n).format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof e&&r.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},e.blotName="inline",e.scope=s.Scope.INLINE_BLOT,e.tagName="SPAN",e}(o.default);e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){var i=s.query(e.blotName).tagName;if(n.tagName!==i)return t.formats.call(this,n)},e.prototype.format=function(n,i){null!=s.query(n,s.Scope.BLOCK)&&(n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,i,r){null!=s.query(i,s.Scope.BLOCK)?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){if(null==i||null!=s.query(n,s.Scope.INLINE))t.prototype.insertAt.call(this,e,n,i);else{var r=this.split(e),o=s.create(n,i);r.parent.insertBefore(o,r)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=s.Scope.BLOCK_BLOT,e.tagName="P",e}(o.default);e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,i,r){0===e&&n===this.length()?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),s=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return r(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,i){null==i?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=s.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some(function(t){return"characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=s.Scope.INLINE_BLOT,e}(o.default);e.default=a},function(t,e,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:r.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(e=e||0,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length);var i=n.indexOf(t,e-=t.length);return-1!==i&&i===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(t.call(r,e=n[o],o,n))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,e){var n=-1;function i(t,e,l){if(t==e)return t?[[0,t]]:[];(l<0||t.length<l)&&(l=null);var c=o(t,e),h=t.substring(0,c);c=s(t=t.substring(c),e=e.substring(c));var f=t.substring(t.length-c),d=function(t,e){var a;if(!t)return[[1,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,u=t.length>e.length?e:t,c=l.indexOf(u);if(-1!=c)return a=[[1,l.substring(0,c)],[0,u],[1,l.substring(c+u.length)]],t.length>e.length&&(a[0][0]=a[2][0]=n),a;if(1==u.length)return[[n,t],[1,e]];var h=function(t,e){var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;function r(t,e,n){for(var i,r,a,l,u=t.substring(n,n+Math.floor(t.length/4)),c=-1,h="";-1!=(c=e.indexOf(u,c+1));){var f=o(t.substring(n),e.substring(c)),d=s(t.substring(0,n),e.substring(0,c));h.length<d+f&&(h=e.substring(c-d,c)+e.substring(c,c+f),i=t.substring(0,n-d),r=t.substring(n+f),a=e.substring(0,c-d),l=e.substring(c+f))}return 2*h.length>=t.length?[i,r,a,l,h]:null}var a,l,u,c,h,f=r(n,i,Math.ceil(n.length/4)),d=r(n,i,Math.ceil(n.length/2));return f||d?(a=d?f&&f[4].length>d[4].length?f:d:f,t.length>e.length?(l=a[0],u=a[1],c=a[2],h=a[3]):(c=a[0],h=a[1],l=a[2],u=a[3]),[l,u,c,h,a[4]]):null}(t,e);if(h){var f=h[1],d=h[3],p=h[4],g=i(h[0],h[2]),v=i(f,d);return g.concat([[0,p]],v)}return function(t,e){for(var i=t.length,o=e.length,s=Math.ceil((i+o)/2),a=s,l=2*s,u=new Array(l),c=new Array(l),h=0;h<l;h++)u[h]=-1,c[h]=-1;u[a+1]=0,c[a+1]=0;for(var f=i-o,d=f%2!=0,p=0,g=0,v=0,b=0,y=0;y<s;y++){for(var m=-y+p;m<=y-g;m+=2){for(var _=a+m,x=(A=m==-y||m!=y&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1)-m;A<i&&x<o&&t.charAt(A)==e.charAt(x);)A++,x++;if(u[_]=A,A>i)g+=2;else if(x>o)p+=2;else if(d&&(E=a+f-m)>=0&&E<l&&-1!=c[E]&&A>=(k=i-c[E]))return r(t,e,A,x)}for(var w=-y+v;w<=y-b;w+=2){for(var k,E=a+w,S=(k=w==-y||w!=y&&c[E-1]<c[E+1]?c[E+1]:c[E-1]+1)-w;k<i&&S<o&&t.charAt(i-k-1)==e.charAt(o-S-1);)k++,S++;if(c[E]=k,k>i)b+=2;else if(S>o)v+=2;else if(!d){var A;if((_=a+f-w)>=0&&_<l&&-1!=u[_]&&(x=a+(A=u[_])-_,A>=(k=i-k)))return r(t,e,A,x)}}}return[[n,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-c),e=e.substring(0,e.length-c));return h&&d.unshift([0,h]),f&&d.push([0,f]),a(d),null!=l&&(d=function(t,e){var i=function(t,e){if(0===e)return[0,t];for(var i=0,r=0;r<t.length;r++){var o=t[r];if(o[0]===n||0===o[0]){var s=i+o[1].length;if(e===s)return[r+1,t];if(e<s){t=t.slice();var a=e-i,l=[o[0],o[1].slice(0,a)],u=[o[0],o[1].slice(a)];return t.splice(r,1,l,u),[r+1,t]}i=s}}throw new Error("cursor_pos is out of bounds!")}(t,e),r=i[1],o=i[0],s=r[o],a=r[o+1];if(null==s)return t;if(0!==s[0])return t;if(null!=a&&s[1]+a[1]===a[1]+s[1])return r.splice(o,2,a,s),u(r,o,2);if(null!=a&&0===a[1].indexOf(s[1])){r.splice(o,2,[a[0],s[1]],[0,s[1]]);var l=a[1].slice(s[1].length);return l.length>0&&r.splice(o+2,0,[a[0],l]),u(r,o,3)}return t}(d,l)),function(t){for(var e=!1,i=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},r=2;r<t.length;r+=1)0===t[r-2][0]&&(o=t[r-2][1]).charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319&&t[r-1][0]===n&&i(t[r-1][1])&&1===t[r][0]&&i(t[r][1])&&(e=!0,t[r-1][1]=t[r-2][1].slice(-1)+t[r-1][1],t[r][1]=t[r-2][1].slice(-1)+t[r][1],t[r-2][1]=t[r-2][1].slice(0,-1));var o;if(!e)return t;var s=[];for(r=0;r<t.length;r+=1)t[r][1].length>0&&s.push(t[r]);return s}(d)}function r(t,e,n,r){var o=t.substring(0,n),s=e.substring(0,r),a=t.substring(n),l=e.substring(r),u=i(o,s),c=i(a,l);return u.concat(c)}function o(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;n<r;)t.substring(o,r)==e.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function s(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;n<r;)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function a(t){t.push([0,""]);for(var e,i=0,r=0,l=0,u="",c="";i<t.length;)switch(t[i][0]){case 1:l++,c+=t[i][1],i++;break;case n:r++,u+=t[i][1],i++;break;case 0:r+l>1?(0!==r&&0!==l&&(0!==(e=o(c,u))&&(i-r-l>0&&0==t[i-r-l-1][0]?t[i-r-l-1][1]+=c.substring(0,e):(t.splice(0,0,[0,c.substring(0,e)]),i++),c=c.substring(e),u=u.substring(e)),0!==(e=s(c,u))&&(t[i][1]=c.substring(c.length-e)+t[i][1],c=c.substring(0,c.length-e),u=u.substring(0,u.length-e))),0===r?t.splice(i-l,r+l,[1,c]):0===l?t.splice(i-r,r+l,[n,u]):t.splice(i-r-l,r+l,[n,u],[1,c]),i=i-r-l+(r?1:0)+(l?1:0)+1):0!==i&&0==t[i-1][0]?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,l=0,r=0,u="",c=""}""===t[t.length-1][1]&&t.pop();var h=!1;for(i=1;i<t.length-1;)0==t[i-1][0]&&0==t[i+1][0]&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),h=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),h=!0)),i++;h&&a(t)}var l=i;function u(t,e,n){for(var i=e+n-1;i>=0&&i>=e-1;i--)if(i+1<t.length){var r=t[i],o=t[i+1];r[0]===o[1]&&t.splice(i,2,[r[0],r[1]+o[1]])}return t}l.INSERT=1,l.DELETE=n,l.EQUAL=0,t.exports=l},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?i:r).supported=i,e.unsupported=r},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},s.prototype.listeners=function(t,e){var n=this._events[i?i+t:t];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},s.prototype.emit=function(t,e,n,r,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var l,u,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,s),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,r);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(t,e,n){var r=new o(e,n||this),s=i?i+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},s.prototype.once=function(t,e,n){var r=new o(e,n||this,!0),s=i?i+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,o){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new r:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[s]);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==e||o&&!a[l].once||n&&a[l].context!==n)&&u.push(a[l]);u.length?this._events[s]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[s]}return this},s.prototype.removeAllListeners=function(t){var e;return t?this._events[e=i?i+t:t]&&(0==--this._eventsCount?this._events=new r:delete this._events[e]):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,void 0!==t&&(t.exports=s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=m(n(3)),a=m(n(2)),l=m(n(0)),u=m(n(5)),c=m(n(10)),h=m(n(9)),f=n(36),d=n(37),p=m(n(13)),g=n(26),v=n(38),b=n(39),y=n(40);function m(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=(0,c.default)("quill:clipboard"),w="__ql-matcher",k=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,j],["br",function(t,e){return O(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,j],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,function(t,e){var n={},i=t.style||{};return i.fontStyle&&"italic"===M(t).fontStyle&&(n.italic=!0),i.fontWeight&&(M(t).fontWeight.startsWith("bold")||parseInt(M(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=T(e,n)),parseFloat(i.textIndent||0)>0&&(e=(new a.default).insert("\t").concat(e)),e}],["li",function(t,e){var n=l.default.query(t);if(null==n||"list-item"!==n.blotName||!O(e,"\n"))return e;for(var i=-1,r=t.parentNode;!r.classList.contains("ql-clipboard");)"list"===(l.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?e:e.compose((new a.default).retain(e.length()-1).retain(1,{indent:i}))}],["b",L.bind(L,"bold")],["i",L.bind(L,"italic")],["style",function(){return new a.default}]],E=[f.AlignAttribute,v.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),S=[f.AlignStyle,d.BackgroundStyle,g.ColorStyle,v.DirectionStyle,b.FontStyle,y.SizeStyle].reduce(function(t,e){return t[e.keyName]=e,t},{}),A=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],k.concat(i.options.matchers).forEach(function(t){var e=r(t,2),o=e[1];(n.matchVisual||o!==I)&&i.addMatcher(e[0],o)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[p.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(n,_({},p.default.blotName,e[p.default.blotName]))}var i=this.prepareMatching(),o=r(i,2),s=N(this.container,o[0],o[1]);return O(s,"\n")&&null==s.ops[s.ops.length-1].attributes&&(s=s.compose((new a.default).retain(s.length()-1).delete(1))),x.log("convert",this.container.innerHTML,s),this.container.innerHTML="",s}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,u.default.sources.SILENT);else{var i=this.convert(e);this.quill.updateContents((new a.default).retain(t).concat(i),n),this.quill.setSelection(t+i.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new a.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout(function(){i=i.concat(e.convert()).delete(n.length),e.quill.updateContents(i,u.default.sources.USER),e.quill.setSelection(i.length()-n.length,u.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=r,e.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach(function(i){var o=r(i,2),s=o[0],a=o[1];switch(s){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:e.push(a);break;default:[].forEach.call(t.container.querySelectorAll(s),function(t){t[w]=t[w]||[],t[w].push(a)})}}),[e,n]}}]),e}(h.default);function T(t,e,n){return"object"===(void 0===e?"undefined":i(e))?Object.keys(e).reduce(function(t,n){return T(t,n,e[n])},t):t.reduce(function(t,i){return i.attributes&&i.attributes[e]?t.push(i):t.insert(i.insert,(0,s.default)({},_({},e,n),i.attributes))},new a.default)}function M(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function O(t,e){for(var n="",i=t.ops.length-1;i>=0&&n.length<e.length;--i){var r=t.ops[i];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*e.length)===e}function C(t){if(0===t.childNodes.length)return!1;var e=M(t);return["block","list-item"].indexOf(e.display)>-1}function N(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce(function(e,n){return n(t,e)},new a.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],function(i,r){var o=N(r,e,n);return r.nodeType===t.ELEMENT_NODE&&(o=e.reduce(function(t,e){return e(r,t)},o),o=(r[w]||[]).reduce(function(t,e){return e(r,t)},o)),i.concat(o)},new a.default):new a.default}function L(t,e,n){return T(n,t,!0)}function D(t,e){var n=l.default.Attributor.Attribute.keys(t),i=l.default.Attributor.Class.keys(t),r=l.default.Attributor.Style.keys(t),o={};return n.concat(i).concat(r).forEach(function(e){var n=l.default.query(e,l.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(t),o[n.attrName])||(null==(n=E[e])||n.attrName!==e&&n.keyName!==e||(o[n.attrName]=n.value(t)||void 0),null==(n=S[e])||n.attrName!==e&&n.keyName!==e||(o[(n=S[e]).attrName]=n.value(t)||void 0))}),Object.keys(o).length>0&&(e=T(e,o)),e}function P(t,e){var n=l.default.query(t);if(null==n)return e;if(n.prototype instanceof l.default.Embed){var i={},r=n.value(t);null!=r&&(i[n.blotName]=r,e=(new a.default).insert(i,n.formats(t)))}else"function"==typeof n.formats&&(e=T(e,n.blotName,n.formats(t)));return e}function j(t,e){return O(e,"\n")||(C(t)||e.length()>0&&t.nextSibling&&C(t.nextSibling))&&e.insert("\n"),e}function I(t,e){if(C(t)&&null!=t.nextElementSibling&&!O(e,"\n\n")){var n=t.offsetHeight+parseFloat(M(t).marginTop)+parseFloat(M(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function R(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!M(t.parentNode).whiteSpace.startsWith("pre")){var i=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&C(t.parentNode)||null!=t.previousSibling&&C(t.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&C(t.parentNode)||null!=t.nextSibling&&C(t.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return e.insert(n)}A.DEFAULTS={matchers:[],matchVisual:!0},e.default=A,e.matchAttributor=D,e.matchBlot=P,e.matchNewline=j,e.matchSpacing=I,e.matchText=R},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(((i=n(6))&&i.__esModule?i:{default:i}).default);l.blotName="bold",l.tagName=["STRONG","B"],e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=c(n(2)),s=c(n(0)),a=c(n(5)),l=c(n(10)),u=c(n(9));function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,l.default)("quill:toolbar"),d=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,o=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(o.options.container)){var s=document.createElement("div");g(s,o.options.container),t.container.parentNode.insertBefore(s,t.container),o.container=s}else o.container="string"==typeof o.options.container?document.querySelector(o.options.container):o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach(function(t){o.addHandler(t,o.options.handlers[t])}),[].forEach.call(o.container.querySelectorAll("button, select"),function(t){o.attach(t)}),o.quill.on(a.default.events.EDITOR_CHANGE,function(t,e){t===a.default.events.SELECTION_CHANGE&&o.update(e)}),o.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){var t=o.quill.selection.getRange(),e=i(t,1);o.update(e[0])}),o):(r=f.error("Container required for toolbar",o.options),h(o,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,function(t){return 0===t.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void f.warn("ignoring attaching to disabled format",n,t);if(null==s.default.query(n))return void f.warn("ignoring attaching to nonexistent format",n,t)}t.addEventListener("SELECT"===t.tagName?"change":"click",function(r){var l=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var u=t.options[t.selectedIndex];l=!u.hasAttribute("selected")&&(u.value||!1)}else l=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();e.quill.focus();var c=e.quill.selection.getRange(),h=i(c,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,l);else if(s.default.query(n).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+n)))return;e.quill.updateContents((new o.default).retain(h.index).delete(h.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,l)),a.default.sources.USER)}else e.quill.format(n,l,a.default.sources.USER);e.update(h)}),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(n){var r=i(n,2),o=r[0],s=r[1];if("SELECT"===s.tagName){var a=void 0;if(null==t)a=null;else if(null==e[o])a=s.querySelector("option[selected]");else if(!Array.isArray(e[o])){var l=e[o];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),a=s.querySelector('option[value="'+l+'"]')}null==a?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(null==t)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var u=e[o]===s.getAttribute("value")||null!=e[o]&&e[o].toString()===s.getAttribute("value")||null==e[o]&&!s.getAttribute("value");s.classList.toggle("ql-active",u)}else s.classList.toggle("ql-active",null!=e[o])})}}]),e}(u.default);function p(t,e,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+e),null!=n&&(i.value=n),t.appendChild(i)}function g(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t)p(n,t);else{var e=Object.keys(t)[0],i=t[e];Array.isArray(i)?function(t,e,n){var i=document.createElement("select");i.classList.add("ql-"+e),n.forEach(function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),i.appendChild(e)}),t.appendChild(i)}(n,e,i):p(n,e,i)}}),t.appendChild(n)})}d.DEFAULTS={},d.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(e){null!=s.default.query(e,s.default.Scope.INLINE)&&t.quill.format(e,!1)})}else this.quill.removeFormat(e,a.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",a.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,a.default.sources.USER),this.quill.format("direction",t,a.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),i=parseInt(n.indent||0);if("+1"===t||"-1"===t){var r="+1"===t?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,a.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,a.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);this.quill.format("list","check"===t?"checked"!==n.list&&"unchecked"!==n.list&&"unchecked":t,a.default.sources.USER)}}},e.default=d,e.addControls=g},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"buildItem",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var i=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),e}(((i=n(28))&&i.__esModule?i:{default:i}).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"selectItem",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),this.label.innerHTML=(t=t||this.defaultItem).innerHTML}}]),e}(((i=n(28))&&i.__esModule?i:{default:i}).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"}),this.hide()}return i(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;return r.right>i.right&&(this.root.style.left=e+(o=i.right-r.right)+"px"),r.left<i.left&&(this.root.style.left=e+(o=i.left-r.left)+"px"),r.bottom>i.bottom&&(this.root.style.top=n-(t.bottom-t.top+(r.bottom-r.top))+"px",this.root.classList.add("ql-flip")),o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=f(n(3)),s=f(n(8)),a=n(43),l=f(a),u=f(n(27)),c=n(15),h=f(n(41));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(t){function e(t,n){d(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-snow"),i}return g(e,t),r(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),h.default),this.tooltip=new y(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(e,n){t.handlers.link.call(t,!n.format.link)})}}]),e}(l.default);b.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(t){function e(t,n){d(this,e);var i=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return g(e,t),r(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,s.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()}),this.quill.on(s.default.events.SELECTION_CHANGE,function(e,n,i){if(null!=e){if(0===e.length&&i===s.default.sources.USER){var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),2!==n.length);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t.quill.scroll.descendant(u.default,e.index)),o=r[0];if(null!=o){t.linkRange=new c.Range(e.index-r[1],o.length());var a=u.default.formats(o.domNode);return t.preview.textContent=a,t.preview.setAttribute("href",a),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}})}},{key:"show",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(a.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=j(n(29)),r=n(36),o=n(38),s=n(64),a=j(n(65)),l=j(n(66)),u=n(67),c=j(u),h=n(37),f=n(26),d=n(39),p=n(40),g=j(n(56)),v=j(n(68)),b=j(n(27)),y=j(n(69)),m=j(n(70)),_=j(n(71)),x=j(n(72)),w=j(n(73)),k=n(13),E=j(k),S=j(n(74)),A=j(n(75)),T=j(n(57)),M=j(n(41)),O=j(n(28)),C=j(n(59)),N=j(n(60)),L=j(n(61)),D=j(n(108)),P=j(n(62));function j(t){return t&&t.__esModule?t:{default:t}}i.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":h.BackgroundClass,"attributors/class/color":f.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":d.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":h.BackgroundStyle,"attributors/style/color":f.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":d.FontStyle,"attributors/style/size":p.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":s.IndentClass,"formats/background":h.BackgroundStyle,"formats/color":f.ColorStyle,"formats/font":d.FontClass,"formats/size":p.SizeClass,"formats/blockquote":a.default,"formats/code-block":E.default,"formats/header":l.default,"formats/list":c.default,"formats/bold":g.default,"formats/code":k.Code,"formats/italic":v.default,"formats/link":b.default,"formats/script":y.default,"formats/strike":m.default,"formats/underline":_.default,"formats/image":x.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":S.default,"modules/syntax":A.default,"modules/toolbar":T.default,"themes/bubble":D.default,"themes/snow":P.default,"ui/icons":M.default,"ui/picker":O.default,"ui/icon-picker":N.default,"ui/color-picker":C.default,"ui/tooltip":L.default},!0),e.default=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=(i=n(0))&&i.__esModule?i:{default:i};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=new(function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var i=this.value(t)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(t),!0):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(s.default.Attributor.Class))("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=u},function(t,e,n){"use strict";var i;function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=n(4))&&i.__esModule?i:{default:i}).default);s.blotName="blockquote",s.tagName="blockquote",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var a=function(t){function e(){return o(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(((i=n(4))&&i.__esModule?i:{default:i}).default);a.blotName="header",a.tagName=["H1","H2","H3","H4","H5","H6"],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=l(n(0)),s=l(n(4)),a=l(n(25));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),i(e,[{key:"format",value:function(t,n){t!==d.blotName||n?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:r(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(s.default);f.blotName="list-item",f.tagName="LI";var d=function(t){function e(t){u(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=function(e){if(e.target.parentNode===t){var i=n.statics.formats(t),r=o.default.find(e.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return t.addEventListener("touchstart",i),t.addEventListener("mousedown",i),n}return h(e,t),i(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",i=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||i.setAttribute("data-checked","checked"===t),i}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:"insertBefore",value:function(t,n){if(t instanceof f)r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var i=null==n?this.length():n.offset(this),o=this.split(i);o.parent.insertBefore(t,o)}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(a.default);d.blotName="list",d.scope=o.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[f],e.ListItem=f,e.default=d},function(t,e,n){"use strict";var i;function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=n(56))&&i.__esModule?i:{default:i}).default);s.blotName="italic",s.tagName=["EM","I"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0};function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(((i=n(6))&&i.__esModule?i:{default:i}).default);l.blotName="script",l.tagName=["SUB","SUP"],e.default=l},function(t,e,n){"use strict";var i;function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=n(6))&&i.__esModule?i:{default:i}).default);s.blotName="strike",s.tagName="S",e.default=s},function(t,e,n){"use strict";var i;function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=n(6))&&i.__esModule?i:{default:i}).default);s.blotName="underline",s.tagName="U",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=(i=n(0))&&i.__esModule?i:{default:i},a=n(27);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=["alt","height","width"],h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"format",value:function(t,n){c.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return c.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,a.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.default.Embed);h.blotName="image",h.tagName="IMG",e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=n(4),a=(i=n(27))&&i.__esModule?i:{default:i};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=["height","width"],h=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"format",value:function(t,n){c.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return c.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return a.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=l(n(35)),s=l(n(5)),a=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),i(e,null,[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(o.default);f.blotName="formula",f.className="ql-formula",f.tagName="SPAN";var d=function(t){function e(){u(this,e);var t=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return h(e,t),i(e,null,[{key:"register",value:function(){s.default.register(f,!0)}}]),e}(a.default);e.FormulaBlot=f,e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=l(n(0)),s=l(n(5)),a=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),i(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(l(n(13)).default);f.className="ql-syntax";var d=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),p=function(t){function e(t,n){u(this,e);var i=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(r),r=setTimeout(function(){i.highlight(),r=null},i.options.interval)}),i.highlight(),i}return h(e,t),i(e,null,[{key:"register",value:function(){s.default.register(d,!0),s.default.register(f,!0)}}]),i(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(f).forEach(function(e){e.highlight(t.options.highlight)}),this.quill.update(s.default.sources.SILENT),null!=e&&this.quill.setSelection(e,s.default.sources.SILENT)}}}]),e}(a.default);p.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=f,e.CodeToken=d,e.default=p},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var i=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=h(n(3)),s=h(n(8)),a=n(43),l=h(a),u=n(15),c=h(n(41));function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(t){function e(t,n){f(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var i=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-bubble"),i}return p(e,t),r(e,[{key:"extendToolbar",value:function(t){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),c.default)}}]),e}(l.default);v.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var b=function(t){function e(t,n){f(this,e);var i=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.on(s.default.events.EDITOR_CHANGE,function(t,e,n,r){if(t===s.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&r===s.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var o=i.quill.getLines(e.index,e.length);if(1===o.length)i.position(i.quill.getBounds(e));else{var a=o[o.length-1],l=i.quill.getIndex(a),c=Math.min(a.length()-1,e.index+e.length-l),h=i.quill.getBounds(new u.Range(l,c));i.position(h)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()}),i}return p(e,t),r(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){t.root.classList.remove("ql-editing")}),this.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),e}(a.BaseTooltip);b.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=b,e.default=v},function(t,e,n){t.exports=n(63)}]).default}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){let n=t,i=t;function r(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){const o=n+r>>>1;i(t[o],e)<0?n=o+1:r=o}return n}return 1===t.length&&(n=(e,n)=>t(e)-n,i=function(t){return(n,i)=>e(t(n),i)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const s=r(t,e,i,o-1);return s>i&&n(t[s-1],e)>-n(t[s],e)?s-1:s},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){const o=n+r>>>1;i(t[o],e)>0?r=o:n=o+1}return n}}}function i(t){return null===t?NaN:+t}const r=n(e),o=r.right,s=r.left,a=n(i).center;function l(t,e){let n=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&++n;else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(r=+r)>=r&&++n}return n}function u(t){return 0|t.length}function c(t){return!(t>0)}function h(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function f(t,e){let n,i=0,r=0,o=0;if(void 0===e)for(let s of t)null!=s&&(s=+s)>=s&&(n=s-r,r+=n/++i,o+=n*(s-r));else{let s=-1;for(let a of t)null!=(a=e(a,++s,t))&&(a=+a)>=a&&(n=a-r,r+=n/++i,o+=n*(a-r))}if(i>1)return o/(i-1)}function d(t,e){const n=f(t,e);return n?Math.sqrt(n):n}function p(t,e){let n,i;if(void 0===e)for(const r of t)null!=r&&(void 0===n?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(void 0===n?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)))}return[n,i]}class g{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=e[i],o=t+r,s=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);s&&(e[n++]=s),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,i,r=this._n,o=0;if(r>0){for(o=t[--r];r>0&&(e=o,n=t[--r],o=e+n,i=n-(o-e),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(n=2*i,e=o+n,n==e-o&&(o=e))}return o}}class v extends Map{constructor(t,e=x){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(y(this,t))}has(t){return super.has(y(this,t))}set(t,e){return super.set(m(this,t),e)}delete(t){return super.delete(_(this,t))}}class b extends Set{constructor(t,e=x){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(y(this,t))}add(t){return super.add(m(this,t))}delete(t){return super.delete(_(this,t))}}function y({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function m({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function _({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(n),t.delete(i)),n}function x(t){return null!==t&&"object"==typeof t?t.valueOf():t}function w(t){return t}function k(t,...e){return A(t,w,w,e)}function E(t,e,...n){return A(t,w,e,n)}function S(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function A(t,e,n,i){return function t(r,o){if(o>=i.length)return n(r);const s=new v,a=i[o++];let l=-1;for(const e of r){const t=a(e,++l,r),n=s.get(t);n?n.push(e):s.set(t,[e])}for(const[e,n]of s)s.set(e,t(n,o));return e(s)}(t,0)}function T(t,e){return Array.from(e,e=>t[e])}function M(t,...n){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[i=e]=n;if(1===i.length||n.length>1){const r=Uint32Array.from(t,(t,e)=>e);return n.length>1?(n=n.map(e=>t.map(e)),r.sort((t,i)=>{for(const r of n){const n=e(r[t],r[i]);if(n)return n}})):(i=t.map(i),r.sort((t,n)=>e(i[t],i[n]))),T(t,r)}return t.sort(i)}var O=Array.prototype.slice;function C(t){return function(){return t}}var N=Math.sqrt(50),L=Math.sqrt(10),D=Math.sqrt(2);function P(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=j(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),i=Math.round(e/s);for(n*s<t&&++n,i*s>e&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),i=Math.round(e*s);for(n/s<t&&++n,i/s>e&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)/s}return i&&o.reverse(),o}function j(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=N?10:o>=L?5:o>=D?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=N?10:o>=L?5:o>=D?2:1)}function I(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=N?r*=10:o>=L?r*=5:o>=D&&(r*=2),e<t?-r:r}function R(t,e,n){let i;for(;;){const r=j(t,e,n);if(r===i||0===r||!isFinite(r))return[t,e];r>0?(t=Math.floor(t/r)*r,e=Math.ceil(e/r)*r):r<0&&(t=Math.ceil(t*r)/r,e=Math.floor(e*r)/r),i=r}}function q(t){return Math.ceil(Math.log(l(t))/Math.LN2)+1}function B(){var t=w,e=p,n=q;function i(i){Array.isArray(i)||(i=Array.from(i));var r,s,a=i.length,l=new Array(a);for(r=0;r<a;++r)l[r]=t(i[r],r,i);var u=e(l),c=u[0],h=u[1],f=n(l,c,h);if(!Array.isArray(f)){const t=h,n=+f;if(e===p&&([c,h]=R(c,h,n)),(f=P(c,h,n))[f.length-1]>=h)if(t>=h&&e===p){const t=j(c,h,n);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else f.pop()}for(var d=f.length;f[0]<=c;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var g,v=new Array(d+1);for(r=0;r<=d;++r)(g=v[r]=[]).x0=r>0?f[r-1]:c,g.x1=r<d?f[r]:h;for(r=0;r<a;++r)c<=(s=l[r])&&s<=h&&v[o(f,s,0,d)].push(i[r]);return v}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:C(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:C([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?C(O.call(t)):C(t),i):n},i}function F(t,e){let n;if(void 0===e)for(const i of t)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function z(t,e){let n;if(void 0===e)for(const i of t)null!=i&&(n>i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function H(t,n,i=0,r=t.length-1,o=e){for(;r>i;){if(r-i>600){const e=r-i+1,s=n-i+1,a=Math.log(e),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(e-l)/e)*(s-e/2<0?-1:1);H(t,n,Math.max(i,Math.floor(n-s*l/e+u)),Math.min(r,Math.floor(n+(e-s)*l/e+u)),o)}const e=t[n];let s=i,a=r;for(U(t,i,n),o(t[r],e)>0&&U(t,i,r);s<a;){for(U(t,s,a),++s,--a;o(t[s],e)<0;)++s;for(;o(t[a],e)>0;)--a}0===o(t[i],e)?U(t,i,a):(++a,U(t,a,r)),a<=n&&(i=a+1),n<=a&&(r=a-1)}return t}function U(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function W(t,e,n){if(i=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)null!=(i=e(i,++n,t))&&(i=+i)>=i&&(yield i)}}(t,n))).length){if((e=+e)<=0||i<2)return z(t);if(e>=1)return F(t);var i,r=(i-1)*e,o=Math.floor(r),s=F(H(t,o).subarray(0,o+1));return s+(z(t.subarray(o+1))-s)*(r-o)}}function V(t,e,n=i){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,s=Math.floor(o),a=+n(t[s],s,t);return a+(+n(t[s+1],s+1,t)-a)*(o-s)}}function Y(t,e){let n,i=-1,r=-1;if(void 0===e)for(const o of t)++r,null!=o&&(n<o||void 0===n&&o>=o)&&(n=o,i=r);else for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o,i=r);return i}function X(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function K(t,e){let n,i=-1,r=-1;if(void 0===e)for(const o of t)++r,null!=o&&(n>o||void 0===n&&o>=o)&&(n=o,i=r);else for(let o of t)null!=(o=e(o,++r,t))&&(n>o||void 0===n&&o>=o)&&(n=o,i=r);return i}function G(t,e){return[t,e]}function $(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}function Z(t,n=e){if(1===n.length)return K(t,n);let i,r=-1,o=-1;for(const e of t)++o,(r<0?0===n(e,e):n(e,i)<0)&&(i=e,r=o);return r}var J=Q(Math.random);function Q(t){return function(e,n=0,i=e.length){let r=i-(n=+n);for(;r;){const i=t()*r--|0,o=e[r+n];e[r+n]=e[i+n],e[i+n]=o}return e}}function tt(t){if(!(r=t.length))return[];for(var e=-1,n=z(t,et),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i}function et(t){return t.length}function nt(t){return t instanceof Set?t:new Set(t)}function it(t,e){const n=t[Symbol.iterator](),i=new Set;for(const r of e){if(i.has(r))continue;let t,e;for(;({value:t,done:e}=n.next());){if(e)return!1;if(i.add(t),Object.is(r,t))break}}return!0}var rt=Array.prototype.slice;function ot(t){return t}var st=1e-6;function at(t){return"translate("+t+",0)"}function lt(t){return"translate(0,"+t+")"}function ut(t){return e=>+t(e)}function ct(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ht(){return!this.__axis}function ft(t,e){var n=[],i=null,r=null,o=6,s=6,a=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",h=1===t||3===t?at:lt;function f(f){var d=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,p=null==r?e.tickFormat?e.tickFormat.apply(e,n):ot:r,g=Math.max(o,0)+a,v=e.range(),b=+v[0]+l,y=+v[v.length-1]+l,m=(e.bandwidth?ct:ut)(e.copy(),l),_=f.selection?f.selection():f,x=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(d,e).order(),k=w.exit(),E=w.enter().append("g").attr("class","tick"),S=w.select("line"),A=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(E),S=S.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),A=A.merge(E.append("text").attr("fill","currentColor").attr(c,u*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==_&&(x=x.transition(f),w=w.transition(f),S=S.transition(f),A=A.transition(f),k=k.transition(f).attr("opacity",st).attr("transform",function(t){return isFinite(t=m(t))?h(t+l):this.getAttribute("transform")}),E.attr("opacity",st).attr("transform",function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:m(t))+l)})),k.remove(),x.attr("d",4===t||2===t?s?"M"+u*s+","+b+"H"+l+"V"+y+"H"+u*s:"M"+l+","+b+"V"+y:s?"M"+b+","+u*s+"V"+l+"H"+y+"V"+u*s:"M"+b+","+l+"H"+y),w.attr("opacity",1).attr("transform",function(t){return h(m(t)+l)}),S.attr(c+"2",u*o),A.attr(c,u*g).text(p),_.filter(ht).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_.each(function(){this.__axis=m})}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=rt.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:rt.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(i=null==t?null:rt.call(t),f):i&&i.slice()},f.tickFormat=function(t){return arguments.length?(r=t,f):r},f.tickSize=function(t){return arguments.length?(o=s=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(s=+t,f):s},f.tickPadding=function(t){return arguments.length?(a=+t,f):a},f.offset=function(t){return arguments.length?(l=+t,f):l},f}var dt={value:()=>{}};function pt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new gt(i)}function gt(t){this._=t}function vt(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function bt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function yt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=dt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}gt.prototype=pt.prototype={constructor:gt,on:function(t,e){var n,i=this._,r=vt(t+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=yt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=yt(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=bt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var mt="http://www.w3.org/1999/xhtml",_t={svg:"http://www.w3.org/2000/svg",xhtml:mt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),_t.hasOwnProperty(e)?{space:_t[e],local:t}:t}function wt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mt&&e.documentElement.namespaceURI===mt?e.createElement(t):e.createElementNS(n,t)}}function kt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Et(t){var e=xt(t);return(e.local?kt:wt)(e)}function St(){}function At(t){return null==t?St:function(){return this.querySelector(t)}}function Tt(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Mt(){return[]}function Ot(t){return null==t?Mt:function(){return this.querySelectorAll(t)}}function Ct(t){return function(){return this.matches(t)}}function Nt(t){return function(e){return e.matches(t)}}var Lt=Array.prototype.find;function Dt(){return this.firstElementChild}var Pt=Array.prototype.filter;function jt(){return this.children}function It(t){return new Array(t.length)}function Rt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function qt(t){return function(){return t}}function Bt(t,e,n,i,r,o){for(var s,a=0,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new Rt(t,o[a]);for(;a<l;++a)(s=e[a])&&(r[a]=s)}function Ft(t,e,n,i,r,o,s){var a,l,u,c=new Map,h=e.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(d[a]=u=s.call(l,l.__data__,a,e)+"",c.has(u)?r[a]=l:c.set(u,l));for(a=0;a<f;++a)u=s.call(t,o[a],a,o)+"",(l=c.get(u))?(i[a]=l,l.__data__=o[a],c.delete(u)):n[a]=new Rt(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&c.get(d[a])===l&&(r[a]=l)}function zt(t){return t.__data__}function Ht(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ut(t){return function(){this.removeAttribute(t)}}function Wt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vt(t,e){return function(){this.setAttribute(t,e)}}function Yt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Xt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Kt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Gt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $t(t){return function(){this.style.removeProperty(t)}}function Zt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Jt(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Qt(t,e){return t.style.getPropertyValue(e)||Gt(t).getComputedStyle(t,null).getPropertyValue(e)}function te(t){return function(){delete this[t]}}function ee(t,e){return function(){this[t]=e}}function ne(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ie(t){return t.trim().split(/^|\s+/)}function re(t){return t.classList||new oe(t)}function oe(t){this._node=t,this._names=ie(t.getAttribute("class")||"")}function se(t,e){for(var n=re(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function ae(t,e){for(var n=re(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function le(t){return function(){se(this,t)}}function ue(t){return function(){ae(this,t)}}function ce(t,e){return function(){(e.apply(this,arguments)?se:ae)(this,t)}}function he(){this.textContent=""}function fe(t){return function(){this.textContent=t}}function de(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function pe(){this.innerHTML=""}function ge(t){return function(){this.innerHTML=t}}function ve(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function be(){this.nextSibling&&this.parentNode.appendChild(this)}function ye(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function me(){return null}function _e(){var t=this.parentNode;t&&t.removeChild(this)}function xe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function we(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ke(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function Ee(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function Se(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ae(t,e,n){var i=Gt(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Te(t,e){return function(){return Ae(this,t,e)}}function Me(t,e){return function(){return Ae(this,t,e.apply(this,arguments))}}Rt.prototype={constructor:Rt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},oe.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Oe=[null];function Ce(t,e){this._groups=t,this._parents=e}function Ne(){return new Ce([[document.documentElement]],Oe)}function Le(t){return"string"==typeof t?new Ce([[document.querySelector(t)]],[document.documentElement]):new Ce([[t]],Oe)}Ce.prototype=Ne.prototype={constructor:Ce,select:function(t){"function"!=typeof t&&(t=At(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],l=a.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),u[c]=s);return new Ce(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Tt(e)}}(t):Ot(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,u=0;u<l;++u)(s=a[u])&&(i.push(t.call(s,s.__data__,u,a)),r.push(s));return new Ce(i,r)},selectChild:function(t){return this.select(null==t?Dt:function(t){return function(){return Lt.call(this.children,t)}}("function"==typeof t?t:Nt(t)))},selectChildren:function(t){return this.selectAll(null==t?jt:function(t){return function(){return Pt.call(this.children,t)}}("function"==typeof t?t:Nt(t)))},filter:function(t){"function"!=typeof t&&(t=Ct(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new Ce(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,zt);var n=e?Ft:Bt,i=this._parents,r=this._groups;"function"!=typeof t&&(t=qt(t));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=i[u],h=r[u],f=h.length,d=Tt(t.call(c,c&&c.__data__,u,i)),p=d.length,g=a[u]=new Array(p),v=s[u]=new Array(p),b=l[u]=new Array(f);n(c,h,g,v,b,d,e);for(var y,m,_=0,x=0;_<p;++_)if(y=g[_]){for(_>=x&&(x=_+1);!(m=v[x])&&++x<p;);y._next=m||null}}return(s=new Ce(s,i))._enter=a,s._exit=l,s},enter:function(){return new Ce(this._enter||this._groups.map(It),this._parents)},exit:function(){return new Ce(this._exit||this._groups.map(It),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){if(!(t instanceof Ce))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),o=new Array(i),s=0;s<r;++s)for(var a,l=e[s],u=n[s],c=l.length,h=o[s]=new Array(c),f=0;f<c;++f)(a=l[f]||u[f])&&(h[f]=a);for(;s<i;++s)o[s]=e[s];return new Ce(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ht);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,u=r[o]=new Array(l),c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(e)}return new Ce(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=xt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Wt:Ut:"function"==typeof e?n.local?Kt:Xt:n.local?Yt:Vt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?$t:"function"==typeof e?Jt:Zt)(t,e,null==n?"":n)):Qt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?te:"function"==typeof e?ne:ee)(t,e)):this.node()[t]},classed:function(t,e){var n=ie(t+"");if(arguments.length<2){for(var i=re(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?ce:e?le:ue)(n,e))},text:function(t){return arguments.length?this.each(null==t?he:("function"==typeof t?de:fe)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?pe:("function"==typeof t?ve:ge)(t)):this.node().innerHTML},raise:function(){return this.each(be)},lower:function(){return this.each(ye)},append:function(t){var e="function"==typeof t?t:Et(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Et(t),i=null==e?me:"function"==typeof e?e:At(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(_e)},clone:function(t){return this.select(t?we:xe)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=ke(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?Se:Ee,i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var l,u=0,c=a.length;u<c;++u)for(i=0,l=a[u];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Me:Te)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,s=r.length;o<s;++o)(i=r[o])&&(yield i)}};var De=0;function Pe(){return new je}function je(){this._="@"+(++De).toString(36)}function Ie(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Re(t,e){if(t=Ie(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}function qe(t){t.stopImmediatePropagation()}function Be(t){t.preventDefault(),t.stopImmediatePropagation()}function Fe(t){var e=t.document.documentElement,n=Le(t).on("dragstart.drag",Be,!0);"onselectstart"in e?n.on("selectstart.drag",Be,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ze(t,e){var n=t.document.documentElement,i=Le(t).on("dragstart.drag",null);e&&(i.on("click.drag",Be,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}je.prototype=Pe.prototype={constructor:je,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var He=t=>()=>t;function Ue(t,{sourceEvent:e,subject:n,target:i,identifier:r,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}function We(t){return!t.ctrlKey&&!t.button}function Ve(){return this.parentNode}function Ye(t,e){return null==e?{x:t.x,y:t.y}:e}function Xe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ke(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ge(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function $e(){}Ue.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ze=.7,Je=1/Ze,Qe="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nn=/^#([0-9a-f]{3,8})$/,rn=new RegExp("^rgb\\("+[Qe,Qe,Qe]+"\\)$"),on=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),sn=new RegExp("^rgba\\("+[Qe,Qe,Qe,tn]+"\\)$"),an=new RegExp("^rgba\\("+[en,en,en,tn]+"\\)$"),ln=new RegExp("^hsl\\("+[tn,en,en]+"\\)$"),un=new RegExp("^hsla\\("+[tn,en,en,tn]+"\\)$"),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hn(){return this.rgb().formatHex()}function fn(){return this.rgb().formatRgb()}function dn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?pn(e):3===n?new yn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?gn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?gn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=rn.exec(t))?new yn(e[1],e[2],e[3],1):(e=on.exec(t))?new yn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=sn.exec(t))?gn(e[1],e[2],e[3],e[4]):(e=an.exec(t))?gn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ln.exec(t))?wn(e[1],e[2]/100,e[3]/100,1):(e=un.exec(t))?wn(e[1],e[2]/100,e[3]/100,e[4]):cn.hasOwnProperty(t)?pn(cn[t]):"transparent"===t?new yn(NaN,NaN,NaN,0):null}function pn(t){return new yn(t>>16&255,t>>8&255,255&t,1)}function gn(t,e,n,i){return i<=0&&(t=e=n=NaN),new yn(t,e,n,i)}function vn(t){return t instanceof $e||(t=dn(t)),t?new yn((t=t.rgb()).r,t.g,t.b,t.opacity):new yn}function bn(t,e,n,i){return 1===arguments.length?vn(t):new yn(t,e,n,null==i?1:i)}function yn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function mn(){return"#"+xn(this.r)+xn(this.g)+xn(this.b)}function _n(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function xn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sn(t,e,n,i)}function kn(t){if(t instanceof Sn)return new Sn(t.h,t.s,t.l,t.opacity);if(t instanceof $e||(t=dn(t)),!t)return new Sn;if(t instanceof Sn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Sn(s,a,l,t.opacity)}function En(t,e,n,i){return 1===arguments.length?kn(t):new Sn(t,e,n,null==i?1:i)}function Sn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function An(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ke($e,dn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:hn,formatHex:hn,formatHsl:function(){return kn(this).formatHsl()},formatRgb:fn,toString:fn}),Ke(yn,bn,Ge($e,{brighter:function(t){return t=null==t?Je:Math.pow(Je,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ze:Math.pow(Ze,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mn,formatHex:mn,formatRgb:_n,toString:_n})),Ke(Sn,En,Ge($e,{brighter:function(t){return t=null==t?Je:Math.pow(Je,t),new Sn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ze:Math.pow(Ze,t),new Sn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new yn(An(t>=240?t-240:t+120,r,i),An(t,r,i),An(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Tn=Math.PI/180,Mn=180/Math.PI,On=.96422,Cn=.82521,Nn=4/29,Ln=6/29,Dn=3*Ln*Ln;function Pn(t){if(t instanceof In)return new In(t.l,t.a,t.b,t.opacity);if(t instanceof Un)return Wn(t);t instanceof yn||(t=vn(t));var e,n,i=Fn(t.r),r=Fn(t.g),o=Fn(t.b),s=Rn((.2225045*i+.7168786*r+.0606169*o)/1);return i===r&&r===o?e=n=s:(e=Rn((.4360747*i+.3850649*r+.1430804*o)/On),n=Rn((.0139322*i+.0971045*r+.7141733*o)/Cn)),new In(116*s-16,500*(e-s),200*(s-n),t.opacity)}function jn(t,e,n,i){return 1===arguments.length?Pn(t):new In(t,e,n,null==i?1:i)}function In(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Rn(t){return t>.008856451679035631?Math.pow(t,1/3):t/Dn+Nn}function qn(t){return t>Ln?t*t*t:Dn*(t-Nn)}function Bn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function zn(t){if(t instanceof Un)return new Un(t.h,t.c,t.l,t.opacity);if(t instanceof In||(t=Pn(t)),0===t.a&&0===t.b)return new Un(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Mn;return new Un(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Hn(t,e,n,i){return 1===arguments.length?zn(t):new Un(t,e,n,null==i?1:i)}function Un(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Wn(t){if(isNaN(t.h))return new In(t.l,0,0,t.opacity);var e=t.h*Tn;return new In(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ke(In,jn,Ge($e,{brighter:function(t){return new In(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new In(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new yn(Bn(3.1338561*(e=On*qn(e))-1.6168667*(t=1*qn(t))-.4906146*(n=Cn*qn(n))),Bn(-.9787684*e+1.9161415*t+.033454*n),Bn(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ke(Un,Hn,Ge($e,{brighter:function(t){return new Un(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Un(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Wn(this).rgb()}}));var Vn=-.14861,Yn=1.78277,Xn=-.29227,Kn=-.90649,Gn=1.97294,$n=Gn*Kn,Zn=Gn*Yn,Jn=Yn*Xn-Kn*Vn;function Qn(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);t instanceof yn||(t=vn(t));var e=t.g/255,n=t.b/255,i=(Jn*n+$n*(t.r/255)-Zn*e)/(Jn+$n-Zn),r=n-i,o=(Gn*(e-i)-Xn*r)/Kn,s=Math.sqrt(o*o+r*r)/(Gn*i*(1-i)),a=s?Math.atan2(o,r)*Mn-120:NaN;return new ei(a<0?a+360:a,s,i,t.opacity)}function ti(t,e,n,i){return 1===arguments.length?Qn(t):new ei(t,e,n,null==i?1:i)}function ei(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ni(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}function ii(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1];return ni((n-i/e)*e,i>0?t[i-1]:2*r-o,r,o,i<e-1?t[i+2]:2*o-r)}}function ri(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e);return ni((n-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}}Ke(ei,ti,Ge($e,{brighter:function(t){return t=null==t?Je:Math.pow(Je,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ze:Math.pow(Ze,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Tn,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new yn(255*(e+n*(Vn*i+Yn*r)),255*(e+n*(Xn*i+Kn*r)),255*(e+n*(Gn*i)),this.opacity)}}));var oi=t=>()=>t;function si(t,e){return function(n){return t+n*e}}function ai(t,e){var n=e-t;return n?si(t,n>180||n<-180?n-360*Math.round(n/360):n):oi(isNaN(t)?e:t)}function li(t,e){var n=e-t;return n?si(t,n):oi(isNaN(t)?e:t)}var ui=function t(e){var n=function(t){return 1==(t=+t)?li:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):oi(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=bn(t)).r,(e=bn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=li(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function ci(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=bn(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}var hi=ci(ii),fi=ci(ri);function di(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function pi(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gi(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=wi(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}}function vi(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function bi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yi(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=wi(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_i=new RegExp(mi.source,"g");function xi(t,e){var n,i,r,o=mi.lastIndex=_i.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=mi.exec(t))&&(i=_i.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:bi(n,i)})),o=_i.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function wi(t,e){var n,i=typeof e;return null==e||"boolean"===i?oi(e):("number"===i?bi:"string"===i?(n=dn(e))?(e=n,ui):xi:e instanceof dn?ui:e instanceof Date?vi:pi(e)?di:Array.isArray(e)?gi:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?yi:bi)(t,e)}function ki(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ei,Si=180/Math.PI,Ai={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ti(t,e,n,i,r,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Si,skewX:Math.atan(l)*Si,scaleX:s,scaleY:a}}function Mi(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],l=[];return o=t(o),s=t(s),function(t,i,r,o,s,a){if(t!==r||i!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:bi(t,r)},{i:l-2,x:bi(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:bi(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,s.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:bi(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,s.skewX,a,l),function(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:bi(t,n)},{i:a-2,x:bi(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(t){for(var e,n=-1,i=l.length;++n<i;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var Oi=Mi(function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ai:Ti(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),Ci=Mi(function(t){return null==t?Ai:(Ei||(Ei=document.createElementNS("http://www.w3.org/2000/svg","g")),Ei.setAttribute("transform",t),(t=Ei.transform.baseVal.consolidate())?Ti((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ai)},", ",")",")");function Ni(t){return((t=Math.exp(t))+1/t)/2}var Li=function t(e,n,i){function r(t,r){var o,s,a=t[0],l=t[1],u=t[2],c=r[2],h=r[0]-a,f=r[1]-l,d=h*h+f*f;if(d<1e-12)s=Math.log(c/u)/e,o=function(t){return[a+t*h,l+t*f,u*Math.exp(e*t*s)]};else{var p=Math.sqrt(d),g=(c*c-u*u+i*d)/(2*u*n*p),v=(c*c-u*u-i*d)/(2*c*n*p),b=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);s=(y-b)/e,o=function(t){var i=t*s,r=Ni(b),o=u/(n*p)*(r*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*i+b)-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[a+o*h,l+o*f,u*r/Ni(e*i+b)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return r.rho=function(e){var n=Math.max(.001,+e),i=n*n;return t(n,i,i*i)},r}(Math.SQRT2,2,4);function Di(t){return function(e,n){var i=t((e=En(e)).h,(n=En(n)).h),r=li(e.s,n.s),o=li(e.l,n.l),s=li(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=s(t),e+""}}}var Pi=Di(ai),ji=Di(li);function Ii(t){return function(e,n){var i=t((e=Hn(e)).h,(n=Hn(n)).h),r=li(e.c,n.c),o=li(e.l,n.l),s=li(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}var Ri=Ii(ai),qi=Ii(li);function Bi(t){return function e(n){function i(e,i){var r=t((e=ti(e)).h,(i=ti(i)).h),o=li(e.s,i.s),s=li(e.l,i.l),a=li(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}var Fi=Bi(ai),zi=Bi(li);function Hi(t,e){void 0===e&&(e=t,t=wi);for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}}var Ui,Wi,Vi=0,Yi=0,Xi=0,Ki=0,Gi=0,$i=0,Zi="object"==typeof performance&&performance.now?performance:Date,Ji="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qi(){return Gi||(Ji(tr),Gi=Zi.now()+$i)}function tr(){Gi=0}function er(){this._call=this._time=this._next=null}function nr(t,e,n){var i=new er;return i.restart(t,e,n),i}function ir(){Qi(),++Vi;for(var t,e=Ui;e;)(t=Gi-e._time)>=0&&e._call.call(null,t),e=e._next;--Vi}function rr(){Gi=(Ki=Zi.now())+$i,Vi=Yi=0;try{ir()}finally{Vi=0,function(){for(var t,e,n=Ui,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ui=e);Wi=t,sr(i)}(),Gi=0}}function or(){var t=Zi.now(),e=t-Ki;e>1e3&&($i-=e,Ki=t)}function sr(t){Vi||(Yi&&(Yi=clearTimeout(Yi)),t-Gi>24?(t<1/0&&(Yi=setTimeout(rr,t-Zi.now()-$i)),Xi&&(Xi=clearInterval(Xi))):(Xi||(Ki=Zi.now(),Xi=setInterval(or,1e3)),Vi=1,Ji(rr)))}function ar(t,e,n){var i=new er;return i.restart(n=>{i.stop(),t(n+e)},e=null==e?0:+e,n),i}er.prototype=nr.prototype={constructor:er,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Qi():+n)+(null==e?0:+e),this._next||Wi===this||(Wi?Wi._next=this:Ui=this,Wi=this),this._call=t,this._time=n,sr()},stop:function(){this._call&&(this._call=null,this._time=1/0,sr())}};var lr=pt("start","end","cancel","interrupt"),ur=[];function cr(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(l){var u,c,h,f;if(1!==n.state)return a();for(u in r)if((f=r[u]).name===n.name){if(3===f.state)return ar(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(ar(function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=f);i.length=c+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=i.length;++o<s;)i[o].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=nr(function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:r,on:lr,tween:ur,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function hr(t,e){var n=dr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function fr(t,e){var n=dr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function dr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function pr(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}}function gr(t,e){var n,i;return function(){var r=fr(this,t),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function vr(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=fr(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=a;break}l===u&&r.push(a)}o.tween=r}}function br(t,e,n){var i=t._id;return t.each(function(){var t=fr(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return dr(t,i).value[e]}}function yr(t,e){var n;return("number"==typeof e?bi:e instanceof dn?ui:(n=dn(e))?(e=n,ui):xi)(t,e)}function mr(t){return function(){this.removeAttribute(t)}}function _r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xr(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function wr(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function kr(t,e,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,l));this.removeAttribute(t)}}function Er(t,e,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,l));this.removeAttributeNS(t.space,t.local)}}function Sr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ar(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Tr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Ar(t,r)),n}return r._value=e,r}function Mr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Sr(t,r)),n}return r._value=e,r}function Or(t,e){return function(){hr(this,t).delay=+e.apply(this,arguments)}}function Cr(t,e){return e=+e,function(){hr(this,t).delay=e}}function Nr(t,e){return function(){fr(this,t).duration=+e.apply(this,arguments)}}function Lr(t,e){return e=+e,function(){fr(this,t).duration=e}}function Dr(t,e){if("function"!=typeof e)throw new Error;return function(){fr(this,t).ease=e}}function Pr(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?hr:fr;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}var jr=Ne.prototype.constructor;function Ir(t){return function(){this.style.removeProperty(t)}}function Rr(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function qr(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Rr(t,o,n)),i}return o._value=e,o}function Br(t){return function(e){this.textContent=t.call(this,e)}}function Fr(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Br(i)),e}return i._value=t,i}var zr=0;function Hr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Ur(t){return Ne().transition(t)}function Wr(){return++zr}var Vr=Ne.prototype;function Yr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Xr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Hr.prototype=Ur.prototype={constructor:Hr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=At(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,u=i[s],c=u.length,h=o[s]=new Array(c),f=0;f<c;++f)(a=u[f])&&(l=t.call(a,a.__data__,f,u))&&("__data__"in a&&(l.__data__=a.__data__),h[f]=l,cr(h[f],e,n,f,h,dr(a,n)));return new Hr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ot(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,u=i[a],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var f,d=t.call(l,l.__data__,h,u),p=dr(l,n),g=0,v=d.length;g<v;++g)(f=d[g])&&cr(f,e,n,g,d,p);o.push(d),s.push(l)}return new Hr(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=Ct(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new Hr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),o=new Array(i),s=0;s<r;++s)for(var a,l=e[s],u=n[s],c=l.length,h=o[s]=new Array(c),f=0;f<c;++f)(a=l[f]||u[f])&&(h[f]=a);for(;s<i;++s)o[s]=e[s];return new Hr(o,this._parents,this._name,this._id)},selection:function(){return new jr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Wr(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,u=0;u<l;++u)if(s=a[u]){var c=dr(s,e);cr(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Hr(i,this._parents,t,n)},call:Vr.call,nodes:Vr.nodes,node:Vr.node,size:Vr.size,empty:Vr.empty,each:Vr.each,on:function(t,e){var n=this._id;return arguments.length<2?dr(this.node(),n).on.on(t):this.each(Pr(n,t,e))},attr:function(t,e){var n=xt(t),i="transform"===n?Ci:yr;return this.attrTween(t,"function"==typeof e?(n.local?Er:kr)(n,i,br(this,"attr."+t,e)):null==e?(n.local?_r:mr)(n):(n.local?wr:xr)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=xt(t);return this.tween(n,(i.local?Tr:Mr)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?Oi:yr;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=Qt(this,t),s=(this.style.removeProperty(t),Qt(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}(t,i)).on("end.style."+t,Ir(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var s=Qt(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=Qt(this,t)),s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a))}}(t,i,br(this,"style."+t,e))).each(function(t,e){var n,i,r,o,s="style."+e,a="end."+s;return function(){var l=fr(this,t),u=l.on,c=null==l.value[s]?o||(o=Ir(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(a,r=c),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var s=Qt(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,qr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(br(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Fr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=dr(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?gr:vr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Or:Cr)(e,t)):dr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Nr:Lr)(e,t)):dr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Dr(e,t)):dr(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;fr(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each(function(){var n=fr(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e}),0===r&&o()})},[Symbol.iterator]:Vr[Symbol.iterator]};var Kr=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Gr=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),$r=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Zr=Math.PI,Jr=Zr/2;function Qr(t){return(1-Math.cos(Zr*t))/2}function to(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function eo(t){return((t*=2)<=1?to(1-t):2-to(t-1))/2}function no(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var io=7.5625;function ro(t){return(t=+t)<.36363636363636365?io*t*t:t<.7272727272727273?io*(t-=.5454545454545454)*t+.75:t<.9090909090909091?io*(t-=.8181818181818182)*t+.9375:io*(t-=.9545454545454546)*t+.984375}var oo=1.70158,so=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(oo),ao=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(oo),lo=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(oo),uo=2*Math.PI,co=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=uo);function r(t){return e*to(- --t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*uo)},r.period=function(n){return t(e,n)},r}(1,.3),ho=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=uo);function r(t){return 1-e*to(t=+t)*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*uo)},r.period=function(n){return t(e,n)},r}(1,.3),fo=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=uo);function r(t){return((t=2*t-1)<0?e*to(-t)*Math.sin((i-t)/n):2-e*to(t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*uo)},r.period=function(n){return t(e,n)},r}(1,.3),po={time:null,delay:0,duration:250,ease:Xr};function go(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ne.prototype.interrupt=function(t){return this.each(function(){pr(this,t)})},Ne.prototype.transition=function(t){var e,n;t instanceof Hr?(e=t._id,t=t._name):(e=Wr(),(n=po).time=Qi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,u=0;u<l;++u)(s=a[u])&&cr(s,t,e,u,a,n||go(s,e));return new Hr(i,this._parents,t,e)};var vo=[null],bo=t=>()=>t;function yo(t,{sourceEvent:e,target:n,selection:i,mode:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function mo(t){t.stopImmediatePropagation()}function _o(t){t.preventDefault(),t.stopImmediatePropagation()}var xo={name:"drag"},wo={name:"space"},ko={name:"handle"},Eo={name:"center"};const{abs:So,max:Ao,min:To}=Math;function Mo(t){return[+t[0],+t[1]]}function Oo(t){return[Mo(t[0]),Mo(t[1])]}var Co={name:"x",handles:["w","e"].map(qo),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},No={name:"y",handles:["n","s"].map(qo),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Lo={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(qo),input:function(t){return null==t?null:Oo(t)},output:function(t){return t}},Do={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Po={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},jo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Io={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ro={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function qo(t){return{type:t}}function Bo(t){return!t.ctrlKey&&!t.button}function Fo(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function zo(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ho(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Uo(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Wo(t){var e,n=Fo,i=Bo,r=zo,o=!0,s=pt("start","brush","end"),a=6;function l(e){var n=e.property("__brush",g).selectAll(".overlay").data([qo("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Do.overlay).merge(n).each(function(){var t=Ho(this).extent;Le(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([qo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Do.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Do[t.type]}),e.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var t=Le(this),e=Ho(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-a/2:e[0][0]-a/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-a/2:e[0][1]-a/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+a:a}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+a:a})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e,n){var i=t.__brush.emitter;return!i||n&&i.clean?new h(t,e,n):i}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function f(n){if((!e||n.touches)&&i.apply(this,arguments)){var r,s,a,l,h,f,d,p,g,v,b,y=this,m=n.target.__data__.type,_="selection"===(o&&n.metaKey?m="overlay":m)?xo:o&&n.altKey?Eo:ko,x=t===No?null:Io[m],w=t===Co?null:Ro[m],k=Ho(y),E=k.extent,S=k.selection,A=E[0][0],T=E[0][1],M=E[1][0],O=E[1][1],C=0,N=0,L=x&&w&&o&&n.shiftKey,D=Array.from(n.touches||[n],t=>{const e=t.identifier;return(t=Re(t,y)).point0=t.slice(),t.identifier=e,t});if("overlay"===m){S&&(g=!0);const e=[D[0],D[1]||D[0]];k.selection=S=[[r=t===No?A:To(e[0][0],e[1][0]),a=t===Co?T:To(e[0][1],e[1][1])],[h=t===No?M:Ao(e[0][0],e[1][0]),d=t===Co?O:Ao(e[0][1],e[1][1])]],D.length>1&&B()}else r=S[0][0],a=S[0][1],h=S[1][0],d=S[1][1];s=r,l=a,f=h,p=d;var P=Le(y).attr("pointer-events","none"),j=P.selectAll(".overlay").attr("cursor",Do[m]);pr(y);var I=c(y,arguments,!0).beforestart();if(n.touches)I.moved=q,I.ended=F;else{var R=Le(n.view).on("mousemove.brush",q,!0).on("mouseup.brush",F,!0);o&&R.on("keydown.brush",z,!0).on("keyup.brush",H,!0),Fe(n.view)}u.call(y),I.start(n,_.name)}function q(t){for(const e of t.changedTouches||[t])for(const t of D)t.identifier===e.identifier&&(t.cur=Re(e,y));if(L&&!v&&!b&&1===D.length){const t=D[0];So(t.cur[0]-t[0])>So(t.cur[1]-t[1])?b=!0:v=!0}for(const e of D)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);g=!0,_o(t),B(t)}function B(t){const e=D[0],n=e.point0;var i;switch(C=e[0]-n[0],N=e[1]-n[1],_){case wo:case xo:x&&(C=Ao(A-r,To(M-h,C)),s=r+C,f=h+C),w&&(N=Ao(T-a,To(O-d,N)),l=a+N,p=d+N);break;case ko:D[1]?(x&&(s=Ao(A,To(M,D[0][0])),f=Ao(A,To(M,D[1][0])),x=1),w&&(l=Ao(T,To(O,D[0][1])),p=Ao(T,To(O,D[1][1])),w=1)):(x<0?(C=Ao(A-r,To(M-r,C)),s=r+C,f=h):x>0&&(C=Ao(A-h,To(M-h,C)),s=r,f=h+C),w<0?(N=Ao(T-a,To(O-a,N)),l=a+N,p=d):w>0&&(N=Ao(T-d,To(O-d,N)),l=a,p=d+N));break;case Eo:x&&(s=Ao(A,To(M,r-C*x)),f=Ao(A,To(M,h+C*x))),w&&(l=Ao(T,To(O,a-N*w)),p=Ao(T,To(O,d+N*w)))}f<s&&(x*=-1,i=r,r=h,h=i,i=s,s=f,f=i,m in Po&&j.attr("cursor",Do[m=Po[m]])),p<l&&(w*=-1,i=a,a=d,d=i,i=l,l=p,p=i,m in jo&&j.attr("cursor",Do[m=jo[m]])),k.selection&&(S=k.selection),v&&(s=S[0][0],f=S[1][0]),b&&(l=S[0][1],p=S[1][1]),S[0][0]===s&&S[0][1]===l&&S[1][0]===f&&S[1][1]===p||(k.selection=[[s,l],[f,p]],u.call(y),I.brush(t,_.name))}function F(t){if(mo(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500)}else ze(t.view,g),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);P.attr("pointer-events","all"),j.attr("cursor",Do.overlay),k.selection&&(S=k.selection),Uo(S)&&(k.selection=null,u.call(y)),I.end(t,_.name)}function z(t){switch(t.keyCode){case 16:L=x&&w;break;case 18:_===ko&&(x&&(h=f-C*x,r=s+C*x),w&&(d=p-N*w,a=l+N*w),_=Eo,B());break;case 32:_!==ko&&_!==Eo||(x<0?h=f-C:x>0&&(r=s-C),w<0?d=p-N:w>0&&(a=l-N),_=wo,j.attr("cursor",Do.selection),B());break;default:return}_o(t)}function H(t){switch(t.keyCode){case 16:L&&(v=b=L=!1,B());break;case 18:_===Eo&&(x<0?h=f:x>0&&(r=s),w<0?d=p:w>0&&(a=l),_=ko,B());break;case 32:_===wo&&(t.altKey?(x&&(h=f-C*x,r=s+C*x),w&&(d=p-N*w,a=l+N*w),_=Eo):(x<0?h=f:x>0&&(r=s),w<0?d=p:w>0&&(a=l),_=ko),j.attr("cursor",Do[m]),B());break;default:return}_o(t)}}function d(t){c(this,arguments).moved(t)}function p(t){c(this,arguments).ended(t)}function g(){var e=this.__brush||{selection:null};return e.extent=Oo(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n){e.tween?e.on("start.brush",function(t){c(this,arguments).beforestart().start(t)}).on("interrupt.brush end.brush",function(t){c(this,arguments).end(t)}).tween("brush",function(){var e=this,i=e.__brush,r=c(e,arguments),o=i.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),a=wi(o,s);function l(t){i.selection=1===t&&null===s?null:a(t),u.call(e),r.brush()}return null!==o&&null!==s?l:l(1)}):e.each(function(){var e=this,i=arguments,r=e.__brush,o=t.input("function"==typeof n?n.apply(e,i):n,r.extent),s=c(e,i).beforestart();pr(e),r.selection=null===o?null:o,u.call(e),s.start().brush().end()})},l.clear=function(t){l.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,i){var r=Le(this.that).datum();s.call(e,this.that,new yo(e,{sourceEvent:n,target:l,selection:t.output(this.state.selection),mode:i,dispatch:s}),r)}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:bo(Oo(t)),l):n},l.filter=function(t){return arguments.length?(i="function"==typeof t?t:bo(!!t),l):i},l.touchable=function(t){return arguments.length?(r="function"==typeof t?t:bo(!!t),l):r},l.handleSize=function(t){return arguments.length?(a=+t,l):a},l.keyModifiers=function(t){return arguments.length?(o=!!t,l):o},l.on=function(){var t=s.on.apply(s,arguments);return t===s?l:t},l}var Vo=Math.abs,Yo=Math.cos,Xo=Math.sin,Ko=Math.PI,Go=Ko/2,$o=2*Ko,Zo=Math.max,Jo=1e-12;function Qo(t,e){return Array.from({length:e-t},(e,n)=>t+n)}function ts(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function es(t,e){var n=0,i=null,r=null,o=null;function s(s){var a,l=s.length,u=new Array(l),c=Qo(0,l),h=new Array(l*l),f=new Array(l),d=0;s=Float64Array.from({length:l*l},e?(t,e)=>s[e%l][e/l|0]:(t,e)=>s[e/l|0][e%l]);for(let e=0;e<l;++e){let n=0;for(let i=0;i<l;++i)n+=s[e*l+i]+t*s[i*l+e];d+=u[e]=n}a=(d=Zo(0,$o-n*l)/d)?n:$o/l;{let e=0;i&&c.sort((t,e)=>i(u[t],u[e]));for(const n of c){const i=e;if(t){const t=Qo(1+~l,l).filter(t=>t<0?s[~t*l+n]:s[n*l+t]);r&&t.sort((t,e)=>r(t<0?-s[~t*l+n]:s[n*l+t],e<0?-s[~e*l+n]:s[n*l+e]));for(const i of t)i<0?(h[~i*l+n]||(h[~i*l+n]={source:null,target:null})).target={index:n,startAngle:e,endAngle:e+=s[~i*l+n]*d,value:s[~i*l+n]}:(h[n*l+i]||(h[n*l+i]={source:null,target:null})).source={index:n,startAngle:e,endAngle:e+=s[n*l+i]*d,value:s[n*l+i]};f[n]={index:n,startAngle:i,endAngle:e,value:u[n]}}else{const t=Qo(0,l).filter(t=>s[n*l+t]||s[t*l+n]);r&&t.sort((t,e)=>r(s[n*l+t],s[n*l+e]));for(const i of t){let t;if(n<i?(t=h[n*l+i]||(h[n*l+i]={source:null,target:null}),t.source={index:n,startAngle:e,endAngle:e+=s[n*l+i]*d,value:s[n*l+i]}):(t=h[i*l+n]||(h[i*l+n]={source:null,target:null}),t.target={index:n,startAngle:e,endAngle:e+=s[n*l+i]*d,value:s[n*l+i]},n===i&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const e=t.source;t.source=t.target,t.target=e}}f[n]={index:n,startAngle:i,endAngle:e,value:u[n]}}e+=a}}return(h=Object.values(h)).groups=f,o?h.sort(o):h}return s.padAngle=function(t){return arguments.length?(n=Zo(0,t),s):n},s.sortGroups=function(t){return arguments.length?(i=t,s):i},s.sortSubgroups=function(t){return arguments.length?(r=t,s):r},s.sortChords=function(t){return arguments.length?(null==t?o=null:(o=ts(t))._=t,s):o&&o._},s}const ns=Math.PI,is=2*ns,rs=1e-6,os=is-rs;function ss(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function as(){return new ss}ss.prototype=as.prototype={constructor:ss,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){var o=this._x1,s=this._y1,a=(n=+n)-(t=+t),l=(i=+i)-(e=+e),u=o-t,c=s-e,h=u*u+c*c;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>rs)if(Math.abs(c*a-l*u)>rs&&r){var f=n-o,d=i-s,p=a*a+l*l,g=f*f+d*d,v=Math.sqrt(p),b=Math.sqrt(h),y=r*Math.tan((ns-Math.acos((p+h-g)/(2*v*b)))/2),m=y/b,_=y/v;Math.abs(m-1)>rs&&(this._+="L"+(t+m*u)+","+(e+m*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+_*a)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=t+s,u=e+a,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>rs||Math.abs(this._y1-u)>rs)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%is+is),h>os?this._+="A"+n+","+n+",0,1,"+c+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>rs&&(this._+="A"+n+","+n+",0,"+ +(h>=ns)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var ls=Array.prototype.slice;function us(t){return function(){return t}}function cs(t){return t.source}function hs(t){return t.target}function fs(t){return t.radius}function ds(t){return t.startAngle}function ps(t){return t.endAngle}function gs(){return 0}function vs(){return 10}function bs(t){var e=cs,n=hs,i=fs,r=fs,o=ds,s=ps,a=gs,l=null;function u(){var u,c=e.apply(this,arguments),h=n.apply(this,arguments),f=a.apply(this,arguments)/2,d=ls.call(arguments),p=+i.apply(this,(d[0]=c,d)),g=o.apply(this,d)-Go,v=s.apply(this,d)-Go,b=+r.apply(this,(d[0]=h,d)),y=o.apply(this,d)-Go,m=s.apply(this,d)-Go;if(l||(l=u=as()),f>Jo&&(Vo(v-g)>2*f+Jo?v>g?(g+=f,v-=f):(g-=f,v+=f):g=v=(g+v)/2,Vo(m-y)>2*f+Jo?m>y?(y+=f,m-=f):(y-=f,m+=f):y=m=(y+m)/2),l.moveTo(p*Yo(g),p*Xo(g)),l.arc(0,0,p,g,v),g!==y||v!==m)if(t){var _=+t.apply(this,arguments),x=b-_,w=(y+m)/2;l.quadraticCurveTo(0,0,x*Yo(y),x*Xo(y)),l.lineTo(b*Yo(w),b*Xo(w)),l.lineTo(x*Yo(m),x*Xo(m))}else l.quadraticCurveTo(0,0,b*Yo(y),b*Xo(y)),l.arc(0,0,b,y,m);if(l.quadraticCurveTo(0,0,p*Yo(g),p*Xo(g)),l.closePath(),u)return l=null,u+""||null}return t&&(u.headRadius=function(e){return arguments.length?(t="function"==typeof e?e:us(+e),u):t}),u.radius=function(t){return arguments.length?(i=r="function"==typeof t?t:us(+t),u):i},u.sourceRadius=function(t){return arguments.length?(i="function"==typeof t?t:us(+t),u):i},u.targetRadius=function(t){return arguments.length?(r="function"==typeof t?t:us(+t),u):r},u.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:us(+t),u):o},u.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:us(+t),u):s},u.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:us(+t),u):a},u.source=function(t){return arguments.length?(e=t,u):e},u.target=function(t){return arguments.length?(n=t,u):n},u.context=function(t){return arguments.length?(l=null==t?null:t,u):l},u}var ys=Array.prototype.slice;function ms(t,e){return t-e}var _s=t=>()=>t;function xs(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=ws(t,e[i]))return n;return 0}function ws(t,e){for(var n=e[0],i=e[1],r=-1,o=0,s=t.length,a=s-1;o<s;a=o++){var l=t[o],u=l[0],c=l[1],h=t[a],f=h[0],d=h[1];if(ks(l,h,e))return 0;c>i!=d>i&&n<(f-u)*(i-c)/(d-c)+u&&(r=-r)}return r}function ks(t,e,n){var i,r,o,s;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(r=t[i=+(t[0]===e[0])],s=e[i],r<=(o=n[i])&&o<=s||s<=o&&o<=r)}function Es(){}var Ss=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function As(){var t=1,e=1,n=q,i=a;function r(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(ms);else{var i=p(t),r=i[0],s=i[1];e=I(r,s,e),e=$(Math.floor(r/e)*e,Math.floor(s/e)*e,e)}return e.map(function(e){return o(t,e)})}function o(n,r){var o=[],a=[];return function(n,i,r){var o,a,l,u,c,h=new Array,f=new Array;for(o=a=-1,Ss[(l=n[0]>=i)<<1].forEach(d);++o<t-1;)Ss[l|(l=n[o+1]>=i)<<1].forEach(d);for(Ss[l<<0].forEach(d);++a<e-1;){for(o=-1,Ss[(l=n[a*t+t]>=i)<<1|(u=n[a*t]>=i)<<2].forEach(d);++o<t-1;)c=u,Ss[l|(l=n[a*t+t+o+1]>=i)<<1|(u=n[a*t+o+1]>=i)<<2|c<<3].forEach(d);Ss[l|u<<3].forEach(d)}for(o=-1,Ss[(u=n[a*t]>=i)<<2].forEach(d);++o<t-1;)c=u,Ss[(u=n[a*t+o+1]>=i)<<2|c<<3].forEach(d);function d(t){var e,n,i=[t[0][0]+o,t[0][1]+a],l=[t[1][0]+o,t[1][1]+a],u=s(i),c=s(l);(e=f[u])?(n=h[c])?(delete f[e.end],delete h[n.start],e===n?(e.ring.push(l),r(e.ring)):h[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(l),f[e.end=c]=e):(e=h[c])?(n=f[u])?(delete h[e.start],delete f[n.end],e===n?(e.ring.push(l),r(e.ring)):h[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(i),h[e.start=u]=e):h[u]=f[c]={start:u,end:c,ring:[i,l]}}Ss[u<<3].forEach(d)}(n,r,function(t){i(t,n,r),function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}(t)>0?o.push([t]):a.push(t)}),a.forEach(function(t){for(var e,n=0,i=o.length;n<i;++n)if(-1!==xs((e=o[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:r,coordinates:o}}function s(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,i,r){n.forEach(function(n){var o,s=n[0],a=n[1],l=0|s,u=0|a,c=i[u*t+l];s>0&&s<t&&l===s&&(n[0]=s+(r-(o=i[u*t+l-1]))/(c-o)-.5),a>0&&a<e&&u===a&&(n[1]=a+(r-(o=i[(u-1)*t+l]))/(c-o)-.5)})}return r.contour=o,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.floor(n[0]),o=Math.floor(n[1]);if(!(i>=0&&o>=0))throw new Error("invalid size");return t=i,e=o,r},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?_s(ys.call(t)):_s(t),r):n},r.smooth=function(t){return arguments.length?(i=t?a:Es,r):i===a},r}function Ts(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<r;++s)for(var a=0,l=0;a<i+n;++a)a<i&&(l+=t.data[a+s*i]),a>=n&&(a>=o&&(l-=t.data[a-o+s*i]),e.data[a-n+s*i]=l/Math.min(a+1,i-1+o-a,o))}function Ms(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<i;++s)for(var a=0,l=0;a<r+n;++a)a<r&&(l+=t.data[s+a*i]),a>=n&&(a>=o&&(l-=t.data[s+(a-o)*i]),e.data[s+(a-n)*i]=l/Math.min(a+1,r-1+o-a,o))}function Os(t){return t[0]}function Cs(t){return t[1]}function Ns(){return 1}const Ls=Math.pow(2,-52),Ds=new Uint32Array(512);class Ps{static from(t,e=Hs,n=Us){const i=t.length,r=new Float64Array(2*i);for(let o=0;o<i;o++){const i=t[o];r[2*o]=e(i),r[2*o+1]=n(i)}return new Ps(r)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:i,_hullHash:r}=this,o=t.length>>1;let s=1/0,a=1/0,l=-1/0,u=-1/0;for(let S=0;S<o;S++){const e=t[2*S],n=t[2*S+1];e<s&&(s=e),n<a&&(a=n),e>l&&(l=e),n>u&&(u=n),this._ids[S]=S}const c=(s+l)/2,h=(a+u)/2;let f,d,p,g=1/0;for(let S=0;S<o;S++){const e=js(c,h,t[2*S],t[2*S+1]);e<g&&(f=S,g=e)}const v=t[2*f],b=t[2*f+1];g=1/0;for(let S=0;S<o;S++){if(S===f)continue;const e=js(v,b,t[2*S],t[2*S+1]);e<g&&e>0&&(d=S,g=e)}let y=t[2*d],m=t[2*d+1],_=1/0;for(let S=0;S<o;S++){if(S===f||S===d)continue;const e=Bs(v,b,y,m,t[2*S],t[2*S+1]);e<_&&(p=S,_=e)}let x=t[2*p],w=t[2*p+1];if(_===1/0){for(let i=0;i<o;i++)this._dists[i]=t[2*i]-t[0]||t[2*i+1]-t[1];Fs(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,i=-1/0;t<o;t++){const r=this._ids[t];this._dists[r]>i&&(e[n++]=r,i=this._dists[r])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Rs(v,b,y,m,x,w)){const t=d,e=y,n=m;d=p,y=x,m=w,p=t,x=e,w=n}const k=function(t,e,n,i,r,o){const s=n-t,a=i-e,l=r-t,u=o-e,c=s*s+a*a,h=l*l+u*u,f=.5/(s*u-a*l);return{x:t+(u*c-a*h)*f,y:e+(s*h-l*c)*f}}(v,b,y,m,x,w);this._cx=k.x,this._cy=k.y;for(let S=0;S<o;S++)this._dists[S]=js(t[2*S],t[2*S+1],k.x,k.y);Fs(this._ids,this._dists,0,o-1),this._hullStart=f;let E=3;n[f]=e[p]=d,n[d]=e[f]=p,n[p]=e[d]=f,i[f]=0,i[d]=1,i[p]=2,r.fill(-1),r[this._hashKey(v,b)]=f,r[this._hashKey(y,m)]=d,r[this._hashKey(x,w)]=p,this.trianglesLen=0,this._addTriangle(f,d,p,-1,-1,-1);for(let S,A,T=0;T<this._ids.length;T++){const o=this._ids[T],s=t[2*o],a=t[2*o+1];if(T>0&&Math.abs(s-S)<=Ls&&Math.abs(a-A)<=Ls)continue;if(S=s,A=a,o===f||o===d||o===p)continue;let l=0;for(let t=0,e=this._hashKey(s,a);t<this._hashSize&&(l=r[(e+t)%this._hashSize],-1===l||l===n[l]);t++);l=e[l];let u,c=l;for(;u=n[c],!Rs(s,a,t[2*c],t[2*c+1],t[2*u],t[2*u+1]);)if(c=u,c===l){c=-1;break}if(-1===c)continue;let h=this._addTriangle(c,o,n[c],-1,-1,i[c]);i[o]=this._legalize(h+2),i[c]=h,E++;let g=n[c];for(;u=n[g],Rs(s,a,t[2*g],t[2*g+1],t[2*u],t[2*u+1]);)h=this._addTriangle(g,o,u,i[o],-1,i[g]),i[o]=this._legalize(h+2),n[g]=g,E--,g=u;if(c===l)for(;u=e[c],Rs(s,a,t[2*u],t[2*u+1],t[2*c],t[2*c+1]);)h=this._addTriangle(u,o,c,-1,i[c],i[u]),this._legalize(h+2),i[u]=h,n[c]=c,E--,c=u;this._hullStart=e[o]=c,n[c]=e[g]=o,n[o]=g,r[this._hashKey(s,a)]=o,r[this._hashKey(t[2*c],t[2*c+1])]=c}this.hull=new Uint32Array(E);for(let S=0,A=this._hullStart;S<E;S++)this.hull[S]=A,A=n[A];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:i}=this;let r=0,o=0;for(;;){const s=n[t],a=t-t%3;if(o=a+(t+2)%3,-1===s){if(0===r)break;t=Ds[--r];continue}const l=s-s%3,u=l+(s+2)%3,c=e[o],h=e[t],f=e[a+(t+1)%3],d=e[u];if(qs(i[2*c],i[2*c+1],i[2*h],i[2*h+1],i[2*f],i[2*f+1],i[2*d],i[2*d+1])){e[t]=d,e[s]=c;const i=n[u];if(-1===i){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,i),this._link(s,n[o]),this._link(o,u);const a=l+(s+1)%3;r<Ds.length&&(Ds[r++]=a)}else{if(0===r)break;t=Ds[--r]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,i,r,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=e,this._triangles[s+2]=n,this._link(s,i),this._link(s+1,r),this._link(s+2,o),this.trianglesLen+=3,s}}function js(t,e,n,i){const r=t-n,o=e-i;return r*r+o*o}function Is(t,e,n,i,r,o){const s=(i-e)*(r-t),a=(n-t)*(o-e);return Math.abs(s-a)>=33306690738754716e-32*Math.abs(s+a)?s-a:0}function Rs(t,e,n,i,r,o){return(Is(r,o,t,e,n,i)||Is(t,e,n,i,r,o)||Is(n,i,r,o,t,e))<0}function qs(t,e,n,i,r,o,s,a){const l=t-s,u=e-a,c=n-s,h=i-a,f=r-s,d=o-a,p=c*c+h*h,g=f*f+d*d;return l*(h*g-p*d)-u*(c*g-p*f)+(l*l+u*u)*(c*d-h*f)<0}function Bs(t,e,n,i,r,o){const s=n-t,a=i-e,l=r-t,u=o-e,c=s*s+a*a,h=l*l+u*u,f=.5/(s*u-a*l),d=(u*c-a*h)*f,p=(s*h-l*c)*f;return d*d+p*p}function Fs(t,e,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const i=t[r],o=e[i];let s=r-1;for(;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=i}else{let r=n+1,o=i;zs(t,n+i>>1,r),e[t[n]]>e[t[i]]&&zs(t,n,i),e[t[r]]>e[t[i]]&&zs(t,r,i),e[t[n]]>e[t[r]]&&zs(t,n,r);const s=t[r],a=e[s];for(;;){do{r++}while(e[t[r]]<a);do{o--}while(e[t[o]]>a);if(o<r)break;zs(t,r,o)}t[n+1]=t[o],t[o]=s,i-r+1>=o-n?(Fs(t,e,r,i),Fs(t,e,n,o-1)):(Fs(t,e,n,o-1),Fs(t,e,r,i))}}function zs(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Hs(t){return t[0]}function Us(t){return t[1]}const Ws=1e-6;class Vs{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const i=(t=+t)+(n=+n),r=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${i},${r}`:(Math.abs(this._x1-i)>Ws||Math.abs(this._y1-r)>Ws)&&(this._+="L"+i+","+r),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=i},${this._y1=r}`)}rect(t,e,n,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class Ys{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Xs{constructor(t,[e,n,i,r]=[0,0,960,500]){if(!((i=+i)>=(e=+e)&&(r=+r)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=i,this.xmin=e,this.ymax=r,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:i}=this,r=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let f,d,p=0,g=0,v=n.length;p<v;p+=3,g+=2){const e=2*n[p],i=2*n[p+1],o=2*n[p+2],s=t[e],a=t[e+1],l=t[o],u=t[o+1],c=t[i]-s,h=t[i+1]-a,v=l-s,b=u-a,y=c*c+h*h,m=v*v+b*b,_=2*(c*b-h*v);if(_)if(Math.abs(_)<1e-8)f=(s+l)/2,d=(a+u)/2;else{const t=1/_;f=s+(b*y-h*m)*t,d=a+(c*m-v*y)*t}else f=(s+l)/2-1e8*b,d=(a+u)/2+1e8*v;r[g]=f,r[g+1]=d}let o,s,a,l=e[e.length-1],u=4*l,c=t[2*l],h=t[2*l+1];i.fill(0);for(let f=0;f<e.length;++f)l=e[f],o=u,s=c,a=h,u=4*l,c=t[2*l],h=t[2*l+1],i[o+2]=i[u]=a-h,i[o+3]=i[u+1]=c-s}render(t){const e=null==t?t=new Vs:void 0,{delaunay:{halfedges:n,inedges:i,hull:r},circumcenters:o,vectors:s}=this;if(r.length<=1)return null;for(let u=0,c=n.length;u<c;++u){const e=n[u];if(e<u)continue;const i=2*Math.floor(u/3),r=2*Math.floor(e/3);this._renderSegment(o[i],o[i+1],o[r],o[r+1],t)}let a,l=r[r.length-1];for(let u=0;u<r.length;++u){a=l,l=r[u];const e=2*Math.floor(i[l]/3),n=o[e],c=o[e+1],h=4*a,f=this._project(n,c,s[h+2],s[h+3]);f&&this._renderSegment(n,c,f[0],f[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Vs:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Vs:void 0,i=this._clip(t);if(null===i||!i.length)return;e.moveTo(i[0],i[1]);let r=i.length;for(;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(let o=2;o<r;o+=2)i[o]===i[o-2]&&i[o+1]===i[o-1]||e.lineTo(i[o],i[o+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Ys;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,i,r){let o;const s=this._regioncode(t,e),a=this._regioncode(n,i);0===s&&0===a?(r.moveTo(t,e),r.lineTo(n,i)):(o=this._clipSegment(t,e,n,i,s,a))&&(r.moveTo(o[0],o[1]),r.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let i=0,r=e.length;i<r;i+=2)for(let o=0,s=t.length;o<s;o+=2)if(e[i]==t[o]&&e[i+1]==t[o+1]&&e[(i+2)%r]==t[(o+s-2)%s]&&e[(i+3)%r]==t[(o+s-1)%s]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:i,triangles:r}}=this,o=n[t];if(-1===o)return null;const s=[];let a=o;do{const n=Math.floor(a/3);if(s.push(e[2*n],e[2*n+1]),a=a%3==2?a-2:a+1,r[a]!==t)break;a=i[a]}while(a!==o&&-1!==a);return s}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,i=4*t;return n[i]||n[i+1]?this._clipInfinite(t,e,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let i,r,o,s,a,l=null,u=e[n-2],c=e[n-1],h=this._regioncode(u,c);for(let f=0;f<n;f+=2)if(i=u,r=c,u=e[f],c=e[f+1],o=h,h=this._regioncode(u,c),0===o&&0===h)s=a,a=0,l?l.push(u,c):l=[u,c];else{let e,n,f,d,p;if(0===o){if(null===(e=this._clipSegment(i,r,u,c,o,h)))continue;[n,f,d,p]=e}else{if(null===(e=this._clipSegment(u,c,i,r,h,o)))continue;[d,p,n,f]=e,s=a,a=this._edgecode(n,f),s&&a&&this._edge(t,s,a,l,l.length),l?l.push(n,f):l=[n,f]}s=a,a=this._edgecode(d,p),s&&a&&this._edge(t,s,a,l,l.length),l?l.push(d,p):l=[d,p]}if(l)s=a,a=this._edgecode(l[0],l[1]),s&&a&&this._edge(t,s,a,l,l.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(t,e,n,i,r,o){for(;;){if(0===r&&0===o)return[t,e,n,i];if(r&o)return null;let s,a,l=r||o;8&l?(s=t+(n-t)*(this.ymax-e)/(i-e),a=this.ymax):4&l?(s=t+(n-t)*(this.ymin-e)/(i-e),a=this.ymin):2&l?(a=e+(i-e)*(this.xmax-t)/(n-t),s=this.xmax):(a=e+(i-e)*(this.xmin-t)/(n-t),s=this.xmin),r?r=this._regioncode(t=s,e=a):o=this._regioncode(n=s,i=a)}}_clipInfinite(t,e,n,i,r,o){let s,a=Array.from(e);if((s=this._project(a[0],a[1],n,i))&&a.unshift(s[0],s[1]),(s=this._project(a[a.length-2],a[a.length-1],r,o))&&a.push(s[0],s[1]),a=this._clipFinite(t,a))for(let l,u=0,c=a.length,h=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)l=h,h=this._edgecode(a[u],a[u+1]),l&&h&&(u=this._edge(t,l,h,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,e,n,i,r){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}i[r]===n&&i[r+1]===o||!this.contains(t,n,o)||(i.splice(r,0,n,o),r+=2)}if(i.length>4)for(let o=0;o<i.length;o+=2){const t=(o+2)%i.length,e=(o+4)%i.length;(i[o]===i[t]&&i[t]===i[e]||i[o+1]===i[t+1]&&i[t+1]===i[e+1])&&(i.splice(t,2),o-=2)}return r}_project(t,e,n,i){let r,o,s,a=1/0;if(i<0){if(e<=this.ymin)return null;(r=(this.ymin-e)/i)<a&&(s=this.ymin,o=t+(a=r)*n)}else if(i>0){if(e>=this.ymax)return null;(r=(this.ymax-e)/i)<a&&(s=this.ymax,o=t+(a=r)*n)}if(n>0){if(t>=this.xmax)return null;(r=(this.xmax-t)/n)<a&&(o=this.xmax,s=e+(a=r)*i)}else if(n<0){if(t<=this.xmin)return null;(r=(this.xmin-t)/n)<a&&(o=this.xmin,s=e+(a=r)*i)}return[o,s]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const Ks=2*Math.PI,Gs=Math.pow;function $s(t){return t[0]}function Zs(t){return t[1]}function Js(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Qs{static from(t,e=$s,n=Zs,i){return new Qs("length"in t?function(t,e,n,i){const r=t.length,o=new Float64Array(2*r);for(let s=0;s<r;++s){const r=t[s];o[2*s]=e.call(i,r,s,t),o[2*s+1]=n.call(i,r,s,t)}return o}(t,e,n,i):Float64Array.from(function*(t,e,n,i){let r=0;for(const o of t)yield e.call(i,o,r,t),yield n.call(i,o,r,t),++r}(t,e,n,i)))}constructor(t){this._delaunator=new Ps(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let i=0;i<e.length;i+=3){const t=2*e[i],r=2*e[i+1],o=2*e[i+2];if((n[o]-n[t])*(n[r+1]-n[t+1])-(n[r]-n[t])*(n[o+1]-n[t+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(t,e)=>e).sort((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]);const t=this.collinear[0],n=this.collinear[this.collinear.length-1],i=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],r=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]);for(let o=0,s=e.length/2;o<s;++o){const t=Js(e[2*o],e[2*o+1],r);e[2*o]=t[0],e[2*o+1]=t[1]}this._delaunator=new Ps(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let a=0,l=n.length;a<l;++a){const t=r[a%3==2?a-2:a+1];-1!==n[a]&&-1!==o[t]||(o[t]=a)}for(let a=0,l=i.length;a<l;++a)s[i[a]]=a;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],o[i[0]]=1,2===i.length&&(o[i[1]]=0))}voronoi(t){return new Xs(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:i,halfedges:r,triangles:o,collinear:s}=this;if(s){const e=s.indexOf(t);return e>0&&(yield s[e-1]),void(e<s.length-1&&(yield s[e+1]))}const a=e[t];if(-1===a)return;let l=a,u=-1;do{if(yield u=o[l],l=l%3==2?l-2:l+1,o[l]!==t)return;if(l=r[l],-1===l){const e=n[(i[t]+1)%n.length];return void(e!==u&&(yield e))}}while(l!==a)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const i=n;let r;for(;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}_step(t,e,n){const{inedges:i,hull:r,_hullIndex:o,halfedges:s,triangles:a,points:l}=this;if(-1===i[t]||!l.length)return(t+1)%(l.length>>1);let u=t,c=Gs(e-l[2*t],2)+Gs(n-l[2*t+1],2);const h=i[t];let f=h;do{let i=a[f];const h=Gs(e-l[2*i],2)+Gs(n-l[2*i+1],2);if(h<c&&(c=h,u=i),f=f%3==2?f-2:f+1,a[f]!==t)break;if(f=s[f],-1===f){if(f=r[(o[t]+1)%r.length],f!==i&&Gs(e-l[2*f],2)+Gs(n-l[2*f+1],2)<c)return f;break}}while(f!==h);return u}render(t){const e=null==t?t=new Vs:void 0,{points:n,halfedges:i,triangles:r}=this;for(let o=0,s=i.length;o<s;++o){const e=i[o];if(e<o)continue;const s=2*r[o],a=2*r[e];t.moveTo(n[s],n[s+1]),t.lineTo(n[a],n[a+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new Vs:void 0,{points:i}=this;for(let r=0,o=i.length;r<o;r+=2){const n=i[r],o=i[r+1];t.moveTo(n+e,o),t.arc(n,o,e,0,Ks)}return n&&n.value()}renderHull(t){const e=null==t?t=new Vs:void 0,{hull:n,points:i}=this,r=2*n[0],o=n.length;t.moveTo(i[r],i[r+1]);for(let s=1;s<o;++s){const e=2*n[s];t.lineTo(i[e],i[e+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Ys;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Vs:void 0,{points:i,triangles:r}=this,o=2*r[t*=3],s=2*r[t+1],a=2*r[t+2];return e.moveTo(i[o],i[o+1]),e.lineTo(i[s],i[s+1]),e.lineTo(i[a],i[a+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Ys;return this.renderTriangle(t,e),e.value()}}var ta={},ea={};function na(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function ia(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function ra(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function oa(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,s=0,a=0,l=o<=0,u=!1;function c(){if(l)return ea;if(u)return u=!1,ta;var e,i,r=s;if(34===t.charCodeAt(r)){for(;s++<o&&34!==t.charCodeAt(s)||34===t.charCodeAt(++s););return(e=s)>=o?l=!0:10===(i=t.charCodeAt(s++))?u=!0:13===i&&(u=!0,10===t.charCodeAt(s)&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<o;){if(10===(i=t.charCodeAt(e=s++)))u=!0;else if(13===i)u=!0,10===t.charCodeAt(s)&&++s;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=c())!==ea;){for(var h=[];i!==ta&&i!==ea;)h.push(i),i=c();e&&null==(h=e(h,a++))||r.push(h)}return r}function r(e,n){return e.map(function(e){return n.map(function(t){return s(e[t])}).join(t)})}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?function(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+ra(-t,6):t>9999?"+"+ra(t,6):ra(t,4)}(t.getUTCFullYear())+"-"+ra(t.getUTCMonth()+1,2)+"-"+ra(t.getUTCDate(),2)+(r?"T"+ra(e,2)+":"+ra(n,2)+":"+ra(i,2)+"."+ra(r,3)+"Z":i?"T"+ra(e,2)+":"+ra(n,2)+":"+ra(i,2)+"Z":n||e?"T"+ra(e,2)+":"+ra(n,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=na(t);return function(i,r){return e(n(i),r,t)}}(t,e):na(t)});return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=ia(e)),[n.map(s).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ia(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:s}}var sa=oa(","),aa=sa.parse,la=sa.parseRows,ua=sa.format,ca=sa.formatBody,ha=sa.formatRows,fa=sa.formatRow,da=sa.formatValue,pa=oa("\t"),ga=pa.parse,va=pa.parseRows,ba=pa.format,ya=pa.formatBody,ma=pa.formatRows,_a=pa.formatRow,xa=pa.formatValue;const wa=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function ka(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Ea(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Sa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Aa(t,e){return fetch(t,e).then(Sa)}function Ta(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),Aa(e,n).then(function(e){return t(e,i)})}}var Ma=Ta(aa),Oa=Ta(ga);function Ca(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Na(t){return(e,n)=>Aa(e,n).then(e=>(new DOMParser).parseFromString(e,t))}var La=Na("application/xml"),Da=Na("text/html"),Pa=Na("image/svg+xml");function ja(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,l,u,c,h,f,d=t._root,p={data:i},g=t._x0,v=t._y0,b=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((u=e>=(o=(g+b)/2))?g=o:b=o,(c=n>=(s=(v+y)/2))?v=s:y=s,r=d,!(d=d[h=c<<1|u]))return r[h]=p,t;if(a=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===a&&n===l)return p.next=d,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(g+b)/2))?g=o:b=o,(c=n>=(s=(v+y)/2))?v=s:y=s}while((h=c<<1|u)==(f=(l>=s)<<1|a>=o));return r[f]=d,r[h]=p,t}function Ia(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Ra(t){return t[0]}function qa(t){return t[1]}function Ba(t,e,n){var i=new Fa(null==e?Ra:e,null==n?qa:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Fa(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function za(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ha=Ba.prototype=Fa.prototype;function Ua(t){return function(){return t}}function Wa(t){return 1e-6*(t()-.5)}function Va(t){return t.x+t.vx}function Ya(t){return t.y+t.vy}function Xa(t){return t.index}function Ka(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}Ha.copy=function(){var t,e,n=new Fa(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=za(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=za(e));return n},Ha.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return ja(this.cover(e,n),e,n,t)},Ha.addAll=function(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>h&&(h=r));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<o;++n)ja(this,s[n],a[n],t[n]);return this},Ha.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var s,a,l=r-n||1,u=this._root;n>t||t>=r||i>e||e>=o;)switch(a=(e<i)<<1|t<n,(s=new Array(4))[a]=u,u=s,l*=2,a){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Ha.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Ha.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ha.find=function(t,e,n){var i,r,o,s,a,l,u,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Ia(g,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>f||(o=l.y0)>d||(s=l.x1)<c||(a=l.y1)<h))if(g.length){var v=(r+s)/2,b=(o+a)/2;p.push(new Ia(g[3],v,b,s,a),new Ia(g[2],r,b,v,a),new Ia(g[1],v,o,s,b),new Ia(g[0],r,o,v,b)),(u=(e>=b)<<1|t>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=t-+this._x.call(null,g.data),m=e-+this._y.call(null,g.data),_=y*y+m*m;if(_<n){var x=Math.sqrt(n=_);c=t-x,h=e-x,f=t+x,d=e+x,i=g.data}}return i},Ha.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,l,u,c,h,f,d=this._root,p=this._x0,g=this._y0,v=this._x1,b=this._y1;if(!d)return this;if(d.length)for(;;){if((u=o>=(a=(p+v)/2))?p=a:v=a,(c=s>=(l=(g+b)/2))?g=l:b=l,e=d,!(d=d[h=c<<1|u]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=r,this)},Ha.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ha.root=function(){return this._root},Ha.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Ha.visit=function(t){var e,n,i,r,o,s,a=[],l=this._root;for(l&&a.push(new Ia(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&l.length){var u=(i+o)/2,c=(r+s)/2;(n=l[3])&&a.push(new Ia(n,u,c,o,s)),(n=l[2])&&a.push(new Ia(n,i,c,u,s)),(n=l[1])&&a.push(new Ia(n,u,r,o,c)),(n=l[0])&&a.push(new Ia(n,i,r,u,c))}return this},Ha.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new Ia(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,l=e.x1,u=e.y1,c=(s+l)/2,h=(a+u)/2;(o=r[0])&&n.push(new Ia(o,s,a,c,h)),(o=r[1])&&n.push(new Ia(o,c,a,l,h)),(o=r[2])&&n.push(new Ia(o,s,h,c,u)),(o=r[3])&&n.push(new Ia(o,c,h,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ha.x=function(t){return arguments.length?(this._x=t,this):this._x},Ha.y=function(t){return arguments.length?(this._y=t,this):this._y};const Ga=4294967296;function $a(t){return t.x}function Za(t){return t.y}var Ja=Math.PI*(3-Math.sqrt(5));function Qa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function tl(t){return(t=Qa(Math.abs(t)))?t[1]:NaN}var el,nl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function il(t){if(!(e=nl.exec(t)))throw new Error("invalid format: "+t);var e;return new rl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function rl(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ol(t,e){var n=Qa(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}il.prototype=rl.prototype,rl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var sl={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ol(100*t,e),r:ol,s:function(t,e){var n=Qa(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(el=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Qa(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function al(t){return t}var ll,ul=Array.prototype.map,cl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hl(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?al:(e=ul.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],s=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?al:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(ul.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=il(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,b=t.trim,y=t.type;"n"===y?(g=!0,y="g"):sl[y]||(void 0===v&&(v=12),b=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var m="$"===f?r:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===f?o:/[%p]/.test(y)?l:"",x=sl[y],w=/[defgprs%]/.test(y);function k(t){var r,o,l,f=m,k=_;if("c"===y)k=x(t)+k,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),v),b&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==h&&(E=!1),f=(E?"("===h?h:u:"-"===h||"("===h?"":h)+f,k=("s"===y?cl[8+el/3]:"")+k+(E&&"("===h?")":""),w)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){k=(46===l?s+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}g&&!d&&(t=i(t,1/0));var S=f.length+t.length+k.length,A=S<p?new Array(p-S+1).join(e):"";switch(g&&d&&(t=i(A+t,A.length?p-k.length:1/0),A=""),n){case"<":t=f+t+k+A;break;case"=":t=f+A+t+k;break;case"^":t=A.slice(0,S=A.length>>1)+f+t+k+A.slice(S);break;default:t=A+f+t+k}return a(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=il(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(tl(e)/3))),r=Math.pow(10,-i),o=cl[8+i/3];return function(t){return n(r*t)+o}}}}function fl(e){return ll=hl(e),t.format=ll.format,t.formatPrefix=ll.formatPrefix,ll}function dl(t){return Math.max(0,-tl(Math.abs(t)))}function pl(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(tl(e)/3)))-tl(Math.abs(t)))}function gl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tl(e)-tl(t))+1}t.format=void 0,t.formatPrefix=void 0,fl({thousands:",",grouping:[3],currency:["$",""]});var vl=1e-6,bl=1e-12,yl=Math.PI,ml=yl/2,_l=yl/4,xl=2*yl,wl=180/yl,kl=yl/180,El=Math.abs,Sl=Math.atan,Al=Math.atan2,Tl=Math.cos,Ml=Math.ceil,Ol=Math.exp,Cl=Math.hypot,Nl=Math.log,Ll=Math.pow,Dl=Math.sin,Pl=Math.sign||function(t){return t>0?1:t<0?-1:0},jl=Math.sqrt,Il=Math.tan;function Rl(t){return t>1?0:t<-1?yl:Math.acos(t)}function ql(t){return t>1?ml:t<-1?-ml:Math.asin(t)}function Bl(t){return(t=Dl(t/2))*t}function Fl(){}function zl(t,e){t&&Ul.hasOwnProperty(t.type)&&Ul[t.type](t,e)}var Hl={Feature:function(t,e){zl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)zl(n[i].geometry,e)}},Ul={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)e.point((t=n[i])[0],t[1],t[2])},LineString:function(t,e){Wl(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Wl(n[i],e,0)},Polygon:function(t,e){Vl(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Vl(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)zl(n[i],e)}};function Wl(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)e.point((i=t[r])[0],i[1],i[2]);e.lineEnd()}function Vl(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Wl(t[n],e,1);e.polygonEnd()}function Yl(t,e){t&&Hl.hasOwnProperty(t.type)?Hl[t.type](t,e):zl(t,e)}var Xl,Kl,Gl,$l,Zl,Jl,Ql,tu,eu,nu,iu,ru,ou,su,au,lu,uu=new g,cu=new g,hu={point:Fl,lineStart:Fl,lineEnd:Fl,polygonStart:function(){uu=new g,hu.lineStart=fu,hu.lineEnd=du},polygonEnd:function(){var t=+uu;cu.add(t<0?xl+t:t),this.lineStart=this.lineEnd=this.point=Fl},sphere:function(){cu.add(xl)}};function fu(){hu.point=pu}function du(){gu(Xl,Kl)}function pu(t,e){hu.point=gu,Xl=t,Kl=e,Gl=t*=kl,$l=Tl(e=(e*=kl)/2+_l),Zl=Dl(e)}function gu(t,e){var n=(t*=kl)-Gl,i=n>=0?1:-1,r=i*n,o=Tl(e=(e*=kl)/2+_l),s=Dl(e),a=Zl*s,l=$l*o+a*Tl(r),u=a*i*Dl(r);uu.add(Al(u,l)),Gl=t,$l=o,Zl=s}function vu(t){return[Al(t[1],t[0]),ql(t[2])]}function bu(t){var e=t[0],n=t[1],i=Tl(n);return[i*Tl(e),i*Dl(e),Dl(n)]}function yu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function mu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function _u(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xu(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function wu(t){var e=jl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ku,Eu,Su,Au,Tu,Mu,Ou,Cu,Nu,Lu,Du,Pu,ju,Iu,Ru,qu,Bu={point:Fu,lineStart:Hu,lineEnd:Uu,polygonStart:function(){Bu.point=Wu,Bu.lineStart=Vu,Bu.lineEnd=Yu,su=new g,hu.polygonStart()},polygonEnd:function(){hu.polygonEnd(),Bu.point=Fu,Bu.lineStart=Hu,Bu.lineEnd=Uu,uu<0?(Jl=-(tu=180),Ql=-(eu=90)):su>vl?eu=90:su<-1e-6&&(Ql=-90),lu[0]=Jl,lu[1]=tu},sphere:function(){Jl=-(tu=180),Ql=-(eu=90)}};function Fu(t,e){au.push(lu=[Jl=t,tu=t]),e<Ql&&(Ql=e),e>eu&&(eu=e)}function zu(t,e){var n=bu([t*kl,e*kl]);if(ou){var i=mu(ou,n),r=mu([i[1],-i[0],0],i);wu(r),r=vu(r);var o,s=t-nu,a=s>0?1:-1,l=r[0]*wl*a,u=El(s)>180;u^(a*nu<l&&l<a*t)?(o=r[1]*wl)>eu&&(eu=o):u^(a*nu<(l=(l+360)%360-180)&&l<a*t)?(o=-r[1]*wl)<Ql&&(Ql=o):(e<Ql&&(Ql=e),e>eu&&(eu=e)),u?t<nu?Xu(Jl,t)>Xu(Jl,tu)&&(tu=t):Xu(t,tu)>Xu(Jl,tu)&&(Jl=t):tu>=Jl?(t<Jl&&(Jl=t),t>tu&&(tu=t)):t>nu?Xu(Jl,t)>Xu(Jl,tu)&&(tu=t):Xu(t,tu)>Xu(Jl,tu)&&(Jl=t)}else au.push(lu=[Jl=t,tu=t]);e<Ql&&(Ql=e),e>eu&&(eu=e),ou=n,nu=t}function Hu(){Bu.point=zu}function Uu(){lu[0]=Jl,lu[1]=tu,Bu.point=Fu,ou=null}function Wu(t,e){if(ou){var n=t-nu;su.add(El(n)>180?n+(n>0?360:-360):n)}else iu=t,ru=e;hu.point(t,e),zu(t,e)}function Vu(){hu.lineStart()}function Yu(){Wu(iu,ru),hu.lineEnd(),El(su)>vl&&(Jl=-(tu=180)),lu[0]=Jl,lu[1]=tu,ou=null}function Xu(t,e){return(e-=t)<0?e+360:e}function Ku(t,e){return t[0]-e[0]}function Gu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var $u={sphere:Fl,point:Zu,lineStart:Qu,lineEnd:nc,polygonStart:function(){$u.lineStart=ic,$u.lineEnd=rc},polygonEnd:function(){$u.lineStart=Qu,$u.lineEnd=nc}};function Zu(t,e){t*=kl;var n=Tl(e*=kl);Ju(n*Tl(t),n*Dl(t),Dl(e))}function Ju(t,e,n){++ku,Su+=(t-Su)/ku,Au+=(e-Au)/ku,Tu+=(n-Tu)/ku}function Qu(){$u.point=tc}function tc(t,e){t*=kl;var n=Tl(e*=kl);Iu=n*Tl(t),Ru=n*Dl(t),qu=Dl(e),$u.point=ec,Ju(Iu,Ru,qu)}function ec(t,e){t*=kl;var n=Tl(e*=kl),i=n*Tl(t),r=n*Dl(t),o=Dl(e),s=Al(jl((s=Ru*o-qu*r)*s+(s=qu*i-Iu*o)*s+(s=Iu*r-Ru*i)*s),Iu*i+Ru*r+qu*o);Eu+=s,Mu+=s*(Iu+(Iu=i)),Ou+=s*(Ru+(Ru=r)),Cu+=s*(qu+(qu=o)),Ju(Iu,Ru,qu)}function nc(){$u.point=Zu}function ic(){$u.point=oc}function rc(){sc(Pu,ju),$u.point=Zu}function oc(t,e){Pu=t,ju=e,t*=kl,e*=kl,$u.point=sc;var n=Tl(e);Iu=n*Tl(t),Ru=n*Dl(t),qu=Dl(e),Ju(Iu,Ru,qu)}function sc(t,e){t*=kl;var n=Tl(e*=kl),i=n*Tl(t),r=n*Dl(t),o=Dl(e),s=Ru*o-qu*r,a=qu*i-Iu*o,l=Iu*r-Ru*i,u=Cl(s,a,l),c=ql(u),h=u&&-c/u;Nu.add(h*s),Lu.add(h*a),Du.add(h*l),Eu+=c,Mu+=c*(Iu+(Iu=i)),Ou+=c*(Ru+(Ru=r)),Cu+=c*(qu+(qu=o)),Ju(Iu,Ru,qu)}function ac(t){return function(){return t}}function lc(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function uc(t,e){return[El(t)>yl?t+Math.round(-t/xl)*xl:t,e]}function cc(t,e,n){return(t%=xl)?e||n?lc(fc(t),dc(e,n)):fc(t):e||n?dc(e,n):uc}function hc(t){return function(e,n){return[(e+=t)>yl?e-xl:e<-yl?e+xl:e,n]}}function fc(t){var e=hc(t);return e.invert=hc(-t),e}function dc(t,e){var n=Tl(t),i=Dl(t),r=Tl(e),o=Dl(e);function s(t,e){var s=Tl(e),a=Tl(t)*s,l=Dl(t)*s,u=Dl(e),c=u*n+a*i;return[Al(l*r-c*o,a*n-u*i),ql(c*r+l*o)]}return s.invert=function(t,e){var s=Tl(e),a=Tl(t)*s,l=Dl(t)*s,u=Dl(e),c=u*r-l*o;return[Al(l*r+u*o,a*n+c*i),ql(c*n-a*i)]},s}function pc(t){function e(e){return(e=t(e[0]*kl,e[1]*kl))[0]*=wl,e[1]*=wl,e}return t=cc(t[0]*kl,t[1]*kl,t.length>2?t[2]*kl:0),e.invert=function(e){return(e=t.invert(e[0]*kl,e[1]*kl))[0]*=wl,e[1]*=wl,e},e}function gc(t,e,n,i,r,o){if(n){var s=Tl(e),a=Dl(e),l=i*n;null==r?(r=e+i*xl,o=e-l/2):(r=vc(s,r),o=vc(s,o),(i>0?r<o:r>o)&&(r+=i*xl));for(var u,c=r;i>0?c>o:c<o;c-=l)u=vu([s,-a*Tl(c),-a*Dl(c)]),t.point(u[0],u[1])}}function vc(t,e){(e=bu(e))[0]-=t,wu(e);var n=Rl(-e[1]);return((-e[2]<0?-n:n)+xl-vl)%xl}function bc(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Fl,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function yc(t,e){return El(t[0]-e[0])<vl&&El(t[1]-e[1])<vl}function mc(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function _c(t,e,n,i,r){var o,s,a=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(yc(i,s)){if(!i[2]&&!s[2]){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}s[0]+=2e-6}a.push(n=new mc(i,t,null,!0)),l.push(n.o=new mc(i,null,n,!1)),a.push(n=new mc(s,t,null,!1)),l.push(n.o=new mc(s,null,n,!0))}}),a.length){for(l.sort(e),xc(a),xc(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var u,c,h=a[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,s=u.length;o<s;++o)r.point((c=u[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(d)for(o=(u=f.p.z).length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,d=!d}while(!f.v);r.lineEnd()}}}function xc(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function wc(t){return El(t[0])<=yl?t[0]:Pl(t[0])*((El(t[0])+yl)%xl-yl)}function kc(t,e){var n=wc(e),i=e[1],r=Dl(i),o=[Dl(n),-Tl(n),0],s=0,a=0,l=new g;1===r?i=ml+vl:-1===r&&(i=-ml-vl);for(var u=0,c=t.length;u<c;++u)if(f=(h=t[u]).length)for(var h,f,d=h[f-1],p=wc(d),v=d[1]/2+_l,b=Dl(v),y=Tl(v),m=0;m<f;++m,p=x,b=k,y=E,d=_){var _=h[m],x=wc(_),w=_[1]/2+_l,k=Dl(w),E=Tl(w),S=x-p,A=S>=0?1:-1,T=A*S,M=T>yl,O=b*k;if(l.add(Al(O*A*Dl(T),y*E+O*Tl(T))),s+=M?S+A*xl:S,M^p>=n^x>=n){var C=mu(bu(d),bu(_));wu(C);var N=mu(o,C);wu(N);var L=(M^S>=0?-1:1)*ql(N[2]);(i>L||i===L&&(C[0]||C[1]))&&(a+=M^S>=0?1:-1)}}return(s<-1e-6||s<vl&&l<-1e-12)^1&a}function Ec(t,e,n,i){return function(r){var o,s,a,l=e(r),u=bc(),c=e(u),h=!1,f={point:d,lineStart:g,lineEnd:v,polygonStart:function(){f.point=b,f.lineStart=y,f.lineEnd=m,s=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=v,s=X(s);var t=kc(o,i);s.length?(h||(r.polygonStart(),h=!0),_c(s,Ac,t,n,r)):t&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),s=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(e,n){t(e,n)&&r.point(e,n)}function p(t,e){l.point(t,e)}function g(){f.point=p,l.lineStart()}function v(){f.point=d,l.lineEnd()}function b(t,e){a.push([t,e]),c.point(t,e)}function y(){c.lineStart(),a=[]}function m(){b(a[0][0],a[0][1]),c.lineEnd();var t,e,n,i,l=c.clean(),f=u.result(),d=f.length;if(a.pop(),o.push(a),a=null,d)if(1&l){if((e=(n=f[0]).length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else d>1&&2&l&&f.push(f.pop().concat(f.shift())),s.push(f.filter(Sc))}return f}}function Sc(t){return t.length>1}function Ac(t,e){return((t=t.x)[0]<0?t[1]-ml-vl:ml-t[1])-((e=e.x)[0]<0?e[1]-ml-vl:ml-e[1])}uc.invert=uc;var Tc=Ec(function(){return!0},function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?yl:-yl,l=El(o-n);El(l-yl)<vl?(t.point(n,i=(i+s)/2>0?ml:-ml),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=yl&&(El(n-r)<vl&&(n-=r*vl),El(o-a)<vl&&(o-=a*vl),i=function(t,e,n,i){var r,o,s=Dl(t-n);return El(s)>vl?Sl((Dl(e)*(o=Tl(i))*Dl(n)-Dl(i)*(r=Tl(e))*Dl(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)i.point(-yl,r=n*ml),i.point(0,r),i.point(yl,r),i.point(yl,0),i.point(yl,-r),i.point(0,-r),i.point(-yl,-r),i.point(-yl,0),i.point(-yl,r);else if(El(t[0]-e[0])>vl){var o=t[0]<e[0]?yl:-yl;i.point(-o,r=n*o/2),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-yl,-ml]);function Mc(t){var e=Tl(t),n=6*kl,i=e>0,r=El(e)>vl;function o(t,n){return Tl(t)*Tl(n)>e}function s(t,n,i){var r=[1,0,0],o=mu(bu(t),bu(n)),s=yu(o,o),a=o[0],l=s-a*a;if(!l)return!i&&t;var u=e*s/l,c=-e*a/l,h=mu(r,o),f=xu(r,u);_u(f,xu(o,c));var d=h,p=yu(f,d),g=yu(d,d),v=p*p-g*(yu(f,f)-1);if(!(v<0)){var b=jl(v),y=xu(d,(-p-b)/g);if(_u(y,f),y=vu(y),!i)return y;var m,_=t[0],x=n[0],w=t[1],k=n[1];x<_&&(m=_,_=x,x=m);var E=x-_,S=El(E-yl)<vl;if(!S&&k<w&&(m=w,w=k,k=m),S||E<vl?S?w+k>0^y[1]<(El(y[0]-_)<vl?w:k):w<=y[1]&&y[1]<=k:E>yl^(_<=y[0]&&y[0]<=x)){var A=xu(d,(-p+b)/g);return _u(A,f),[y,vu(A)]}}}function a(e,n){var r=i?t:yl-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return Ec(o,function(t){var e,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,f){var d,p=[h,f],g=o(h,f),v=i?g?0:a(h,f):g?a(h+(h<0?yl:-yl),f):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(!(d=s(e,p))||yc(e,d)||yc(p,d))&&(p[2]=1),g!==l)c=0,g?(t.lineStart(),d=s(p,e),t.point(d[0],d[1])):(d=s(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(r&&e&&i^g){var b;v&n||!(b=s(p,e,!0))||(c=0,i?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||e&&yc(e,p)||t.point(p[0],p[1]),e=p,l=g,n=v},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}},function(e,i,r,o){gc(o,t,n,r,e,i)},i?[0,-t]:[-yl,t-yl])}var Oc,Cc,Nc,Lc,Dc=1e9,Pc=-Dc;function jc(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,u){var c=0,h=0;if(null==r||(c=s(r,a))!==(h=s(o,a))||l(r,o)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else u.point(o[0],o[1])}function s(i,r){return El(i[0]-t)<vl?r>0?0:3:El(i[0]-n)<vl?r>0?2:1:El(i[1]-e)<vl?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var l,u,c,h,f,d,p,g,v,b,y,m=s,_=bc(),x={point:w,lineStart:function(){x.point=k,u&&u.push(c=[]),b=!0,v=!1,p=g=NaN},lineEnd:function(){l&&(k(h,f),d&&v&&_.rejoin(),l.push(_.result())),x.point=w,v&&m.lineEnd()},polygonStart:function(){m=_,l=[],u=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=u.length;n<r;++n)for(var o,s,a=u[n],l=1,c=a.length,h=a[0],f=h[0],d=h[1];l<c;++l)o=f,s=d,f=(h=a[l])[0],d=h[1],s<=i?d>i&&(f-o)*(i-s)>(d-s)*(t-o)&&++e:d<=i&&(f-o)*(i-s)<(d-s)*(t-o)&&--e;return e}(),n=y&&e,r=(l=X(l)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&_c(l,a,e,o,s),s.polygonEnd()),m=s,l=u=c=null}};function w(t,e){r(t,e)&&m.point(t,e)}function k(o,s){var a=r(o,s);if(u&&c.push([o,s]),b)h=o,f=s,d=a,b=!1,a&&(m.lineStart(),m.point(o,s));else if(a&&v)m.point(o,s);else{var l=[p=Math.max(Pc,Math.min(Dc,p)),g=Math.max(Pc,Math.min(Dc,g))],_=[o=Math.max(Pc,Math.min(Dc,o)),s=Math.max(Pc,Math.min(Dc,s))];!function(t,e,n,i,r,o){var s,a=t[0],l=t[1],u=0,c=1,h=e[0]-a,f=e[1]-l;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<u)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>u&&(u=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>u&&(u=s)}else if(h>0){if(s<u)return;s<c&&(c=s)}if(s=i-l,f||!(s>0)){if(s/=f,f<0){if(s<u)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>u&&(u=s)}if(s=o-l,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>u&&(u=s)}else if(f>0){if(s<u)return;s<c&&(c=s)}return u>0&&(t[0]=a+u*h,t[1]=l+u*f),c<1&&(e[0]=a+c*h,e[1]=l+c*f),!0}}}}}(l,_,t,e,n,i)?a&&(m.lineStart(),m.point(o,s),y=!1):(v||(m.lineStart(),m.point(l[0],l[1])),m.point(_[0],_[1]),a||m.lineEnd(),y=!1)}p=o,g=s,v=a}return x}}var Ic={sphere:Fl,point:Fl,lineStart:function(){Ic.point=qc,Ic.lineEnd=Rc},lineEnd:Fl,polygonStart:Fl,polygonEnd:Fl};function Rc(){Ic.point=Ic.lineEnd=Fl}function qc(t,e){Cc=t*=kl,Nc=Dl(e*=kl),Lc=Tl(e),Ic.point=Bc}function Bc(t,e){t*=kl;var n=Dl(e*=kl),i=Tl(e),r=El(t-Cc),o=Tl(r),s=i*Dl(r),a=Lc*n-Nc*i*o,l=Nc*n+Lc*i*o;Oc.add(Al(jl(s*s+a*a),l)),Cc=t,Nc=n,Lc=i}function Fc(t){return Oc=new g,Yl(t,Ic),+Oc}var zc=[null,null],Hc={type:"LineString",coordinates:zc};function Uc(t,e){return zc[0]=t,zc[1]=e,Fc(Hc)}var Wc={Feature:function(t,e){return Yc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Yc(n[i].geometry,e))return!0;return!1}},Vc={Sphere:function(){return!0},Point:function(t,e){return Xc(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Xc(n[i],e))return!0;return!1},LineString:function(t,e){return Kc(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Kc(n[i],e))return!0;return!1},Polygon:function(t,e){return Gc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Gc(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Yc(n[i],e))return!0;return!1}};function Yc(t,e){return!(!t||!Vc.hasOwnProperty(t.type))&&Vc[t.type](t,e)}function Xc(t,e){return 0===Uc(t,e)}function Kc(t,e){for(var n,i,r,o=0,s=t.length;o<s;o++){if(0===(i=Uc(t[o],e)))return!0;if(o>0&&(r=Uc(t[o],t[o-1]))>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<bl*r)return!0;n=i}return!1}function Gc(t,e){return!!kc(t.map($c),Zc(e))}function $c(t){return(t=t.map(Zc)).pop(),t}function Zc(t){return[t[0]*kl,t[1]*kl]}function Jc(t,e,n){var i=$(t,e-vl,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Qc(t,e,n){var i=$(t,e-vl,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function th(){var t,e,n,i,r,o,s,a,l,u,c,h,f=10,d=f,p=90,g=360,v=2.5;function b(){return{type:"MultiLineString",coordinates:y()}}function y(){return $(Ml(i/p)*p,n,p).map(c).concat($(Ml(a/g)*g,s,g).map(h)).concat($(Ml(e/f)*f,t,f).filter(function(t){return El(t%p)>vl}).map(l)).concat($(Ml(o/d)*d,r,d).filter(function(t){return El(t%g)>vl}).map(u))}return b.lines=function(){return y().map(function(t){return{type:"LineString",coordinates:t}})},b.outline=function(){return{type:"Polygon",coordinates:[c(i).concat(h(s).slice(1),c(n).reverse().slice(1),h(a).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(a=+t[0][1],s=+t[1][1],(i=+t[0][0])>(n=+t[1][0])&&(t=i,i=n,n=t),a>s&&(t=a,a=s,s=t),b.precision(v)):[[i,a],[n,s]]},b.extentMinor=function(n){return arguments.length?(o=+n[0][1],r=+n[1][1],(e=+n[0][0])>(t=+n[1][0])&&(n=e,e=t,t=n),o>r&&(n=o,o=r,r=n),b.precision(v)):[[e,o],[t,r]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],b):[p,g]},b.stepMinor=function(t){return arguments.length?(f=+t[0],d=+t[1],b):[f,d]},b.precision=function(f){return arguments.length?(v=+f,l=Jc(o,r,90),u=Qc(e,t,v),c=Jc(a,s,90),h=Qc(i,n,v),b):v},b.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}var eh,nh,ih,rh,oh=t=>t,sh=new g,ah=new g,lh={point:Fl,lineStart:Fl,lineEnd:Fl,polygonStart:function(){lh.lineStart=uh,lh.lineEnd=fh},polygonEnd:function(){lh.lineStart=lh.lineEnd=lh.point=Fl,sh.add(El(ah)),ah=new g},result:function(){var t=sh/2;return sh=new g,t}};function uh(){lh.point=ch}function ch(t,e){lh.point=hh,eh=ih=t,nh=rh=e}function hh(t,e){ah.add(rh*t-ih*e),ih=t,rh=e}function fh(){hh(eh,nh)}var dh,ph,gh,vh,bh=1/0,yh=bh,mh=-bh,_h=mh,xh={point:function(t,e){t<bh&&(bh=t),t>mh&&(mh=t),e<yh&&(yh=e),e>_h&&(_h=e)},lineStart:Fl,lineEnd:Fl,polygonStart:Fl,polygonEnd:Fl,result:function(){var t=[[bh,yh],[mh,_h]];return mh=_h=-(yh=bh=1/0),t}},wh=0,kh=0,Eh=0,Sh=0,Ah=0,Th=0,Mh=0,Oh=0,Ch=0,Nh={point:Lh,lineStart:Dh,lineEnd:Ih,polygonStart:function(){Nh.lineStart=Rh,Nh.lineEnd=qh},polygonEnd:function(){Nh.point=Lh,Nh.lineStart=Dh,Nh.lineEnd=Ih},result:function(){var t=Ch?[Mh/Ch,Oh/Ch]:Th?[Sh/Th,Ah/Th]:Eh?[wh/Eh,kh/Eh]:[NaN,NaN];return wh=kh=Eh=Sh=Ah=Th=Mh=Oh=Ch=0,t}};function Lh(t,e){wh+=t,kh+=e,++Eh}function Dh(){Nh.point=Ph}function Ph(t,e){Nh.point=jh,Lh(gh=t,vh=e)}function jh(t,e){var n=t-gh,i=e-vh,r=jl(n*n+i*i);Sh+=r*(gh+t)/2,Ah+=r*(vh+e)/2,Th+=r,Lh(gh=t,vh=e)}function Ih(){Nh.point=Lh}function Rh(){Nh.point=Bh}function qh(){Fh(dh,ph)}function Bh(t,e){Nh.point=Fh,Lh(dh=gh=t,ph=vh=e)}function Fh(t,e){var n=t-gh,i=e-vh,r=jl(n*n+i*i);Sh+=r*(gh+t)/2,Ah+=r*(vh+e)/2,Th+=r,Mh+=(r=vh*t-gh*e)*(gh+t),Oh+=r*(vh+e),Ch+=3*r,Lh(gh=t,vh=e)}function zh(t){this._context=t}zh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,xl)}},result:Fl};var Hh,Uh,Wh,Vh,Yh,Xh=new g,Kh={point:Fl,lineStart:function(){Kh.point=Gh},lineEnd:function(){Hh&&$h(Uh,Wh),Kh.point=Fl},polygonStart:function(){Hh=!0},polygonEnd:function(){Hh=null},result:function(){var t=+Xh;return Xh=new g,t}};function Gh(t,e){Kh.point=$h,Uh=Vh=t,Wh=Yh=e}function $h(t,e){Xh.add(jl((Vh-=t)*Vh+(Yh-=e)*Yh)),Vh=t,Yh=e}function Zh(){this._string=[]}function Jh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qh(t){return function(e){var n=new tf;for(var i in t)n[i]=t[i];return n.stream=e,n}}function tf(){}function ef(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Yl(n,t.stream(xh)),e(xh.result()),null!=i&&t.clipExtent(i),t}function nf(t,e,n){return ef(t,function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])},n)}function rf(t,e,n){return nf(t,[[0,0],e],n)}function of(t,e,n){return ef(t,function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];t.scale(150*r).translate([o,s])},n)}function sf(t,e,n){return ef(t,function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,s])},n)}Zh.prototype={_radius:4.5,_circle:Jh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Jh(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},tf.prototype={constructor:tf,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var af=Tl(30*kl);function lf(t,e){return+e?function(t,e){function n(i,r,o,s,a,l,u,c,h,f,d,p,g,v){var b=u-i,y=c-r,m=b*b+y*y;if(m>4*e&&g--){var _=s+f,x=a+d,w=l+p,k=jl(_*_+x*x+w*w),E=ql(w/=k),S=El(El(w)-1)<vl||El(o-h)<vl?(o+h)/2:Al(x,_),A=t(S,E),T=A[0],M=A[1],O=T-i,C=M-r,N=y*O-b*C;(N*N/m>e||El((b*O+y*C)/m-.5)>.3||s*f+a*d+l*p<af)&&(n(i,r,o,s,a,l,T,M,S,_/=k,x/=k,w,g,v),v.point(T,M),n(T,M,S,_,x,w,u,c,h,f,d,p,g,v))}}return function(e){var i,r,o,s,a,l,u,c,h,f,d,p,g={point:v,lineStart:b,lineEnd:m,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=b}};function v(n,i){n=t(n,i),e.point(n[0],n[1])}function b(){c=NaN,g.point=y,e.lineStart()}function y(i,r){var o=bu([i,r]),s=t(i,r);n(c,h,u,f,d,p,c=s[0],h=s[1],u=i,f=o[0],d=o[1],p=o[2],16,e),e.point(c,h)}function m(){g.point=v,e.lineEnd()}function _(){b(),g.point=x,g.lineEnd=w}function x(t,e){y(i=t,e),r=c,o=h,s=f,a=d,l=p,g.point=y}function w(){n(c,h,u,f,d,p,r,o,i,s,a,l,16,e),g.lineEnd=m,m()}return g}}(t,e):function(t){return Qh({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var uf=Qh({point:function(t,e){this.stream.point(t*kl,e*kl)}});function cf(t,e,n,i,r,o){if(!o)return function(t,e,n,i,r){function o(o,s){return[e+t*(o*=i),n-t*(s*=r)]}return o.invert=function(o,s){return[(o-e)/t*i,(n-s)/t*r]},o}(t,e,n,i,r);var s=Tl(o),a=Dl(o),l=s*t,u=a*t,c=s/t,h=a/t,f=(a*n-s*e)/t,d=(a*e+s*n)/t;function p(t,o){return[l*(t*=i)-u*(o*=r)+e,n-u*t-l*o]}return p.invert=function(t,e){return[i*(c*t-h*e+f),r*(d-h*t-c*e)]},p}function hf(t){return ff(function(){return t})()}function ff(t){var e,n,i,r,o,s,a,l,u,c,h=150,f=480,d=250,p=0,g=0,v=0,b=0,y=0,m=0,_=1,x=1,w=null,k=Tc,E=null,S=oh,A=.5;function T(t){return l(t[0]*kl,t[1]*kl)}function M(t){return(t=l.invert(t[0],t[1]))&&[t[0]*wl,t[1]*wl]}function O(){var t=cf(h,0,0,_,x,m).apply(null,e(p,g)),i=cf(h,f-t[0],d-t[1],_,x,m);return n=cc(v,b,y),a=lc(e,i),l=lc(n,a),s=lf(a,A),C()}function C(){return u=c=null,T}return T.stream=function(t){return u&&c===t?u:u=uf(function(t){return Qh({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(k(s(S(c=t)))))},T.preclip=function(t){return arguments.length?(k=t,w=void 0,C()):k},T.postclip=function(t){return arguments.length?(S=t,E=i=r=o=null,C()):S},T.clipAngle=function(t){return arguments.length?(k=+t?Mc(w=t*kl):(w=null,Tc),C()):w*wl},T.clipExtent=function(t){return arguments.length?(S=null==t?(E=i=r=o=null,oh):jc(E=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),C()):null==E?null:[[E,i],[r,o]]},T.scale=function(t){return arguments.length?(h=+t,O()):h},T.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],O()):[f,d]},T.center=function(t){return arguments.length?(p=t[0]%360*kl,g=t[1]%360*kl,O()):[p*wl,g*wl]},T.rotate=function(t){return arguments.length?(v=t[0]%360*kl,b=t[1]%360*kl,y=t.length>2?t[2]%360*kl:0,O()):[v*wl,b*wl,y*wl]},T.angle=function(t){return arguments.length?(m=t%360*kl,O()):m*wl},T.reflectX=function(t){return arguments.length?(_=t?-1:1,O()):_<0},T.reflectY=function(t){return arguments.length?(x=t?-1:1,O()):x<0},T.precision=function(t){return arguments.length?(s=lf(a,A=t*t),C()):jl(A)},T.fitExtent=function(t,e){return nf(T,t,e)},T.fitSize=function(t,e){return rf(T,t,e)},T.fitWidth=function(t,e){return of(T,t,e)},T.fitHeight=function(t,e){return sf(T,t,e)},function(){return e=t.apply(this,arguments),T.invert=e.invert&&M,O()}}function df(t){var e=0,n=yl/3,i=ff(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*kl,n=t[1]*kl):[e*wl,n*wl]},r}function pf(t,e){var n=Dl(t),i=(n+Dl(e))/2;if(El(i)<vl)return function(t){var e=Tl(t);function n(t,n){return[t*e,Dl(n)/e]}return n.invert=function(t,n){return[t/e,ql(n*e)]},n}(t);var r=1+n*(2*i-n),o=jl(r)/i;function s(t,e){var n=jl(r-2*i*Dl(e))/i;return[n*Dl(t*=i),o-n*Tl(t)]}return s.invert=function(t,e){var n=o-e,s=Al(t,El(n))*Pl(n);return n*i<0&&(s-=yl*Pl(t)*Pl(n)),[s/i,ql((r-(t*t+n*n)*i*i)/(2*i))]},s}function gf(){return df(pf).scale(155.424).center([0,33.6442])}function vf(){return gf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function bf(t){return function(e,n){var i=Tl(e),r=Tl(n),o=t(i*r);return o===1/0?[2,0]:[o*r*Dl(e),o*Dl(n)]}}function yf(t){return function(e,n){var i=jl(e*e+n*n),r=t(i),o=Dl(r),s=Tl(r);return[Al(e*o,i*s),ql(i&&n*o/i)]}}var mf=bf(function(t){return jl(2/(1+t))});mf.invert=yf(function(t){return 2*ql(t/2)});var _f=bf(function(t){return(t=Rl(t))&&t/Dl(t)});function xf(t,e){return[t,Nl(Il((ml+e)/2))]}function wf(t){var e,n,i,r=hf(t),o=r.center,s=r.scale,a=r.translate,l=r.clipExtent,u=null;function c(){var o=yl*s(),a=r(pc(r.rotate()).invert([0,0]));return l(null==u?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===xf?[[Math.max(a[0]-o,u),e],[Math.min(a[0]+o,n),i]]:[[u,Math.max(a[1]-o,e)],[n,Math.min(a[1]+o,i)]])}return r.scale=function(t){return arguments.length?(s(t),c()):s()},r.translate=function(t){return arguments.length?(a(t),c()):a()},r.center=function(t){return arguments.length?(o(t),c()):o()},r.clipExtent=function(t){return arguments.length?(null==t?u=e=n=i=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),c()):null==u?null:[[u,e],[n,i]]},c()}function kf(t){return Il((ml+t)/2)}function Ef(t,e){var n=Tl(t),i=t===e?Dl(t):Nl(n/Tl(e))/Nl(kf(e)/kf(t)),r=n*Ll(kf(t),i)/i;if(!i)return xf;function o(t,e){r>0?e<-ml+vl&&(e=-ml+vl):e>ml-vl&&(e=ml-vl);var n=r/Ll(kf(e),i);return[n*Dl(i*t),r-n*Tl(i*t)]}return o.invert=function(t,e){var n=r-e,o=Pl(i)*jl(t*t+n*n),s=Al(t,El(n))*Pl(n);return n*i<0&&(s-=yl*Pl(t)*Pl(n)),[s/i,2*Sl(Ll(r/o,1/i))-ml]},o}function Sf(t,e){return[t,e]}function Af(t,e){var n=Tl(t),i=t===e?Dl(t):(n-Tl(e))/(e-t),r=n/i+t;if(El(i)<vl)return Sf;function o(t,e){var n=r-e,o=i*t;return[n*Dl(o),r-n*Tl(o)]}return o.invert=function(t,e){var n=r-e,o=Al(t,El(n))*Pl(n);return n*i<0&&(o-=yl*Pl(t)*Pl(n)),[o/i,r-Pl(i)*jl(t*t+n*n)]},o}_f.invert=yf(function(t){return t}),xf.invert=function(t,e){return[t,2*Sl(Ol(e))-ml]},Sf.invert=Sf;var Tf=1.340264,Mf=-.081106,Of=893e-6,Cf=.003796,Nf=jl(3)/2;function Lf(t,e){var n=ql(Nf*Dl(e)),i=n*n,r=i*i*i;return[t*Tl(n)/(Nf*(Tf+3*Mf*i+r*(7*Of+9*Cf*i))),n*(Tf+Mf*i+r*(Of+Cf*i))]}function Df(t,e){var n=Tl(e),i=Tl(t)*n;return[n*Dl(t)/i,Dl(e)/i]}function Pf(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function jf(t,e){return[Tl(e)*Dl(t),Dl(e)]}function If(t,e){var n=Tl(e),i=1+Tl(t)*n;return[n*Dl(t)/i,Dl(e)/i]}function Rf(t,e){return[Nl(Il((ml+e)/2)),-t]}function qf(t,e){return t.parent===e.parent?1:2}function Bf(t,e){return t+e.x}function Ff(t,e){return Math.max(t,e.y)}function zf(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function Hf(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Wf)):void 0===e&&(e=Uf);for(var n,i,r,o,s,a=new Xf(t),l=[a];n=l.pop();)if((r=e(n.data))&&(s=(r=Array.from(r)).length))for(n.children=r,o=s-1;o>=0;--o)l.push(i=r[o]=new Xf(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Yf)}function Uf(t){return t.children}function Wf(t){return Array.isArray(t)?t[1]:null}function Vf(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Yf(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Xf(t){this.data=t,this.depth=this.height=0,this.parent=null}function Kf(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];i<r;)e=t[i],n&&Zf(n,e)?++i:(n=Qf(o=Gf(o,e)),i=0);return n}function Gf(t,e){var n,i;if(Jf(e,t))return[e];for(n=0;n<t.length;++n)if($f(e,t[n])&&Jf(td(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if($f(td(t[n],t[i]),e)&&$f(td(t[n],e),t[i])&&$f(td(t[i],e),t[n])&&Jf(ed(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function $f(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function Zf(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Jf(t,e){for(var n=0;n<e.length;++n)if(!Zf(t,e[n]))return!1;return!0}function Qf(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return td(t[0],t[1]);case 3:return ed(t[0],t[1],t[2])}}function td(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,s=e.y,a=e.r,l=o-n,u=s-i,c=a-r,h=Math.sqrt(l*l+u*u);return{x:(n+o+l/h*c)/2,y:(i+s+u/h*c)/2,r:(h+r+a)/2}}function ed(t,e,n){var i=t.x,r=t.y,o=t.r,s=e.x,a=e.y,l=e.r,u=n.x,c=n.y,h=n.r,f=i-s,d=i-u,p=r-a,g=r-c,v=l-o,b=h-o,y=i*i+r*r-o*o,m=y-s*s-a*a+l*l,_=y-u*u-c*c+h*h,x=d*p-f*g,w=(p*_-g*m)/(2*x)-i,k=(g*v-p*b)/x,E=(d*m-f*_)/(2*x)-r,S=(f*b-d*v)/x,A=k*k+S*S-1,T=2*(o+w*k+E*S),M=w*w+E*E-o*o,O=-(A?(T+Math.sqrt(T*T-4*A*M))/(2*A):M/T);return{x:i+w+k*O,y:r+E+S*O,r:O}}function nd(t,e,n){var i,r,o,s,a=t.x-e.x,l=t.y-e.y,u=a*a+l*l;u?(r=e.r+n.r,s=t.r+n.r,(r*=r)>(s*=s)?(i=(u+s-r)/(2*u),o=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x-i*a-o*l,n.y=t.y-i*l+o*a):(i=(u+r-s)/(2*u),o=Math.sqrt(Math.max(0,r/u-i*i)),n.x=e.x+i*a-o*l,n.y=e.y+i*l+o*a)):(n.x=e.x+n.r,n.y=e.y)}function id(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function rd(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function od(t){this._=t,this.next=null,this.previous=null}function sd(t){if(!(r=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,n,i,r,o,s,a,l,u,c,h;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(e.x=-(n=t[1]).r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;nd(n,e,i=t[2]),e=new od(e),n=new od(n),i=new od(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(a=3;a<r;++a){nd(e._,n._,i=t[a]),i=new od(i),l=n.next,u=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(id(l._,i._)){e.next=n=l,n.previous=e,--a;continue t}c+=l._.r,l=l.next}else{if(id(u._,i._)){(e=u).next=n,n.previous=e,--a;continue t}h+=u._.r,u=u.previous}}while(l!==u.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,o=rd(e);(i=i.next)!==n;)(s=rd(i))<o&&(e=i,o=s);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Kf(e),a=0;a<r;++a)(e=t[a]).x-=i.x,e.y-=i.y;return i.r}function ad(t){return null==t?null:ld(t)}function ld(t){if("function"!=typeof t)throw new Error;return t}function ud(){return 0}function cd(t){return function(){return t}}function hd(t){return Math.sqrt(t.value)}function fd(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function dd(t,e){return function(n){if(i=n.children){var i,r,o,s=i.length,a=t(n)*e||0;if(a)for(r=0;r<s;++r)i[r].r+=a;if(o=sd(i),a)for(r=0;r<s;++r)i[r].r-=a;n.r=o+a}}}function pd(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function gd(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function vd(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,u=t.value&&(i-e)/t.value;++a<l;)(o=s[a]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*u}Lf.invert=function(t,e){for(var n,i=e,r=i*i,o=r*r*r,s=0;s<12&&(o=(r=(i-=n=(i*(Tf+Mf*r+o*(Of+Cf*r))-e)/(Tf+3*Mf*r+o*(7*Of+9*Cf*r)))*i)*r*r,!(El(n)<bl));++s);return[Nf*t*(Tf+3*Mf*r+o*(7*Of+9*Cf*r))/Tl(i),ql(Dl(i)/Nf)]},Df.invert=yf(Sl),Pf.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(El(n)>vl&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},jf.invert=yf(ql),If.invert=yf(function(t){return 2*Sl(t)}),Rf.invert=function(t,e){return[-e,2*Sl(Ol(t))-ml]},Xf.prototype=Hf.prototype={constructor:Xf,count:function(){return this.eachAfter(zf)},each:function(t,e){let n=-1;for(const i of this)t.call(e,i,++n,this);return this},eachAfter:function(t,e){for(var n,i,r,o=this,s=[o],a=[],l=-1;o=s.pop();)if(a.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i]);for(;o=a.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,i,r=this,o=[r],s=-1;r=o.pop();)if(t.call(e,r,++s,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(t,e){let n=-1;for(const i of this)if(t.call(e,i,++n,this))return i},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)i.push(e=e.parent);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Hf(this).eachBefore(Vf)},[Symbol.iterator]:function*(){var t,e,n,i,r=this,o=[r];do{for(t=o.reverse(),o=[];r=t.pop();)if(yield r,e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n])}while(o.length)}};var bd={depth:-1},yd={};function md(t){return t.id}function _d(t){return t.parentId}function xd(t,e){return t.parent===e.parent?1:2}function wd(t){var e=t.children;return e?e[0]:t.t}function kd(t){var e=t.children;return e?e[e.length-1]:t.t}function Ed(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Sd(t,e,n){return t.a.parent===e.parent?t.a:n}function Ad(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Td(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,u=t.value&&(r-n)/t.value;++a<l;)(o=s[a]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*u}Ad.prototype=Object.create(Xf.prototype);var Md=(1+Math.sqrt(5))/2;function Od(t,e,n,i,r,o){for(var s,a,l,u,c,h,f,d,p,g,v,b=[],y=e.children,m=0,_=0,x=y.length,w=e.value;m<x;){l=r-n,u=o-i;do{c=y[_++].value}while(!c&&_<x);for(h=f=c,v=c*c*(g=Math.max(u/l,l/u)/(w*t)),p=Math.max(f/v,v/h);_<x;++_){if(c+=a=y[_].value,a<h&&(h=a),a>f&&(f=a),v=c*c*g,(d=Math.max(f/v,v/h))>p){c-=a;break}p=d}b.push(s={value:c,dice:l<u,children:y.slice(m,_)}),s.dice?vd(s,n,i,r,w?i+=u*c/w:o):Td(s,n,i,w?n+=l*c/w:r,o),w-=c,m=_}return b}var Cd=function t(e){function n(t,n,i,r,o){Od(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Md),Nd=function t(e){function n(t,n,i,r,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,l,u,c,h=-1,f=s.length,d=t.value;++h<f;){for(l=(a=s[h]).children,u=a.value=0,c=l.length;u<c;++u)a.value+=l[u].value;a.dice?vd(a,n,i,r,d?i+=(o-i)*a.value/d:o):Td(a,n,i,d?n+=(r-n)*a.value/d:r,o),d-=a.value}else t._squarify=s=Od(e,t,n,i,r,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Md);function Ld(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Dd(t,e){return t[0]-e[0]||t[1]-e[1]}function Pd(t){const e=t.length,n=[0,1];let i,r=2;for(i=2;i<e;++i){for(;r>1&&Ld(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var jd=Math.random,Id=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(jd),Rd=function t(e){function n(t,n){return arguments.length<2&&(n=t,t=0),t=Math.floor(t),n=Math.floor(n)-t,function(){return Math.floor(e()*n+t)}}return n.source=t,n}(jd),qd=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(jd),Bd=function t(e){var n=qd.source(e);function i(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return i.source=t,i}(jd),Fd=function t(e){function n(t){return(t=+t)<=0?()=>0:function(){for(var n=0,i=t;i>1;--i)n+=e();return n+i*e()}}return n.source=t,n}(jd),zd=function t(e){var n=Fd.source(e);function i(t){if(0==(t=+t))return e;var i=n(t);return function(){return i()/t}}return i.source=t,i}(jd),Hd=function t(e){function n(t){return function(){return-Math.log1p(-e())/t}}return n.source=t,n}(jd),Ud=function t(e){function n(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-e(),t)}}return n.source=t,n}(jd),Wd=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+t)}}return n.source=t,n}(jd),Vd=function t(e){function n(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-e())/t)})}return n.source=t,n}(jd),Yd=function t(e){var n=qd.source(e)();function i(t,i){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(i=null==i?1:+i,1===t)return()=>-Math.log1p(-e())*i;var r=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(r)),s=t<1?()=>Math.pow(e(),1/t):()=>1;return function(){do{do{var t=n(),a=1+o*t}while(a<=0);a*=a*a;var l=1-e()}while(l>=1-.0331*t*t*t*t&&Math.log(l)>=.5*t*t+r*(1-a+Math.log(a)));return r*a*s()*i}}return i.source=t,i}(jd),Xd=function t(e){var n=Yd.source(e);function i(t,e){var i=n(t),r=n(e);return function(){var t=i();return 0===t?0:t/(t+r())}}return i.source=t,i}(jd),Kd=function t(e){var n=Vd.source(e),i=Xd.source(e);function r(t,e){return t=+t,(e=+e)>=1?()=>t:e<=0?()=>0:function(){for(var r=0,o=t,s=e;o*s>16&&o*(1-s)>16;){var a=Math.floor((o+1)*s),l=i(a,o-a+1)();l<=s?(r+=a,o-=a,s=(s-l)/(1-l)):(o=a-1,s/=l)}for(var u=s<.5,c=n(u?s:1-s),h=c(),f=0;h<=o;++f)h+=c();return r+(u?f:o-f)}}return r.source=t,r}(jd),Gd=function t(e){function n(t,n,i){var r;return 0==(t=+t)?r=t=>-Math.log(t):(t=1/t,r=e=>Math.pow(e,t)),n=null==n?0:+n,i=null==i?1:+i,function(){return n+i*r(-Math.log1p(-e()))}}return n.source=t,n}(jd),$d=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){return t+n*Math.tan(Math.PI*e())}}return n.source=t,n}(jd),Zd=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,function(){var i=e();return t+n*Math.log(i/(1-i))}}return n.source=t,n}(jd),Jd=function t(e){var n=Yd.source(e),i=Kd.source(e);function r(t){return function(){for(var r=0,o=t;o>16;){var s=Math.floor(.875*o),a=n(s)();if(a>o)return r+i(s-1,o/a)();r+=s,o-=a}for(var l=-Math.log1p(-e()),u=0;l<=o;++u)l-=Math.log1p(-e());return r+u}}return r.source=t,r}(jd);const Qd=1/4294967296;function tp(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function ep(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const np=Symbol("implicit");function ip(){var t=new Map,e=[],n=[],i=np;function r(r){var o=r+"",s=t.get(o);if(!s){if(i!==np)return i;t.set(o,s=e.push(r))}return n[(s-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const i of n){const n=i+"";t.has(n)||t.set(n,e.push(i))}return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return ip(e,n).unknown(i)},tp.apply(r,arguments),r}function rp(){var t,e,n=ip().unknown(void 0),i=n.domain,r=n.range,o=0,s=1,a=!1,l=0,u=0,c=.5;function h(){var n=i().length,h=s<o,f=h?s:o,d=h?o:s;t=(d-f)/Math.max(1,n-l+2*u),a&&(t=Math.floor(t)),f+=(d-f-t*(n-l))*c,e=t*(1-l),a&&(f=Math.round(f),e=Math.round(e));var p=$(n).map(function(e){return f+t*e});return r(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),h()):i()},n.range=function(t){return arguments.length?([o,s]=t,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(t){return[o,s]=t,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(l=Math.min(1,u=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(u=+t,h()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),h()):c},n.copy=function(){return rp(i(),[o,s]).round(a).paddingInner(l).paddingOuter(u).align(c)},tp.apply(h(),arguments)}function op(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return op(e())},t}function sp(t){return+t}var ap=[0,1];function lp(t){return t}function up(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function cp(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1];return r<i?(i=up(r,i),o=n(s,o)):(i=up(i,r),o=n(o,s)),function(t){return o(i(t))}}function hp(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=up(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(e){var n=o(t,e,1,i)-1;return s[n](r[n](e))}}function fp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dp(){var t,e,n,i,r,o,s=ap,a=ap,l=wi,u=lp;function c(){var t=Math.min(s.length,a.length);return u!==lp&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),i=t>2?hp:cp,r=o=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(s.map(t),a,l)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=i(a,s.map(t),bi)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,sp),c()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),c()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),l=ki,c()},h.clamp=function(t){return arguments.length?(u=!!t||lp,c()):u!==lp},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function pp(){return dp()(lp,lp)}function gp(e,n,i,r){var o,s=I(e,n,i);switch((r=il(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(n));return null!=r.precision||isNaN(o=pl(s,a))||(r.precision=o),t.formatPrefix(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=gl(s,Math.max(Math.abs(e),Math.abs(n))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=dl(s))||(r.precision=o-2*("%"===r.type))}return t.format(r)}function vp(t){var e=t.domain;return t.ticks=function(t){var n=e();return P(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return gp(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),s=0,a=o.length-1,l=o[s],u=o[a],c=10;for(u<l&&(r=l,l=u,u=r,r=s,s=a,a=r);c-- >0;){if((r=j(l,u,n))===i)return o[s]=l,o[a]=u,e(o);if(r>0)l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r}i=r}return t},t}function bp(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function yp(t){return Math.log(t)}function mp(t){return Math.exp(t)}function _p(t){return-Math.log(-t)}function xp(t){return-Math.exp(-t)}function wp(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kp(t){return function(e){return-t(-e)}}function Ep(e){var n,i,r=e(yp,mp),o=r.domain,s=10;function a(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(s),i=function(t){return 10===t?wp:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(s),o()[0]<0?(n=kp(n),i=kp(i),e(_p,xp)):e(yp,mp),r}return r.base=function(t){return arguments.length?(s=+t,a()):s},r.domain=function(t){return arguments.length?(o(t),a()):o()},r.ticks=function(t){var e,r=o(),a=r[0],l=r[r.length-1];(e=l<a)&&(f=a,a=l,l=f);var u,c,h,f=n(a),d=n(l),p=null==t?10:+t,g=[];if(!(s%1)&&d-f<p){if(f=Math.floor(f),d=Math.ceil(d),a>0){for(;f<=d;++f)for(c=1,u=i(f);c<s;++c)if(!((h=u*c)<a)){if(h>l)break;g.push(h)}}else for(;f<=d;++f)for(c=s-1,u=i(f);c>=1;--c)if(!((h=u*c)<a)){if(h>l)break;g.push(h)}2*g.length<p&&(g=P(a,l,p))}else g=P(f,d,Math.min(d-f,p)).map(i);return e?g.reverse():g},r.tickFormat=function(e,o){if(null==o&&(o=10===s?".0e":","),"function"!=typeof o&&(o=t.format(o)),e===1/0)return o;null==e&&(e=10);var a=Math.max(1,s*e/r.ticks().length);return function(t){var e=t/i(Math.round(n(t)));return e*s<s-.5&&(e*=s),e<=a?o(t):""}},r.nice=function(){return o(bp(o(),{floor:function(t){return i(Math.floor(n(t)))},ceil:function(t){return i(Math.ceil(n(t)))}}))},r}function Sp(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ap(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Tp(t){var e=1,n=t(Sp(e),Ap(e));return n.constant=function(n){return arguments.length?t(Sp(e=+n),Ap(e)):e},vp(n)}function Mp(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Op(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Cp(t){return t<0?-t*t:t*t}function Np(t){var e=t(lp,lp),n=1;function i(){return 1===n?t(lp,lp):.5===n?t(Op,Cp):t(Mp(n),Mp(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},vp(e)}function Lp(){var t=Np(dp());return t.copy=function(){return fp(t,Lp()).exponent(t.exponent())},tp.apply(t,arguments),t}function Dp(t){return Math.sign(t)*t*t}function Pp(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}var jp=new Date,Ip=new Date;function Rp(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return Rp(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return jp.setTime(+e),Ip.setTime(+i),t(jp),t(Ip),Math.floor(n(jp,Ip))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var qp=Rp(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});qp.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Rp(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):qp:null};var Bp=qp.range,Fp=1e3,zp=6e4,Hp=36e5,Up=864e5,Wp=6048e5,Vp=Rp(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Fp)},function(t,e){return(e-t)/Fp},function(t){return t.getUTCSeconds()}),Yp=Vp.range,Xp=Rp(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fp)},function(t,e){t.setTime(+t+e*zp)},function(t,e){return(e-t)/zp},function(t){return t.getMinutes()}),Kp=Xp.range,Gp=Rp(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fp-t.getMinutes()*zp)},function(t,e){t.setTime(+t+e*Hp)},function(t,e){return(e-t)/Hp},function(t){return t.getHours()}),$p=Gp.range,Zp=Rp(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zp)/Up,t=>t.getDate()-1),Jp=Zp.range;function Qp(t){return Rp(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zp)/Wp})}var tg=Qp(0),eg=Qp(1),ng=Qp(2),ig=Qp(3),rg=Qp(4),og=Qp(5),sg=Qp(6),ag=tg.range,lg=eg.range,ug=ng.range,cg=ig.range,hg=rg.range,fg=og.range,dg=sg.range,pg=Rp(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),gg=pg.range,vg=Rp(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});vg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Rp(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var bg=vg.range,yg=Rp(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*zp)},function(t,e){return(e-t)/zp},function(t){return t.getUTCMinutes()}),mg=yg.range,_g=Rp(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Hp)},function(t,e){return(e-t)/Hp},function(t){return t.getUTCHours()}),xg=_g.range,wg=Rp(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Up},function(t){return t.getUTCDate()-1}),kg=wg.range;function Eg(t){return Rp(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Wp})}var Sg=Eg(0),Ag=Eg(1),Tg=Eg(2),Mg=Eg(3),Og=Eg(4),Cg=Eg(5),Ng=Eg(6),Lg=Sg.range,Dg=Ag.range,Pg=Tg.range,jg=Mg.range,Ig=Og.range,Rg=Cg.range,qg=Ng.range,Bg=Rp(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Fg=Bg.range,zg=Rp(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});zg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Rp(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Hg=zg.range;function Ug(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Wg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Yg(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=tv(r),c=ev(r),h=tv(o),f=ev(o),d=tv(s),p=ev(s),g=tv(a),v=ev(a),b=tv(l),y=ev(l),m={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:wv,e:wv,f:Tv,g:qv,G:Fv,H:kv,I:Ev,j:Sv,L:Av,m:Mv,M:Ov,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ub,s:cb,S:Cv,u:Nv,U:Lv,V:Pv,w:jv,W:Iv,x:null,X:null,y:Rv,Y:Bv,Z:zv,"%":lb},_={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Hv,e:Hv,f:Xv,g:rb,G:sb,H:Uv,I:Wv,j:Vv,L:Yv,m:Kv,M:Gv,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ub,s:cb,S:$v,u:Zv,U:Jv,V:tb,w:eb,W:nb,x:null,X:null,y:ib,Y:ob,Z:ab,"%":lb},x={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){var i=b.exec(e.slice(n));return i?(t.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,n,i){return E(t,e,n,i)},d:fv,e:fv,f:yv,g:lv,G:av,H:pv,I:pv,j:dv,L:bv,m:hv,M:gv,p:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.p=c.get(i[0].toLowerCase()),n+i[0].length):-1},q:cv,Q:_v,s:xv,S:vv,u:iv,U:rv,V:ov,w:nv,W:sv,x:function(t,e,i){return E(t,n,e,i)},X:function(t,e,n){return E(t,i,e,n)},y:lv,Y:av,Z:uv,"%":mv};function w(t,e){return function(n){var i,r,o,s=[],a=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=Kg[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function k(t,e){return function(n){var i,r,o=Vg(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=Wg(Vg(o.y,0,1))).getUTCDay(),i=r>4||0===r?Ag.ceil(i):Ag(i),i=wg.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=Ug(Vg(o.y,0,1))).getDay(),i=r>4||0===r?eg.ceil(i):eg(i),i=Zp.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?Wg(Vg(o.y,0,1)).getUTCDay():Ug(Vg(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Wg(o)):Ug(o)}}function E(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=x[r in Kg?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return m.x=w(n,m),m.X=w(i,m),m.c=w(e,m),_.x=w(n,_),_.X=w(i,_),_.c=w(e,_),{format:function(t){var e=w(t+="",m);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var Xg,Kg={"-":"",_:" ",0:"0"},Gg=/^\s*\d+/,$g=/^%/,Zg=/[\\^$*+?|[\]().{}]/g;function Jg(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Qg(t){return t.replace(Zg,"\\$&")}function tv(t){return new RegExp("^(?:"+t.map(Qg).join("|")+")","i")}function ev(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function nv(t,e,n){var i=Gg.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function iv(t,e,n){var i=Gg.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function rv(t,e,n){var i=Gg.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function ov(t,e,n){var i=Gg.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function sv(t,e,n){var i=Gg.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function av(t,e,n){var i=Gg.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function lv(t,e,n){var i=Gg.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function uv(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function cv(t,e,n){var i=Gg.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function hv(t,e,n){var i=Gg.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function fv(t,e,n){var i=Gg.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function dv(t,e,n){var i=Gg.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function pv(t,e,n){var i=Gg.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function gv(t,e,n){var i=Gg.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function vv(t,e,n){var i=Gg.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function bv(t,e,n){var i=Gg.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function yv(t,e,n){var i=Gg.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function mv(t,e,n){var i=$g.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function _v(t,e,n){var i=Gg.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function xv(t,e,n){var i=Gg.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function wv(t,e){return Jg(t.getDate(),e,2)}function kv(t,e){return Jg(t.getHours(),e,2)}function Ev(t,e){return Jg(t.getHours()%12||12,e,2)}function Sv(t,e){return Jg(1+Zp.count(vg(t),t),e,3)}function Av(t,e){return Jg(t.getMilliseconds(),e,3)}function Tv(t,e){return Av(t,e)+"000"}function Mv(t,e){return Jg(t.getMonth()+1,e,2)}function Ov(t,e){return Jg(t.getMinutes(),e,2)}function Cv(t,e){return Jg(t.getSeconds(),e,2)}function Nv(t){var e=t.getDay();return 0===e?7:e}function Lv(t,e){return Jg(tg.count(vg(t)-1,t),e,2)}function Dv(t){var e=t.getDay();return e>=4||0===e?rg(t):rg.ceil(t)}function Pv(t,e){return t=Dv(t),Jg(rg.count(vg(t),t)+(4===vg(t).getDay()),e,2)}function jv(t){return t.getDay()}function Iv(t,e){return Jg(eg.count(vg(t)-1,t),e,2)}function Rv(t,e){return Jg(t.getFullYear()%100,e,2)}function qv(t,e){return Jg((t=Dv(t)).getFullYear()%100,e,2)}function Bv(t,e){return Jg(t.getFullYear()%1e4,e,4)}function Fv(t,e){var n=t.getDay();return Jg((t=n>=4||0===n?rg(t):rg.ceil(t)).getFullYear()%1e4,e,4)}function zv(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Jg(e/60|0,"0",2)+Jg(e%60,"0",2)}function Hv(t,e){return Jg(t.getUTCDate(),e,2)}function Uv(t,e){return Jg(t.getUTCHours(),e,2)}function Wv(t,e){return Jg(t.getUTCHours()%12||12,e,2)}function Vv(t,e){return Jg(1+wg.count(zg(t),t),e,3)}function Yv(t,e){return Jg(t.getUTCMilliseconds(),e,3)}function Xv(t,e){return Yv(t,e)+"000"}function Kv(t,e){return Jg(t.getUTCMonth()+1,e,2)}function Gv(t,e){return Jg(t.getUTCMinutes(),e,2)}function $v(t,e){return Jg(t.getUTCSeconds(),e,2)}function Zv(t){var e=t.getUTCDay();return 0===e?7:e}function Jv(t,e){return Jg(Sg.count(zg(t)-1,t),e,2)}function Qv(t){var e=t.getUTCDay();return e>=4||0===e?Og(t):Og.ceil(t)}function tb(t,e){return t=Qv(t),Jg(Og.count(zg(t),t)+(4===zg(t).getUTCDay()),e,2)}function eb(t){return t.getUTCDay()}function nb(t,e){return Jg(Ag.count(zg(t)-1,t),e,2)}function ib(t,e){return Jg(t.getUTCFullYear()%100,e,2)}function rb(t,e){return Jg((t=Qv(t)).getUTCFullYear()%100,e,2)}function ob(t,e){return Jg(t.getUTCFullYear()%1e4,e,4)}function sb(t,e){var n=t.getUTCDay();return Jg((t=n>=4||0===n?Og(t):Og.ceil(t)).getUTCFullYear()%1e4,e,4)}function ab(){return"+0000"}function lb(){return"%"}function ub(t){return+t}function cb(t){return Math.floor(+t/1e3)}function hb(e){return Xg=Yg(e),t.timeFormat=Xg.format,t.timeParse=Xg.parse,t.utcFormat=Xg.utcFormat,t.utcParse=Xg.utcParse,Xg}t.timeFormat=void 0,t.timeParse=void 0,t.utcFormat=void 0,t.utcParse=void 0,hb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var fb="%Y-%m-%dT%H:%M:%S.%LZ",db=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(fb),pb=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse(fb),gb=31536e6;function vb(t){return new Date(t)}function bb(t){return t instanceof Date?+t:+new Date(+t)}function yb(t,e,i,r,o,s,a,l,u){var c=pp(),h=c.invert,f=c.domain,d=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),y=u("%b %d"),m=u("%B"),_=u("%Y"),x=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[s,1,6e4],[s,5,3e5],[s,15,9e5],[s,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,864e5],[r,2,1728e5],[i,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,gb]];function w(n){return(a(n)<n?d:s(n)<n?p:o(n)<n?g:r(n)<n?v:e(n)<n?i(n)<n?b:y:t(n)<n?m:_)(n)}function k(e,i,r){if(null==e&&(e=10),"number"==typeof e){var o,s=Math.abs(r-i)/e,a=n(function(t){return t[2]}).right(x,s);return a===x.length?(o=I(i/gb,r/gb,e),e=t):a?(o=(a=x[s/x[a-1][2]<x[a][2]/s?a-1:a])[1],e=a[0]):(o=Math.max(I(i,r,e),1),e=l),e.every(o)}return e}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Array.from(t,bb)):f().map(vb)},c.ticks=function(t){var e,n=f(),i=n[0],r=n[n.length-1],o=r<i;return o&&(e=i,i=r,r=e),e=(e=k(t,i,r))?e.range(i,r+1):[],o?e.reverse():e},c.tickFormat=function(t,e){return null==e?w:u(e)},c.nice=function(t){var e=f();return(t=k(t,e[0],e[e.length-1]))?f(bp(e,t)):c},c.copy=function(){return fp(c,yb(t,e,i,r,o,s,a,l,u))},c}function mb(){var t,e,n,i,r,o=0,s=1,a=lp,l=!1;function u(e){return isNaN(e=+e)?r:a(0===n?.5:(e=(i(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}function c(t){return function(e){var n,i;return arguments.length?([n,i]=e,a=t(n,i),u):[a(0),a(1)]}}return u.domain=function(r){return arguments.length?([o,s]=r,t=i(o=+o),e=i(s=+s),n=t===e?0:1/(e-t),u):[o,s]},u.clamp=function(t){return arguments.length?(l=!!t,u):l},u.interpolator=function(t){return arguments.length?(a=t,u):a},u.range=c(wi),u.rangeRound=c(ki),u.unknown=function(t){return arguments.length?(r=t,u):r},function(r){return i=r,t=r(o),e=r(s),n=t===e?0:1/(e-t),u}}function _b(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xb(){var t=Np(mb());return t.copy=function(){return _b(t,xb()).exponent(t.exponent())},ep.apply(t,arguments)}function wb(){var t,e,n,i,r,o,s,a=0,l=.5,u=1,c=1,h=lp,f=!1;function d(t){return isNaN(t=+t)?s:(t=.5+((t=+o(t))-e)*(c*t<c*e?i:r),h(f?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,i,r;return arguments.length?([n,i,r]=e,h=Hi(t,[n,i,r]),d):[h(0),h(.5),h(1)]}}return d.domain=function(s){return arguments.length?([a,l,u]=s,t=o(a=+a),e=o(l=+l),n=o(u=+u),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),c=e<t?-1:1,d):[a,l,u]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(h=t,d):h},d.range=p(wi),d.rangeRound=p(ki),d.unknown=function(t){return arguments.length?(s=t,d):s},function(s){return o=s,t=s(a),e=s(l),n=s(u),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),c=e<t?-1:1,d}}function kb(){var t=Np(wb());return t.copy=function(){return _b(t,kb()).exponent(t.exponent())},ep.apply(t,arguments)}function Eb(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}var Sb=Eb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ab=Eb("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Tb=Eb("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Mb=Eb("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ob=Eb("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Cb=Eb("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Nb=Eb("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Lb=Eb("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Db=Eb("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Pb=Eb("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),jb=t=>hi(t[t.length-1]),Ib=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Eb),Rb=jb(Ib),qb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Eb),Bb=jb(qb),Fb=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Eb),zb=jb(Fb),Hb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Eb),Ub=jb(Hb),Wb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Eb),Vb=jb(Wb),Yb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Eb),Xb=jb(Yb),Kb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Eb),Gb=jb(Kb),$b=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Eb),Zb=jb($b),Jb=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Eb),Qb=jb(Jb),ty=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Eb),ey=jb(ty),ny=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Eb),iy=jb(ny),ry=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Eb),oy=jb(ry),sy=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Eb),ay=jb(sy),ly=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Eb),uy=jb(ly),cy=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Eb),hy=jb(cy),fy=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Eb),dy=jb(fy),py=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Eb),gy=jb(py),vy=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Eb),by=jb(vy),yy=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Eb),my=jb(yy),_y=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Eb),xy=jb(_y),wy=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Eb),ky=jb(wy),Ey=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Eb),Sy=jb(Ey),Ay=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Eb),Ty=jb(Ay),My=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Eb),Oy=jb(My),Cy=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Eb),Ny=jb(Cy),Ly=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Eb),Dy=jb(Ly),Py=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Eb),jy=jb(Py),Iy=zi(ti(300,.5,0),ti(-240,.5,1)),Ry=zi(ti(-100,.75,.35),ti(80,1.5,.8)),qy=zi(ti(260,.75,.35),ti(80,1.5,.8)),By=ti(),Fy=bn(),zy=Math.PI/3,Hy=2*Math.PI/3;function Uy(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Wy=Uy(Eb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Vy=Uy(Eb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Yy=Uy(Eb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Xy=Uy(Eb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ky(t){return function(){return t}}var Gy=Math.abs,$y=Math.atan2,Zy=Math.cos,Jy=Math.max,Qy=Math.min,tm=Math.sin,em=Math.sqrt,nm=1e-12,im=Math.PI,rm=im/2,om=2*im;function sm(t){return t>1?0:t<-1?im:Math.acos(t)}function am(t){return t>=1?rm:t<=-1?-rm:Math.asin(t)}function lm(t){return t.innerRadius}function um(t){return t.outerRadius}function cm(t){return t.startAngle}function hm(t){return t.endAngle}function fm(t){return t&&t.padAngle}function dm(t,e,n,i,r,o,s,a){var l=n-t,u=i-e,c=s-r,h=a-o,f=h*l-c*u;if(!(f*f<nm))return[t+(f=(c*(e-o)-h*(t-r))/f)*l,e+f*u]}function pm(t,e,n,i,r,o,s){var a=t-n,l=e-i,u=(s?o:-o)/em(a*a+l*l),c=u*l,h=-u*a,f=t+c,d=e+h,p=n+c,g=i+h,v=(f+p)/2,b=(d+g)/2,y=p-f,m=g-d,_=y*y+m*m,x=r-o,w=f*g-p*d,k=(m<0?-1:1)*em(Jy(0,x*x*_-w*w)),E=(w*m-y*k)/_,S=(-w*y-m*k)/_,A=(w*m+y*k)/_,T=(-w*y+m*k)/_,M=E-v,O=S-b,C=A-v,N=T-b;return M*M+O*O>C*C+N*N&&(E=A,S=T),{cx:E,cy:S,x01:-c,y01:-h,x11:E*(r/x-1),y11:S*(r/x-1)}}var gm=Array.prototype.slice;function vm(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function bm(t){this._context=t}function ym(t){return new bm(t)}function mm(t){return t[0]}function _m(t){return t[1]}function xm(t,e){var n=Ky(!0),i=null,r=ym,o=null;function s(s){var a,l,u,c=(s=vm(s)).length,h=!1;for(null==i&&(o=r(u=as())),a=0;a<=c;++a)!(a<c&&n(l=s[a],a,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,a,s),+e(l,a,s));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?mm:Ky(t),e="function"==typeof e?e:void 0===e?_m:Ky(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:Ky(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Ky(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ky(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s}function wm(t,e,n){var i=null,r=Ky(!0),o=null,s=ym,a=null;function l(l){var u,c,h,f,d,p=(l=vm(l)).length,g=!1,v=new Array(p),b=new Array(p);for(null==o&&(a=s(d=as())),u=0;u<=p;++u){if(!(u<p&&r(f=l[u],u,l))===g)if(g=!g)c=u,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=u-1;h>=c;--h)a.point(v[h],b[h]);a.lineEnd(),a.areaEnd()}g&&(v[u]=+t(f,u,l),b[u]=+e(f,u,l),a.point(i?+i(f,u,l):v[u],n?+n(f,u,l):b[u]))}if(d)return a=null,d+""||null}function u(){return xm().defined(r).curve(s).context(o)}return t="function"==typeof t?t:void 0===t?mm:Ky(+t),e="function"==typeof e?e:Ky(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?_m:Ky(+n),l.x=function(e){return arguments.length?(t="function"==typeof e?e:Ky(+e),i=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Ky(+e),l):t},l.x1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ky(+t),l):i},l.y=function(t){return arguments.length?(e="function"==typeof t?t:Ky(+t),n=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:Ky(+t),l):e},l.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Ky(+t),l):n},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(n)},l.lineX1=function(){return u().x(i).y(e)},l.defined=function(t){return arguments.length?(r="function"==typeof t?t:Ky(!!t),l):r},l.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),l):s},l.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),l):o},l}function km(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Em(t){return t}bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Sm=Tm(ym);function Am(t){this._curve=t}function Tm(t){function e(e){return new Am(t(e))}return e._curve=t,e}function Mm(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Tm(t)):e()._curve},t}function Om(){return Mm(xm().curve(Sm))}function Cm(){var t=wm().curve(Sm),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Mm(n())},delete t.lineX0,t.lineEndAngle=function(){return Mm(i())},delete t.lineX1,t.lineInnerRadius=function(){return Mm(r())},delete t.lineY0,t.lineOuterRadius=function(){return Mm(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Tm(t)):e()._curve},t}function Nm(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function Lm(t){return t.source}function Dm(t){return t.target}function Pm(t){var e=Lm,n=Dm,i=mm,r=_m,o=null;function s(){var s,a=gm.call(arguments),l=e.apply(this,a),u=n.apply(this,a);if(o||(o=s=as()),t(o,+i.apply(this,(a[0]=l,a)),+r.apply(this,a),+i.apply(this,(a[0]=u,a)),+r.apply(this,a)),s)return o=null,s+""||null}return s.source=function(t){return arguments.length?(e=t,s):e},s.target=function(t){return arguments.length?(n=t,s):n},s.x=function(t){return arguments.length?(i="function"==typeof t?t:Ky(+t),s):i},s.y=function(t){return arguments.length?(r="function"==typeof t?t:Ky(+t),s):r},s.context=function(t){return arguments.length?(o=null==t?null:t,s):o},s}function jm(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function Im(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function Rm(t,e,n,i,r){var o=Nm(e,n),s=Nm(e,n=(n+r)/2),a=Nm(i,n),l=Nm(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}Am.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var qm={draw:function(t,e){var n=Math.sqrt(e/im);t.moveTo(n,0),t.arc(0,0,n,0,om)}},Bm={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Fm=Math.sqrt(1/3),zm=2*Fm,Hm={draw:function(t,e){var n=Math.sqrt(e/zm),i=n*Fm;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},Um=Math.sin(im/10)/Math.sin(7*im/10),Wm=Math.sin(om/10)*Um,Vm=-Math.cos(om/10)*Um,Ym={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=Wm*n,r=Vm*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var s=om*o/5,a=Math.cos(s),l=Math.sin(s);t.lineTo(l*n,-a*n),t.lineTo(a*i-l*r,l*i+a*r)}t.closePath()}},Xm={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},Km=Math.sqrt(3),Gm={draw:function(t,e){var n=-Math.sqrt(e/(3*Km));t.moveTo(0,2*n),t.lineTo(-Km*n,-n),t.lineTo(Km*n,-n),t.closePath()}},$m=-.5,Zm=Math.sqrt(3)/2,Jm=1/Math.sqrt(12),Qm=3*(Jm/2+1),t_={draw:function(t,e){var n=Math.sqrt(e/Qm),i=n/2,r=n*Jm,o=i,s=n*Jm+n,a=-o,l=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,l),t.lineTo($m*i-Zm*r,Zm*i+$m*r),t.lineTo($m*o-Zm*s,Zm*o+$m*s),t.lineTo($m*a-Zm*l,Zm*a+$m*l),t.lineTo($m*i+Zm*r,$m*r-Zm*i),t.lineTo($m*o+Zm*s,$m*s-Zm*o),t.lineTo($m*a+Zm*l,$m*l-Zm*a),t.closePath()}},e_=[qm,Bm,Hm,Xm,Ym,Gm,t_];function n_(){}function i_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function r_(t){this._context=t}function o_(t){this._context=t}function s_(t){this._context=t}r_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},o_.prototype={areaStart:n_,areaEnd:n_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:i_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},s_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:i_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};class a_{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function l_(t,e){this._basis=new r_(t),this._beta=e}l_.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,l=-1;++l<=n;)this._basis.point(this._beta*t[l]+(1-this._beta)*(r+(i=l/n)*s),this._beta*e[l]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var u_=function t(e){function n(t){return 1===e?new r_(t):new l_(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function c_(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function h_(t,e){this._context=t,this._k=(1-e)/6}h_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:c_(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:c_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var f_=function t(e){function n(t){return new h_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function d_(t,e){this._context=t,this._k=(1-e)/6}d_.prototype={areaStart:n_,areaEnd:n_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:c_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var p_=function t(e){function n(t){return new d_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function g_(t,e){this._context=t,this._k=(1-e)/6}g_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:c_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var v_=function t(e){function n(t){return new g_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function b_(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>nm){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>nm){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,s=(s*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function y_(t,e){this._context=t,this._alpha=e}y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:b_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var m_=function t(e){function n(t){return e?new y_(t,e):new h_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function __(t,e){this._context=t,this._alpha=e}__.prototype={areaStart:n_,areaEnd:n_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:b_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var x_=function t(e){function n(t){return e?new __(t,e):new d_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function w_(t,e){this._context=t,this._alpha=e}w_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:b_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var k_=function t(e){function n(t){return e?new w_(t,e):new g_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function E_(t){this._context=t}function S_(t){return t<0?-1:1}function A_(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(S_(o)+S_(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function T_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function M_(t,e,n){var i=t._x0,r=t._x1,o=t._y1,s=(r-i)/3;t._context.bezierCurveTo(i+s,t._y0+s*e,r-s,o-s*n,r,o)}function O_(t){this._context=t}function C_(t){this._context=new N_(t)}function N_(t){this._context=t}function L_(t){this._context=t}function D_(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)o[e]-=n=r[e]/o[e-1],s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function P_(t,e){this._context=t,this._t=e}function j_(t,e){if((r=t.length)>1)for(var n,i,r,o=1,s=t[e[0]],a=s.length;o<r;++o)for(i=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function I_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function R_(t,e){return t[e]}function q_(t){const e=[];return e.key=t,e}function B_(t){var e=t.map(F_);return I_(t).sort(function(t,n){return e[t]-e[n]})}function F_(t){for(var e,n=-1,i=0,r=t.length,o=-1/0;++n<r;)(e=+t[n][1])>o&&(o=e,i=n);return i}function z_(t){var e=t.map(H_);return I_(t).sort(function(t,n){return e[t]-e[n]})}function H_(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}E_.prototype={areaStart:n_,areaEnd:n_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},O_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M_(this,this._t0,T_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M_(this,T_(this,n=A_(this,t,e)),n);break;default:M_(this,this._t0,n=A_(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(C_.prototype=Object.create(O_.prototype)).point=function(t,e){O_.prototype.point.call(this,e,t)},N_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},L_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=D_(t),r=D_(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},P_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var U_=t=>()=>t;function W_(t,{sourceEvent:e,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function V_(t,e,n){this.k=t,this.x=e,this.y=n}V_.prototype={constructor:V_,scale:function(t){return 1===t?this:new V_(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new V_(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Y_=new V_(1,0,0);function X_(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Y_;return t.__zoom}function K_(t){t.stopImmediatePropagation()}function G_(t){t.preventDefault(),t.stopImmediatePropagation()}function $_(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Z_(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function J_(){return this.__zoom||Y_}function Q_(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function tx(){return navigator.maxTouchPoints||"ontouchstart"in this}function ex(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}X_.prototype=V_.prototype,t.Adder=g,t.Delaunay=Qs,t.FormatSpecifier=rl,t.InternMap=v,t.InternSet=b,t.Voronoi=Xs,t.active=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>1&&n.name===e)return new Hr([[t]],vo,e,+i);return null},t.arc=function(){var t=lm,e=um,n=Ky(0),i=null,r=cm,o=hm,s=fm,a=null;function l(){var l,u,c=+t.apply(this,arguments),h=+e.apply(this,arguments),f=r.apply(this,arguments)-rm,d=o.apply(this,arguments)-rm,p=Gy(d-f),g=d>f;if(a||(a=l=as()),h<c&&(u=h,h=c,c=u),h>nm)if(p>om-nm)a.moveTo(h*Zy(f),h*tm(f)),a.arc(0,0,h,f,d,!g),c>nm&&(a.moveTo(c*Zy(d),c*tm(d)),a.arc(0,0,c,d,f,g));else{var v,b,y=f,m=d,_=f,x=d,w=p,k=p,E=s.apply(this,arguments)/2,S=E>nm&&(i?+i.apply(this,arguments):em(c*c+h*h)),A=Qy(Gy(h-c)/2,+n.apply(this,arguments)),T=A,M=A;if(S>nm){var O=am(S/c*tm(E)),C=am(S/h*tm(E));(w-=2*O)>nm?(_+=O*=g?1:-1,x-=O):(w=0,_=x=(f+d)/2),(k-=2*C)>nm?(y+=C*=g?1:-1,m-=C):(k=0,y=m=(f+d)/2)}var N=h*Zy(y),L=h*tm(y),D=c*Zy(x),P=c*tm(x);if(A>nm){var j,I=h*Zy(m),R=h*tm(m),q=c*Zy(_),B=c*tm(_);if(p<im&&(j=dm(N,L,q,B,I,R,D,P))){var F=N-j[0],z=L-j[1],H=I-j[0],U=R-j[1],W=1/tm(sm((F*H+z*U)/(em(F*F+z*z)*em(H*H+U*U)))/2),V=em(j[0]*j[0]+j[1]*j[1]);T=Qy(A,(c-V)/(W-1)),M=Qy(A,(h-V)/(W+1))}}k>nm?M>nm?(v=pm(q,B,N,L,h,M,g),b=pm(I,R,D,P,h,M,g),a.moveTo(v.cx+v.x01,v.cy+v.y01),M<A?a.arc(v.cx,v.cy,M,$y(v.y01,v.x01),$y(b.y01,b.x01),!g):(a.arc(v.cx,v.cy,M,$y(v.y01,v.x01),$y(v.y11,v.x11),!g),a.arc(0,0,h,$y(v.cy+v.y11,v.cx+v.x11),$y(b.cy+b.y11,b.cx+b.x11),!g),a.arc(b.cx,b.cy,M,$y(b.y11,b.x11),$y(b.y01,b.x01),!g))):(a.moveTo(N,L),a.arc(0,0,h,y,m,!g)):a.moveTo(N,L),c>nm&&w>nm?T>nm?(v=pm(D,P,I,R,c,-T,g),b=pm(N,L,q,B,c,-T,g),a.lineTo(v.cx+v.x01,v.cy+v.y01),T<A?a.arc(v.cx,v.cy,T,$y(v.y01,v.x01),$y(b.y01,b.x01),!g):(a.arc(v.cx,v.cy,T,$y(v.y01,v.x01),$y(v.y11,v.x11),!g),a.arc(0,0,c,$y(v.cy+v.y11,v.cx+v.x11),$y(b.cy+b.y11,b.cx+b.x11),g),a.arc(b.cx,b.cy,T,$y(b.y11,b.x11),$y(b.y01,b.x01),!g))):a.arc(0,0,c,x,_,g):a.lineTo(D,P)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-im/2;return[Zy(i)*n,tm(i)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Ky(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Ky(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Ky(+t),l):n},l.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Ky(+t),l):i},l.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ky(+t),l):r},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ky(+t),l):o},l.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:Ky(+t),l):s},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l},t.area=wm,t.areaRadial=Cm,t.ascending=e,t.autoType=function(t){for(var e in t){var n,i,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;wa&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;t[e]=r}return t},t.axisBottom=function(t){return ft(3,t)},t.axisLeft=function(t){return ft(4,t)},t.axisRight=function(t){return ft(2,t)},t.axisTop=function(t){return ft(1,t)},t.bin=B,t.bisect=o,t.bisectCenter=a,t.bisectLeft=s,t.bisectRight=o,t.bisector=n,t.blob=function(t,e){return fetch(t,e).then(ka)},t.brush=function(){return Wo(Lo)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},t.brushX=function(){return Wo(Co)},t.brushY=function(){return Wo(No)},t.buffer=function(t,e){return fetch(t,e).then(Ea)},t.chord=function(){return es(!1,!1)},t.chordDirected=function(){return es(!0,!1)},t.chordTranspose=function(){return es(!1,!0)},t.cluster=function(){var t=qf,e=1,n=1,i=!1;function r(r){var o,s=0;r.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Bf,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Ff,0)}(n)):(e.x=o?s+=t(e,o):0,e.y=0,o=e)});var a=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),u=a.x-t(a,l)/2,c=l.x+t(l,a)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-u)/(c-u)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},t.color=dn,t.contourDensity=function(){var t=Os,e=Cs,n=Ns,i=960,r=500,o=20,s=2,a=3*o,l=i+2*a>>s,u=r+2*a>>s,c=_s(20);function h(i){var r=new Float32Array(l*u),h=new Float32Array(l*u);i.forEach(function(i,o,c){var h=+t(i,o,c)+a>>s,f=+e(i,o,c)+a>>s,d=+n(i,o,c);h>=0&&h<l&&f>=0&&f<u&&(r[h+f*l]+=d)}),Ts({width:l,height:u,data:r},{width:l,height:u,data:h},o>>s),Ms({width:l,height:u,data:h},{width:l,height:u,data:r},o>>s),Ts({width:l,height:u,data:r},{width:l,height:u,data:h},o>>s),Ms({width:l,height:u,data:h},{width:l,height:u,data:r},o>>s),Ts({width:l,height:u,data:r},{width:l,height:u,data:h},o>>s),Ms({width:l,height:u,data:h},{width:l,height:u,data:r},o>>s);var d=c(r);if(!Array.isArray(d)){var p=F(r);d=I(0,p,d),(d=$(0,Math.floor(p/d)*d,d)).shift()}return As().thresholds(d).size([l,u])(r).map(f)}function f(t){return t.value*=Math.pow(2,-2*s),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,s)-a,t[1]=t[1]*Math.pow(2,s)-a}function v(){return l=i+2*(a=3*o)>>s,u=r+2*a>>s,h}return h.x=function(e){return arguments.length?(t="function"==typeof e?e:_s(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:_s(+t),h):e},h.weight=function(t){return arguments.length?(n="function"==typeof t?t:_s(+t),h):n},h.size=function(t){if(!arguments.length)return[i,r];var e=+t[0],n=+t[1];if(!(e>=0&&n>=0))throw new Error("invalid size");return i=e,r=n,v()},h.cellSize=function(t){if(!arguments.length)return 1<<s;if(!((t=+t)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(t)/Math.LN2),v()},h.thresholds=function(t){return arguments.length?(c="function"==typeof t?t:Array.isArray(t)?_s(ys.call(t)):_s(t),h):c},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},h},t.contours=As,t.count=l,t.create=function(t){return Le(Et(t).call(document.documentElement))},t.creator=Et,t.cross=function(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(h)).map(u),i=t.length-1,r=new Array(i+1).fill(0),o=[];if(i<0||n.some(c))return o;for(;;){o.push(r.map((e,n)=>t[n][e]));let s=i;for(;++r[s]===n[s];){if(0===s)return e?o.map(e):o;r[s--]=0}}},t.csv=Ma,t.csvFormat=ua,t.csvFormatBody=ca,t.csvFormatRow=fa,t.csvFormatRows=ha,t.csvFormatValue=da,t.csvParse=aa,t.csvParseRows=la,t.cubehelix=ti,t.cumsum=function(t,e){var n=0,i=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:r=>n+=+e(r,i++,t)||0)},t.curveBasis=function(t){return new r_(t)},t.curveBasisClosed=function(t){return new o_(t)},t.curveBasisOpen=function(t){return new s_(t)},t.curveBumpX=function(t){return new a_(t,!0)},t.curveBumpY=function(t){return new a_(t,!1)},t.curveBundle=u_,t.curveCardinal=f_,t.curveCardinalClosed=p_,t.curveCardinalOpen=v_,t.curveCatmullRom=m_,t.curveCatmullRomClosed=x_,t.curveCatmullRomOpen=k_,t.curveLinear=ym,t.curveLinearClosed=function(t){return new E_(t)},t.curveMonotoneX=function(t){return new O_(t)},t.curveMonotoneY=function(t){return new C_(t)},t.curveNatural=function(t){return new L_(t)},t.curveStep=function(t){return new P_(t,.5)},t.curveStepAfter=function(t){return new P_(t,1)},t.curveStepBefore=function(t){return new P_(t,0)},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=d,t.difference=function(t,...e){t=new Set(t);for(const n of e)for(const e of n)t.delete(e);return t},t.disjoint=function(t,e){const n=e[Symbol.iterator](),i=new Set;for(const r of t){if(i.has(r))return!1;let t,e;for(;({value:t,done:e}=n.next())&&!e;){if(Object.is(r,t))return!1;i.add(t)}}return!0},t.dispatch=pt,t.drag=function(){var t,e,n,i,r=We,o=Ve,s=Ye,a=Xe,l={},u=pt("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",v).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(s,a){if(!i&&r.call(this,s,a)){var l=m(this,o.call(this,s,a),s,a,"mouse");l&&(Le(s.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),Fe(s.view),qe(s),n=!1,t=s.clientX,e=s.clientY,l("start",s))}}function p(i){if(Be(i),!n){var r=i.clientX-t,o=i.clientY-e;n=r*r+o*o>h}l.mouse("drag",i)}function g(t){Le(t.view).on("mousemove.drag mouseup.drag",null),ze(t.view,n),Be(t),l.mouse("end",t)}function v(t,e){if(r.call(this,t,e)){var n,i,s=t.changedTouches,a=o.call(this,t,e),l=s.length;for(n=0;n<l;++n)(i=m(this,a,t,e,s[n].identifier,s[n]))&&(qe(t),i("start",t,s[n]))}}function b(t){var e,n,i=t.changedTouches,r=i.length;for(e=0;e<r;++e)(n=l[i[e].identifier])&&(Be(t),n("drag",t,i[e]))}function y(t){var e,n,r=t.changedTouches,o=r.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),e=0;e<o;++e)(n=l[r[e].identifier])&&(qe(t),n("end",t,r[e]))}function m(t,e,n,i,r,o){var a,h,d,p=u.copy(),g=Re(o||n,e);if(null!=(d=s.call(t,new Ue("beforestart",{sourceEvent:n,target:f,identifier:r,active:c,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),i)))return a=d.x-g[0]||0,h=d.y-g[1]||0,function n(o,s,u){var v,b=g;switch(o){case"start":l[r]=n,v=c++;break;case"end":delete l[r],--c;case"drag":g=Re(u||s,e),v=c}p.call(o,t,new Ue(o,{sourceEvent:s,subject:d,target:f,identifier:r,active:v,x:g[0]+a,y:g[1]+h,dx:g[0]-b[0],dy:g[1]-b[1],dispatch:p}),i)}}return f.filter=function(t){return arguments.length?(r="function"==typeof t?t:He(!!t),f):r},f.container=function(t){return arguments.length?(o="function"==typeof t?t:He(t),f):o},f.subject=function(t){return arguments.length?(s="function"==typeof t?t:He(t),f):s},f.touchable=function(t){return arguments.length?(a="function"==typeof t?t:He(!!t),f):a},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f},t.dragDisable=Fe,t.dragEnable=ze,t.dsv=function(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=oa(t);return Aa(e,n).then(function(t){return r.parse(t,i)})},t.dsvFormat=oa,t.easeBack=lo,t.easeBackIn=so,t.easeBackInOut=lo,t.easeBackOut=ao,t.easeBounce=ro,t.easeBounceIn=function(t){return 1-ro(1-t)},t.easeBounceInOut=function(t){return((t*=2)<=1?1-ro(1-t):ro(t-1)+1)/2},t.easeBounceOut=ro,t.easeCircle=no,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleInOut=no,t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCubic=Xr,t.easeCubicIn=function(t){return t*t*t},t.easeCubicInOut=Xr,t.easeCubicOut=function(t){return--t*t*t+1},t.easeElastic=ho,t.easeElasticIn=co,t.easeElasticInOut=fo,t.easeElasticOut=ho,t.easeExp=eo,t.easeExpIn=function(t){return to(1-+t)},t.easeExpInOut=eo,t.easeExpOut=function(t){return 1-to(t)},t.easeLinear=t=>+t,t.easePoly=$r,t.easePolyIn=Kr,t.easePolyInOut=$r,t.easePolyOut=Gr,t.easeQuad=Yr,t.easeQuadIn=function(t){return t*t},t.easeQuadInOut=Yr,t.easeQuadOut=function(t){return t*(2-t)},t.easeSin=Qr,t.easeSinIn=function(t){return 1==+t?1:1-Math.cos(t*Jr)},t.easeSinInOut=Qr,t.easeSinOut=function(t){return Math.sin(t*Jr)},t.every=function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const i of t)if(!e(i,++n,t))return!1;return!0},t.extent=p,t.fcumsum=function(t,e){const n=new g;let i=-1;return Float64Array.from(t,void 0===e?t=>n.add(+t||0):r=>n.add(+e(r,++i,t)||0))},t.filter=function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let i=-1;for(const r of t)e(r,++i,t)&&n.push(r);return n},t.forceCenter=function(t,e){var n,i=1;function r(){var r,o,s=n.length,a=0,l=0;for(r=0;r<s;++r)a+=(o=n[r]).x,l+=o.y;for(a=(a/s-t)*i,l=(l/s-e)*i,r=0;r<s;++r)(o=n[r]).x-=a,o.y-=l}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r.strength=function(t){return arguments.length?(i=+t,r):i},r},t.forceCollide=function(t){var e,n,i,r=1,o=1;function s(){for(var t,s,l,u,c,h,f,d=e.length,p=0;p<o;++p)for(s=Ba(e,Va,Ya).visitAfter(a),t=0;t<d;++t)f=(h=n[(l=e[t]).index])*h,u=l.x+l.vx,c=l.y+l.vy,s.visit(g);function g(t,e,n,o,s){var a=t.data,d=t.r,p=h+d;if(!a)return e>u+p||o<u-p||n>c+p||s<c-p;if(a.index>l.index){var g=u-a.x-a.vx,v=c-a.y-a.vy,b=g*g+v*v;b<p*p&&(0===g&&(b+=(g=Wa(i))*g),0===v&&(b+=(v=Wa(i))*v),b=(p-(b=Math.sqrt(b)))/b*r,l.vx+=(g*=b)*(p=(d*=d)/(f+d)),l.vy+=(v*=b)*p,a.vx-=g*(p=1-p),a.vy-=v*p)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)n[(r=e[i]).index]=+t(r,i,e)}}return"function"!=typeof t&&(t=Ua(null==t?1:+t)),s.initialize=function(t,n){e=t,i=n,l()},s.iterations=function(t){return arguments.length?(o=+t,s):o},s.strength=function(t){return arguments.length?(r=+t,s):r},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ua(+e),l(),s):t},s},t.forceLink=function(t){var e,n,i,r,o,s,a=Xa,l=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},u=Ua(30),c=1;function h(i){for(var r=0,a=t.length;r<c;++r)for(var l,u,h,f,d,p,g,v=0;v<a;++v)u=(l=t[v]).source,f=(h=l.target).x+h.vx-u.x-u.vx||Wa(s),d=h.y+h.vy-u.y-u.vy||Wa(s),f*=p=((p=Math.sqrt(f*f+d*d))-n[v])/p*i*e[v],d*=p,h.vx-=f*(g=o[v]),h.vy-=d*g,u.vx+=f*(g=1-g),u.vy+=d*g}function f(){if(i){var s,l,u=i.length,c=t.length,h=new Map(i.map((t,e)=>[a(t,e,i),t]));for(s=0,r=new Array(u);s<c;++s)(l=t[s]).index=s,"object"!=typeof l.source&&(l.source=Ka(h,l.source)),"object"!=typeof l.target&&(l.target=Ka(h,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(s=0,o=new Array(c);s<c;++s)o[s]=r[(l=t[s]).source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(c),d(),n=new Array(c),p()}}function d(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+l(t[n],n,t)}function p(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){i=t,s=e,f()},h.links=function(e){return arguments.length?(t=e,f(),h):t},h.id=function(t){return arguments.length?(a=t,h):a},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(l="function"==typeof t?t:Ua(+t),d(),h):l},h.distance=function(t){return arguments.length?(u="function"==typeof t?t:Ua(+t),p(),h):u},h},t.forceManyBody=function(){var t,e,n,i,r,o=Ua(-30),s=1,a=1/0,l=.81;function u(n){var r,o=t.length,s=Ba(t,$a,Za).visitAfter(h);for(i=n,r=0;r<o;++r)e=t[r],s.visit(f)}function c(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)r[(n=t[e]).index]=+o(n,e,t)}}function h(t){var e,n,i,o,s,a=0,l=0;if(t.length){for(i=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,i+=n*e.x,o+=n*e.y);t.x=i/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=r[e.data.index]}while(e=e.next)}t.value=a}function f(t,o,u,c){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,d=c-o,p=h*h+f*f;if(d*d/l<p)return p<a&&(0===h&&(p+=(h=Wa(n))*h),0===f&&(p+=(f=Wa(n))*f),p<s&&(p=Math.sqrt(s*p)),e.vx+=h*t.value*i/p,e.vy+=f*t.value*i/p),!0;if(!(t.length||p>=a)){(t.data!==e||t.next)&&(0===h&&(p+=(h=Wa(n))*h),0===f&&(p+=(f=Wa(n))*f),p<s&&(p=Math.sqrt(s*p)));do{t.data!==e&&(e.vx+=h*(d=r[t.data.index]*i/p),e.vy+=f*d)}while(t=t.next)}}return u.initialize=function(e,i){t=e,n=i,c()},u.strength=function(t){return arguments.length?(o="function"==typeof t?t:Ua(+t),c(),u):o},u.distanceMin=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u.distanceMax=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.theta=function(t){return arguments.length?(l=t*t,u):Math.sqrt(l)},u},t.forceRadial=function(t,e,n){var i,r,o,s=Ua(.1);function a(t){for(var s=0,a=i.length;s<a;++s){var l=i[s],u=l.x-e||1e-6,c=l.y-n||1e-6,h=Math.sqrt(u*u+c*c),f=(o[s]-h)*r[s]*t/h;l.vx+=u*f,l.vy+=c*f}}function l(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(i[e],e,i),r[e]=isNaN(o[e])?0:+s(i[e],e,i)}}return"function"!=typeof t&&(t=Ua(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){i=t,l()},a.strength=function(t){return arguments.length?(s="function"==typeof t?t:Ua(+t),l(),a):s},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ua(+e),l(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a},t.forceSimulation=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=new Map,l=nr(h),u=pt("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Ga)/Ga}();function h(){f(),u.call("tick",e),n<i&&(l.stop(),u.call("end",e))}function f(i){var l,u,c=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(o-n)*r,a.forEach(function(t){t(n)}),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=s:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=s:(u.y=u.fy,u.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(.5+n),o=n*Ja;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),a.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(c=t,a.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,p(n)),e):a.get(t)},find:function(e,n,i){var r,o,s,a,l,u=0,c=t.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)(s=(r=e-(a=t[u]).x)*r+(o=n-a.y)*o)<i&&(l=a,i=s);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}},t.forceX=function(t){var e,n,i,r=Ua(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=Ua(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:Ua(+t),s(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Ua(+e),s(),o):t},o},t.forceY=function(t){var e,n,i,r=Ua(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=Ua(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:Ua(+t),s(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Ua(+e),s(),o):t},o},t.formatDefaultLocale=fl,t.formatLocale=hl,t.formatSpecifier=il,t.fsum=function(t,e){const n=new g;if(void 0===e)for(let i of t)(i=+i)&&n.add(i);else{let i=-1;for(let r of t)(r=+e(r,++i,t))&&n.add(r)}return+n},t.geoAlbers=vf,t.geoAlbersUsa=function(){var t,e,n,i,r,o,s=vf(),a=gf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=gf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){o=[t,e]}};function c(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(i.point(e,s),o)||(r.point(e,s),o)}function h(){return t=e=null,c}return c.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:s).invert(t)},c.stream=function(n){return t&&e===n?t:(i=[s.stream(e=n),a.stream(n),l.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},c.precision=function(t){return arguments.length?(s.precision(t),a.precision(t),l.precision(t),h()):s.precision()},c.scale=function(t){return arguments.length?(s.scale(t),a.scale(.35*t),l.scale(t),c.translate(s.translate())):s.scale()},c.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),o=+t[0],c=+t[1];return n=s.translate(t).clipExtent([[o-.455*e,c-.238*e],[o+.455*e,c+.238*e]]).stream(u),i=a.translate([o-.307*e,c+.201*e]).clipExtent([[o-.425*e+vl,c+.12*e+vl],[o-.214*e-vl,c+.234*e-vl]]).stream(u),r=l.translate([o-.205*e,c+.212*e]).clipExtent([[o-.214*e+vl,c+.166*e+vl],[o-.115*e-vl,c+.234*e-vl]]).stream(u),h()},c.fitExtent=function(t,e){return nf(c,t,e)},c.fitSize=function(t,e){return rf(c,t,e)},c.fitWidth=function(t,e){return of(c,t,e)},c.fitHeight=function(t,e){return sf(c,t,e)},c.scale(1070)},t.geoArea=function(t){return cu=new g,Yl(t,hu),2*cu},t.geoAzimuthalEqualArea=function(){return hf(mf).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=mf,t.geoAzimuthalEquidistant=function(){return hf(_f).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=_f,t.geoBounds=function(t){var e,n,i,r,o,s,a;if(eu=tu=-(Jl=Ql=1/0),au=[],Yl(t,Bu),n=au.length){for(au.sort(Ku),e=1,o=[i=au[0]];e<n;++e)Gu(i,(r=au[e])[0])||Gu(i,r[1])?(Xu(i[0],r[1])>Xu(i[0],i[1])&&(i[1]=r[1]),Xu(r[0],i[1])>Xu(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)(a=Xu(i[1],(r=o[e])[0]))>s&&(s=a,Jl=r[0],tu=i[1])}return au=lu=null,Jl===1/0||Ql===1/0?[[NaN,NaN],[NaN,NaN]]:[[Jl,Ql],[tu,eu]]},t.geoCentroid=function(t){ku=Eu=Su=Au=Tu=Mu=Ou=Cu=0,Nu=new g,Lu=new g,Du=new g,Yl(t,$u);var e=+Nu,n=+Lu,i=+Du,r=Cl(e,n,i);return r<bl&&(e=Mu,n=Ou,i=Cu,Eu<vl&&(e=Su,n=Au,i=Tu),(r=Cl(e,n,i))<bl)?[NaN,NaN]:[Al(n,e)*wl,ql(i/r)*wl]},t.geoCircle=function(){var t,e,n=ac([0,0]),i=ac(90),r=ac(6),o={point:function(n,i){t.push(n=e(n,i)),n[0]*=wl,n[1]*=wl}};function s(){var s=n.apply(this,arguments),a=i.apply(this,arguments)*kl,l=r.apply(this,arguments)*kl;return t=[],e=cc(-s[0]*kl,-s[1]*kl,0).invert,gc(o,a,l,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:ac([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(i="function"==typeof t?t:ac(+t),s):i},s.precision=function(t){return arguments.length?(r="function"==typeof t?t:ac(+t),s):r},s},t.geoClipAntimeridian=Tc,t.geoClipCircle=Mc,t.geoClipExtent=function(){var t,e,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=jc(i,r,o,s)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[i,r],[o,s]]}}},t.geoClipRectangle=jc,t.geoConicConformal=function(){return df(Ef).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=Ef,t.geoConicEqualArea=gf,t.geoConicEqualAreaRaw=pf,t.geoConicEquidistant=function(){return df(Af).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Af,t.geoContains=function(t,e){return(t&&Wc.hasOwnProperty(t.type)?Wc[t.type]:Yc)(t,e)},t.geoDistance=Uc,t.geoEqualEarth=function(){return hf(Lf).scale(177.158)},t.geoEqualEarthRaw=Lf,t.geoEquirectangular=function(){return hf(Sf).scale(152.63)},t.geoEquirectangularRaw=Sf,t.geoGnomonic=function(){return hf(Df).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=Df,t.geoGraticule=th,t.geoGraticule10=function(){return th()()},t.geoIdentity=function(){var t,e,n,i,r,o,s,a=1,l=0,u=0,c=1,h=1,f=0,d=null,p=1,g=1,v=Qh({point:function(t,e){var n=m([t,e]);this.stream.point(n[0],n[1])}}),b=oh;function y(){return p=a*c,g=a*h,o=s=null,m}function m(n){var i=n[0]*p,r=n[1]*g;if(f){var o=r*t-i*e;i=i*t+r*e,r=o}return[i+l,r+u]}return m.invert=function(n){var i=n[0]-l,r=n[1]-u;if(f){var o=r*t+i*e;i=i*t-r*e,r=o}return[i/p,r/g]},m.stream=function(t){return o&&s===t?o:o=v(b(s=t))},m.postclip=function(t){return arguments.length?(b=t,d=n=i=r=null,y()):b},m.clipExtent=function(t){return arguments.length?(b=null==t?(d=n=i=r=null,oh):jc(d=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),y()):null==d?null:[[d,n],[i,r]]},m.scale=function(t){return arguments.length?(a=+t,y()):a},m.translate=function(t){return arguments.length?(l=+t[0],u=+t[1],y()):[l,u]},m.angle=function(n){return arguments.length?(e=Dl(f=n%360*kl),t=Tl(f),y()):f*wl},m.reflectX=function(t){return arguments.length?(c=t?-1:1,y()):c<0},m.reflectY=function(t){return arguments.length?(h=t?-1:1,y()):h<0},m.fitExtent=function(t,e){return nf(m,t,e)},m.fitSize=function(t,e){return rf(m,t,e)},m.fitWidth=function(t,e){return of(m,t,e)},m.fitHeight=function(t,e){return sf(m,t,e)},m},t.geoInterpolate=function(t,e){var n=t[0]*kl,i=t[1]*kl,r=e[0]*kl,o=e[1]*kl,s=Tl(i),a=Dl(i),l=Tl(o),u=Dl(o),c=s*Tl(n),h=s*Dl(n),f=l*Tl(r),d=l*Dl(r),p=2*ql(jl(Bl(o-i)+s*l*Bl(r-n))),g=Dl(p),v=p?function(t){var e=Dl(t*=p)/g,n=Dl(p-t)/g,i=n*c+e*f,r=n*h+e*d,o=n*a+e*u;return[Al(r,i)*wl,Al(o,jl(i*i+r*r))*wl]}:function(){return[n*wl,i*wl]};return v.distance=p,v},t.geoLength=Fc,t.geoMercator=function(){return wf(xf).scale(961/xl)},t.geoMercatorRaw=xf,t.geoNaturalEarth1=function(){return hf(Pf).scale(175.295)},t.geoNaturalEarth1Raw=Pf,t.geoOrthographic=function(){return hf(jf).scale(249.5).clipAngle(90.000001)},t.geoOrthographicRaw=jf,t.geoPath=function(t,e){var n,i,r=4.5;function o(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),Yl(t,n(i))),i.result()}return o.area=function(t){return Yl(t,n(lh)),lh.result()},o.measure=function(t){return Yl(t,n(Kh)),Kh.result()},o.bounds=function(t){return Yl(t,n(xh)),xh.result()},o.centroid=function(t){return Yl(t,n(Nh)),Nh.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,oh):(t=e).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(e=null,new Zh):new zh(e=t),"function"!=typeof r&&i.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),o):r},o.projection(t).context(e)},t.geoProjection=hf,t.geoProjectionMutator=ff,t.geoRotation=pc,t.geoStereographic=function(){return hf(If).scale(250).clipAngle(142)},t.geoStereographicRaw=If,t.geoStream=Yl,t.geoTransform=function(t){return{stream:Qh(t)}},t.geoTransverseMercator=function(){var t=wf(Rf),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=Rf,t.gray=function(t,e){return new In(t,0,0,null==e?1:e)},t.greatest=function(t,n=e){let i,r=!1;if(1===n.length){let o;for(const s of t){const t=n(s);(r?e(t,o)>0:0===e(t,t))&&(i=s,o=t,r=!0)}}else for(const e of t)(r?n(e,i)>0:0===n(e,e))&&(i=e,r=!0);return i},t.greatestIndex=function(t,n=e){if(1===n.length)return Y(t,n);let i,r=-1,o=-1;for(const e of t)++o,(r<0?0===n(e,e):n(e,i)>0)&&(i=e,r=o);return r},t.group=k,t.groupSort=function(t,n,i){return(1===n.length?M(E(t,n,i),([t,n],[i,r])=>e(n,r)||e(t,i)):M(k(t,i),([t,i],[r,o])=>n(i,o)||e(t,r))).map(([t])=>t)},t.groups=function(t,...e){return A(t,Array.from,w,e)},t.hcl=Hn,t.hierarchy=Hf,t.histogram=B,t.hsl=En,t.html=Da,t.image=function(t,e){return new Promise(function(n,i){var r=new Image;for(var o in e)r[o]=e[o];r.onerror=i,r.onload=function(){n(r)},r.src=t})},t.index=function(t,...e){return A(t,w,S,e)},t.indexes=function(t,...e){return A(t,Array.from,S,e)},t.interpolate=wi,t.interpolateArray=function(t,e){return(pi(e)?di:gi)(t,e)},t.interpolateBasis=ii,t.interpolateBasisClosed=ri,t.interpolateBlues=Sy,t.interpolateBrBG=Rb,t.interpolateBuGn=ey,t.interpolateBuPu=iy,t.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},t.interpolateCool=qy,t.interpolateCubehelix=Fi,t.interpolateCubehelixDefault=Iy,t.interpolateCubehelixLong=zi,t.interpolateDate=vi,t.interpolateDiscrete=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},t.interpolateGnBu=oy,t.interpolateGreens=Ty,t.interpolateGreys=Oy,t.interpolateHcl=Ri,t.interpolateHclLong=qi,t.interpolateHsl=Pi,t.interpolateHslLong=ji,t.interpolateHue=function(t,e){var n=ai(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},t.interpolateInferno=Yy,t.interpolateLab=function(t,e){var n=li((t=jn(t)).l,(e=jn(e)).l),i=li(t.a,e.a),r=li(t.b,e.b),o=li(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}},t.interpolateMagma=Vy,t.interpolateNumber=bi,t.interpolateNumberArray=di,t.interpolateObject=yi,t.interpolateOrRd=ay,t.interpolateOranges=jy,t.interpolatePRGn=Bb,t.interpolatePiYG=zb,t.interpolatePlasma=Xy,t.interpolatePuBu=hy,t.interpolatePuBuGn=uy,t.interpolatePuOr=Ub,t.interpolatePuRd=dy,t.interpolatePurples=Ny,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return By.h=360*t-100,By.s=1.5-1.5*e,By.l=.8-.9*e,By+""},t.interpolateRdBu=Vb,t.interpolateRdGy=Xb,t.interpolateRdPu=gy,t.interpolateRdYlBu=Gb,t.interpolateRdYlGn=Zb,t.interpolateReds=Dy,t.interpolateRgb=ui,t.interpolateRgbBasis=hi,t.interpolateRgbBasisClosed=fi,t.interpolateRound=ki,t.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,Fy.r=255*(e=Math.sin(t))*e,Fy.g=255*(e=Math.sin(t+zy))*e,Fy.b=255*(e=Math.sin(t+Hy))*e,Fy+""},t.interpolateSpectral=Qb,t.interpolateString=xi,t.interpolateTransformCss=Oi,t.interpolateTransformSvg=Ci,t.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},t.interpolateViridis=Wy,t.interpolateWarm=Ry,t.interpolateYlGn=my,t.interpolateYlGnBu=by,t.interpolateYlOrBr=xy,t.interpolateYlOrRd=ky,t.interpolateZoom=Li,t.interrupt=pr,t.intersection=function(t,...e){t=new Set(t),e=e.map(nt);t:for(const n of t)for(const i of e)if(!i.has(n)){t.delete(n);continue t}return t},t.interval=function(t,e,n){var i=new er,r=e;return null==e?(i.restart(t,e,n),i):(i._restart=i.restart,i.restart=function(t,e,n){e=+e,n=null==n?Qi():+n,i._restart(function o(s){s+=r,i._restart(o,r+=e,n),t(s)},e,n)},i.restart(t,e,n),i)},t.isoFormat=db,t.isoParse=pb,t.json=function(t,e){return fetch(t,e).then(Ca)},t.lab=jn,t.lch=function(t,e,n,i){return 1===arguments.length?zn(t):new Un(n,e,t,null==i?1:i)},t.least=function(t,n=e){let i,r=!1;if(1===n.length){let o;for(const s of t){const t=n(s);(r?e(t,o)<0:0===e(t,t))&&(i=s,o=t,r=!0)}}else for(const e of t)(r?n(e,i)<0:0===n(e,e))&&(i=e,r=!0);return i},t.leastIndex=Z,t.line=xm,t.lineRadial=Om,t.linkHorizontal=function(){return Pm(jm)},t.linkRadial=function(){var t=Pm(Rm);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.linkVertical=function(){return Pm(Im)},t.local=Pe,t.map=function(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,(n,i)=>e(n,i,t))},t.matcher=Ct,t.max=F,t.maxIndex=Y,t.mean=function(t,e){let n=0,i=0;if(void 0===e)for(let r of t)null!=r&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(o=+o)>=o&&(++n,i+=o)}if(n)return i/n},t.median=function(t,e){return W(t,.5,e)},t.merge=X,t.min=z,t.minIndex=K,t.namespace=xt,t.namespaces=_t,t.nice=R,t.now=Qi,t.pack=function(){var t=null,e=1,n=1,i=ud;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(fd(t)).eachAfter(dd(i,.5)).eachBefore(pd(1)):r.eachBefore(fd(hd)).eachAfter(dd(ud,1)).eachAfter(dd(i,r.r/Math.min(e,n))).eachBefore(pd(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=ad(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:cd(+t),r):i},r},t.packEnclose=Kf,t.packSiblings=function(t){return sd(t),t},t.pairs=function(t,e=G){const n=[];let i,r=!1;for(const o of t)r&&n.push(e(i,o)),i=o,r=!0;return n},t.partition=function(){var t=1,e=1,n=0,i=!1;function r(r){var o=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/o,r.eachBefore(function(t,e){return function(i){i.children&&vd(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,o=i.y0,s=i.x1-n,a=i.y1-n;s<r&&(r=s=(r+s)/2),a<o&&(o=a=(o+a)/2),i.x0=r,i.y0=o,i.x1=s,i.y1=a}}(e,o)),i&&r.eachBefore(gd),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},t.path=as,t.permute=T,t.pie=function(){var t=Em,e=km,n=null,i=Ky(0),r=Ky(om),o=Ky(0);function s(s){var a,l,u,c,h,f=(s=vm(s)).length,d=0,p=new Array(f),g=new Array(f),v=+i.apply(this,arguments),b=Math.min(om,Math.max(-om,r.apply(this,arguments)-v)),y=Math.min(Math.abs(b)/f,o.apply(this,arguments)),m=y*(b<0?-1:1);for(a=0;a<f;++a)(h=g[p[a]=a]=+t(s[a],a,s))>0&&(d+=h);for(null!=e?p.sort(function(t,n){return e(g[t],g[n])}):null!=n&&p.sort(function(t,e){return n(s[t],s[e])}),a=0,u=d?(b-f*m)/d:0;a<f;++a,v=c)c=v+((h=g[l=p[a]])>0?h*u:0)+m,g[l]={data:s[l],index:a,value:h,startAngle:v,endAngle:c,padAngle:y};return g}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:Ky(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ky(+t),s):i},s.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ky(+t),s):r},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ky(+t),s):o},s},t.piecewise=Hi,t.pointRadial=Nm,t.pointer=Re,t.pointers=function(t,e){return t.target&&(t=Ie(t),void 0===e&&(e=t.currentTarget),t=t.touches||[t]),Array.from(t,t=>Re(t,e))},t.polygonArea=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)o+=(e=r)[1]*(r=t[n])[0]-e[0]*r[1];return o/2},t.polygonCentroid=function(t){for(var e,n,i=-1,r=t.length,o=0,s=0,a=t[r-1],l=0;++i<r;)l+=n=(e=a)[0]*(a=t[i])[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o/(l*=3),s/l]},t.polygonContains=function(t,e){for(var n,i,r=t.length,o=t[r-1],s=e[0],a=e[1],l=o[0],u=o[1],c=!1,h=0;h<r;++h)n=(o=t[h])[0],(i=o[1])>a!=u>a&&s<(l-n)*(a-i)/(u-i)+n&&(c=!c),l=n,u=i;return c},t.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(Dd),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=Pd(i),s=Pd(r),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],u=[];for(e=o.length-1;e>=0;--e)u.push(t[i[o[e]][2]]);for(e=+a;e<s.length-l;++e)u.push(t[i[s[e]][2]]);return u},t.polygonLength=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],s=o[0],a=o[1],l=0;++i<r;)e=s,n=a,e-=s=(o=t[i])[0],n-=a=o[1],l+=Math.hypot(e,n);return l},t.precisionFixed=dl,t.precisionPrefix=pl,t.precisionRound=gl,t.quadtree=Ba,t.quantile=W,t.quantileSorted=V,t.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},t.quickselect=H,t.radialArea=Cm,t.radialLine=Om,t.randomBates=zd,t.randomBernoulli=Wd,t.randomBeta=Xd,t.randomBinomial=Kd,t.randomCauchy=$d,t.randomExponential=Hd,t.randomGamma=Yd,t.randomGeometric=Vd,t.randomInt=Rd,t.randomIrwinHall=Fd,t.randomLcg=function(t=Math.random()){let e=0|(0<=t&&t<1?t/Qd:Math.abs(t));return()=>(e=1664525*e+1013904223|0,Qd*(e>>>0))},t.randomLogNormal=Bd,t.randomLogistic=Zd,t.randomNormal=qd,t.randomPareto=Ud,t.randomPoisson=Jd,t.randomUniform=Id,t.randomWeibull=Gd,t.range=$,t.reduce=function(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const i=t[Symbol.iterator]();let r,o,s=-1;if(arguments.length<3){if(({done:r,value:n}=i.next()),r)return;++s}for(;({done:r,value:o}=i.next()),!r;)n=e(n,o,++s,t);return n},t.reverse=function(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()},t.rgb=bn,t.ribbon=function(){return bs()},t.ribbonArrow=function(){return bs(vs)},t.rollup=E,t.rollups=function(t,e,...n){return A(t,Array.from,e,n)},t.scaleBand=rp,t.scaleDiverging=function t(){var e=vp(wb()(lp));return e.copy=function(){return _b(e,t())},ep.apply(e,arguments)},t.scaleDivergingLog=function t(){var e=Ep(wb()).domain([.1,1,10]);return e.copy=function(){return _b(e,t()).base(e.base())},ep.apply(e,arguments)},t.scaleDivergingPow=kb,t.scaleDivergingSqrt=function(){return kb.apply(null,arguments).exponent(.5)},t.scaleDivergingSymlog=function t(){var e=Tp(wb());return e.copy=function(){return _b(e,t()).constant(e.constant())},ep.apply(e,arguments)},t.scaleIdentity=function t(e){var n;function i(t){return isNaN(t=+t)?n:t}return i.invert=i,i.domain=i.range=function(t){return arguments.length?(e=Array.from(t,sp),i):e.slice()},i.unknown=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return t(e).unknown(n)},e=arguments.length?Array.from(e,sp):[0,1],vp(i)},t.scaleImplicit=np,t.scaleLinear=function t(){var e=pp();return e.copy=function(){return fp(e,t())},tp.apply(e,arguments),vp(e)},t.scaleLog=function t(){var e=Ep(dp()).domain([1,10]);return e.copy=function(){return fp(e,t()).base(e.base())},tp.apply(e,arguments),e},t.scaleOrdinal=ip,t.scalePoint=function(){return op(rp.apply(null,arguments).paddingInner(1))},t.scalePow=Lp,t.scaleQuantile=function t(){var n,i=[],r=[],s=[];function a(){var t=0,e=Math.max(1,r.length);for(s=new Array(e-1);++t<e;)s[t-1]=V(i,t/e);return l}function l(t){return isNaN(t=+t)?n:r[o(s,t)]}return l.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?s[e-1]:i[0],e<s.length?s[e]:i[i.length-1]]},l.domain=function(t){if(!arguments.length)return i.slice();i=[];for(let e of t)null==e||isNaN(e=+e)||i.push(e);return i.sort(e),a()},l.range=function(t){return arguments.length?(r=Array.from(t),a()):r.slice()},l.unknown=function(t){return arguments.length?(n=t,l):n},l.quantiles=function(){return s.slice()},l.copy=function(){return t().domain(i).range(r).unknown(n)},tp.apply(l,arguments)},t.scaleQuantize=function t(){var e,n=0,i=1,r=1,s=[.5],a=[0,1];function l(t){return t<=t?a[o(s,t,0,r)]:e}function u(){var t=-1;for(s=new Array(r);++t<r;)s[t]=((t+1)*i-(t-r)*n)/(r+1);return l}return l.domain=function(t){return arguments.length?([n,i]=t,n=+n,i=+i,u()):[n,i]},l.range=function(t){return arguments.length?(r=(a=Array.from(t)).length-1,u()):a.slice()},l.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,s[0]]:e>=r?[s[r-1],i]:[s[e-1],s[e]]},l.unknown=function(t){return arguments.length?(e=t,l):l},l.thresholds=function(){return s.slice()},l.copy=function(){return t().domain([n,i]).range(a).unknown(e)},tp.apply(vp(l),arguments)},t.scaleRadial=function t(){var e,n=pp(),i=[0,1],r=!1;function o(t){var i=Pp(n(t));return isNaN(i)?e:r?Math.round(i):i}return o.invert=function(t){return n.invert(Dp(t))},o.domain=function(t){return arguments.length?(n.domain(t),o):n.domain()},o.range=function(t){return arguments.length?(n.range((i=Array.from(t,sp)).map(Dp)),o):i.slice()},o.rangeRound=function(t){return o.range(t).round(!0)},o.round=function(t){return arguments.length?(r=!!t,o):r},o.clamp=function(t){return arguments.length?(n.clamp(t),o):n.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t(n.domain(),i).round(r).clamp(n.clamp()).unknown(e)},tp.apply(o,arguments),vp(o)},t.scaleSequential=function t(){var e=vp(mb()(lp));return e.copy=function(){return _b(e,t())},ep.apply(e,arguments)},t.scaleSequentialLog=function t(){var e=Ep(mb()).domain([1,10]);return e.copy=function(){return _b(e,t()).base(e.base())},ep.apply(e,arguments)},t.scaleSequentialPow=xb,t.scaleSequentialQuantile=function t(){var n=[],i=lp;function r(t){if(!isNaN(t=+t))return i((o(n,t,1)-1)/(n.length-1))}return r.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(e),r},r.interpolator=function(t){return arguments.length?(i=t,r):i},r.range=function(){return n.map((t,e)=>i(e/(n.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(e,i)=>W(n,i/t))},r.copy=function(){return t(i).domain(n)},ep.apply(r,arguments)},t.scaleSequentialSqrt=function(){return xb.apply(null,arguments).exponent(.5)},t.scaleSequentialSymlog=function t(){var e=Tp(mb());return e.copy=function(){return _b(e,t()).constant(e.constant())},ep.apply(e,arguments)},t.scaleSqrt=function(){return Lp.apply(null,arguments).exponent(.5)},t.scaleSymlog=function t(){var e=Tp(dp());return e.copy=function(){return fp(e,t()).constant(e.constant())},tp.apply(e,arguments)},t.scaleThreshold=function t(){var e,n=[.5],i=[0,1],r=1;function s(t){return t<=t?i[o(n,t,0,r)]:e}return s.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,i.length-1),s):n.slice()},s.range=function(t){return arguments.length?(i=Array.from(t),r=Math.min(n.length,i.length-1),s):i.slice()},s.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},s.unknown=function(t){return arguments.length?(e=t,s):e},s.copy=function(){return t().domain(n).range(i).unknown(e)},tp.apply(s,arguments)},t.scaleTime=function(){return tp.apply(yb(vg,pg,tg,Zp,Gp,Xp,Vp,qp,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},t.scaleUtc=function(){return tp.apply(yb(zg,Bg,Sg,wg,_g,yg,Vp,qp,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},t.scan=function(t,e){const n=Z(t,e);return n<0?void 0:n},t.schemeAccent=Ab,t.schemeBlues=Ey,t.schemeBrBG=Ib,t.schemeBuGn=ty,t.schemeBuPu=ny,t.schemeCategory10=Sb,t.schemeDark2=Tb,t.schemeGnBu=ry,t.schemeGreens=Ay,t.schemeGreys=My,t.schemeOrRd=sy,t.schemeOranges=Py,t.schemePRGn=qb,t.schemePaired=Mb,t.schemePastel1=Ob,t.schemePastel2=Cb,t.schemePiYG=Fb,t.schemePuBu=cy,t.schemePuBuGn=ly,t.schemePuOr=Hb,t.schemePuRd=fy,t.schemePurples=Cy,t.schemeRdBu=Wb,t.schemeRdGy=Yb,t.schemeRdPu=py,t.schemeRdYlBu=Kb,t.schemeRdYlGn=$b,t.schemeReds=Ly,t.schemeSet1=Nb,t.schemeSet2=Lb,t.schemeSet3=Db,t.schemeSpectral=Jb,t.schemeTableau10=Pb,t.schemeYlGn=yy,t.schemeYlGnBu=vy,t.schemeYlOrBr=_y,t.schemeYlOrRd=wy,t.select=Le,t.selectAll=function(t){return"string"==typeof t?new Ce([document.querySelectorAll(t)],[document.documentElement]):new Ce([null==t?[]:Tt(t)],Oe)},t.selection=Ne,t.selector=At,t.selectorAll=Ot,t.shuffle=J,t.shuffler=Q,t.some=function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const i of t)if(e(i,++n,t))return!0;return!1},t.sort=M,t.stack=function(){var t=Ky([]),e=I_,n=j_,i=R_;function r(r){var o,s,a=Array.from(t.apply(this,arguments),q_),l=a.length,u=-1;for(const t of r)for(o=0,++u;o<l;++o)(a[o][u]=[0,+i(t,a[o].key,u,r)]).data=t;for(o=0,s=vm(e(a));o<l;++o)a[s[o]].index=o;return n(a,s),a}return r.keys=function(e){return arguments.length?(t="function"==typeof e?e:Ky(Array.from(e)),r):t},r.value=function(t){return arguments.length?(i="function"==typeof t?t:Ky(+t),r):i},r.order=function(t){return arguments.length?(e=null==t?I_:"function"==typeof t?t:Ky(Array.from(t)),r):e},r.offset=function(t){return arguments.length?(n=null==t?j_:t,r):n},r},t.stackOffsetDiverging=function(t,e){if((a=t.length)>0)for(var n,i,r,o,s,a,l=0,u=t[e[0]].length;l<u;++l)for(o=s=0,n=0;n<a;++n)(r=(i=t[e[n]][l])[1]-i[0])>0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):(i[0]=0,i[1]=r)},t.stackOffsetExpand=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,s=t[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}j_(t,e)}},t.stackOffsetNone=j_,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}j_(t,e)}},t.stackOffsetWiggle=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,u=0;a<r;++a){for(var c=t[e[a]],h=c[s][1]||0,f=(h-(c[s-1][1]||0))/2,d=0;d<a;++d){var p=t[e[d]];f+=(p[s][1]||0)-(p[s-1][1]||0)}l+=h,u+=f*h}n[s-1][1]+=n[s-1][0]=o,l&&(o-=u/l)}n[s-1][1]+=n[s-1][0]=o,j_(t,e)}},t.stackOrderAppearance=B_,t.stackOrderAscending=z_,t.stackOrderDescending=function(t){return z_(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,i=t.length,r=t.map(H_),o=B_(t),s=0,a=0,l=[],u=[];for(e=0;e<i;++e)n=o[e],s<a?(s+=r[n],l.push(n)):(a+=r[n],u.push(n));return u.reverse().concat(l)},t.stackOrderNone=I_,t.stackOrderReverse=function(t){return I_(t).reverse()},t.stratify=function(){var t=md,e=_d;function n(n){var i,r,o,s,a,l,u,c=Array.from(n),h=c.length,f=new Map;for(r=0;r<h;++r)a=c[r]=new Xf(i=c[r]),null!=(l=t(i,r,n))&&(l+="")&&(u=a.id=l,f.set(u,f.has(u)?yd:a)),null!=(l=e(i,r,n))&&(l+="")&&(a.parent=l);for(r=0;r<h;++r)if(l=(a=c[r]).parent){if(!(s=f.get(l)))throw new Error("missing: "+l);if(s===yd)throw new Error("ambiguous: "+l);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=bd,o.eachBefore(function(t){t.depth=t.parent.depth+1,--h}).eachBefore(Yf),o.parent=null,h>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=ld(e),n):t},n.parentId=function(t){return arguments.length?(e=ld(t),n):e},n},t.style=Qt,t.subset=function(t,e){return it(e,t)},t.sum=function(t,e){let n=0;if(void 0===e)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let r of t)(r=+e(r,++i,t))&&(n+=r)}return n},t.superset=it,t.svg=Pa,t.symbol=function(t,e){var n=null;function i(){var i;if(n||(n=i=as()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"==typeof t?t:Ky(t||qm),e="function"==typeof e?e:Ky(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"==typeof e?e:Ky(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:Ky(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i},t.symbolCircle=qm,t.symbolCross=Bm,t.symbolDiamond=Hm,t.symbolSquare=Xm,t.symbolStar=Ym,t.symbolTriangle=Gm,t.symbolWye=t_,t.symbols=e_,t.text=Aa,t.thresholdFreedmanDiaconis=function(t,e,n){return Math.ceil((n-e)/(2*(W(t,.75)-W(t,.25))*Math.pow(l(t),-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*d(t)*Math.pow(l(t),-1/3)))},t.thresholdSturges=q,t.tickFormat=gp,t.tickIncrement=j,t.tickStep=I,t.ticks=P,t.timeDay=Zp,t.timeDays=Jp,t.timeFormatDefaultLocale=hb,t.timeFormatLocale=Yg,t.timeFriday=og,t.timeFridays=fg,t.timeHour=Gp,t.timeHours=$p,t.timeInterval=Rp,t.timeMillisecond=qp,t.timeMilliseconds=Bp,t.timeMinute=Xp,t.timeMinutes=Kp,t.timeMonday=eg,t.timeMondays=lg,t.timeMonth=pg,t.timeMonths=gg,t.timeSaturday=sg,t.timeSaturdays=dg,t.timeSecond=Vp,t.timeSeconds=Yp,t.timeSunday=tg,t.timeSundays=ag,t.timeThursday=rg,t.timeThursdays=hg,t.timeTuesday=ng,t.timeTuesdays=ug,t.timeWednesday=ig,t.timeWednesdays=cg,t.timeWeek=tg,t.timeWeeks=ag,t.timeYear=vg,t.timeYears=bg,t.timeout=ar,t.timer=nr,t.timerFlush=ir,t.transition=Ur,t.transpose=tt,t.tree=function(){var t=xd,e=1,n=1,i=null;function r(r){var l=function(t){for(var e,n,i,r,o,s=new Ad(t,0),a=[s];e=a.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=e.children[r]=new Ad(i[r],r)),n.parent=e;return(s.parent=new Ad(null,0)).children=[s],s}(r);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),i)r.eachBefore(a);else{var u=r,c=r,h=r;r.eachBefore(function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var f=u===c?1:t(u,c)/2,d=f-u.x,p=e/(c.x+f+d),g=n/(h.depth||1);r.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return r}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,s=e,a=n,l=o.parent.children[0],u=o.m,c=s.m,h=a.m,f=l.m;a=kd(a),o=wd(o),a&&o;)l=wd(l),(s=kd(s)).a=e,(r=a.z+h-o.z-u+t(a._,o._))>0&&(Ed(Sd(a,e,i),e,r),u+=r,c+=r),h+=a.m,u+=o.m,f+=l.m,c+=s.m;a&&!kd(s)&&(s.t=a,s.m+=h-c),o&&!wd(l)&&(l.t=o,l.m+=u-f,i=e)}return i}(e,r,e.parent.A||i[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},t.treemap=function(){var t=Cd,e=!1,n=1,i=1,r=[0],o=ud,s=ud,a=ud,l=ud,u=ud;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(h),r=[0],e&&t.eachBefore(gd),t}function h(e){var n=r[e.depth],i=e.x0+n,c=e.y0+n,h=e.x1-n,f=e.y1-n;h<i&&(i=h=(i+h)/2),f<c&&(c=f=(c+f)/2),e.x0=i,e.y0=c,e.x1=h,e.y1=f,e.children&&(n=r[e.depth+1]=o(e)/2,i+=u(e)-n,c+=s(e)-n,(h-=a(e)-n)<i&&(i=h=(i+h)/2),(f-=l(e)-n)<c&&(c=f=(c+f)/2),t(e,i,c,h,f))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],i=+t[1],c):[n,i]},c.tile=function(e){return arguments.length?(t=ld(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:cd(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(s="function"==typeof t?t:cd(+t),c):s},c.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:cd(+t),c):a},c.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:cd(+t),c):l},c.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:cd(+t),c):u},c},t.treemapBinary=function(t,e,n,i,r){var o,s,a=t.children,l=a.length,u=new Array(l+1);for(u[0]=s=o=0;o<l;++o)u[o+1]=s+=a[o].value;!function t(e,n,i,r,o,s,l){if(e>=n-1){var c=a[e];return c.x0=r,c.y0=o,c.x1=s,void(c.y1=l)}for(var h=u[e],f=i/2+h,d=e+1,p=n-1;d<p;){var g=d+p>>>1;u[g]<f?d=g+1:p=g}f-u[d-1]<u[d]-f&&e+1<d&&--d;var v=u[d]-h,b=i-v;if(s-r>l-o){var y=i?(r*b+s*v)/i:s;t(e,d,v,r,o,y,l),t(d,n,b,y,o,s,l)}else{var m=i?(o*b+l*v)/i:l;t(e,d,v,r,o,s,m),t(d,n,b,r,m,s,l)}}(0,l,t.value,e,n,i,r)},t.treemapDice=vd,t.treemapResquarify=Nd,t.treemapSlice=Td,t.treemapSliceDice=function(t,e,n,i,r){(1&t.depth?Td:vd)(t,e,n,i,r)},t.treemapSquarify=Cd,t.tsv=Oa,t.tsvFormat=ba,t.tsvFormatBody=ya,t.tsvFormatRow=_a,t.tsvFormatRows=ma,t.tsvFormatValue=xa,t.tsvParse=ga,t.tsvParseRows=va,t.union=function(...t){const e=new Set;for(const n of t)for(const t of n)e.add(t);return e},t.utcDay=wg,t.utcDays=kg,t.utcFriday=Cg,t.utcFridays=Rg,t.utcHour=_g,t.utcHours=xg,t.utcMillisecond=qp,t.utcMilliseconds=Bp,t.utcMinute=yg,t.utcMinutes=mg,t.utcMonday=Ag,t.utcMondays=Dg,t.utcMonth=Bg,t.utcMonths=Fg,t.utcSaturday=Ng,t.utcSaturdays=qg,t.utcSecond=Vp,t.utcSeconds=Yp,t.utcSunday=Sg,t.utcSundays=Lg,t.utcThursday=Og,t.utcThursdays=Ig,t.utcTuesday=Tg,t.utcTuesdays=Pg,t.utcWednesday=Mg,t.utcWednesdays=jg,t.utcWeek=Sg,t.utcWeeks=Lg,t.utcYear=zg,t.utcYears=Hg,t.variance=f,t.version="6.6.1",t.window=Gt,t.xml=La,t.zip=function(){return tt(arguments)},t.zoom=function(){var t,e,n,i=$_,r=Z_,o=ex,s=Q_,a=tx,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Li,f=pt("start","zoom","end"),d=500,p=0,g=10;function v(t){t.property("__zoom",J_).on("wheel.zoom",k).on("mousedown.zoom",E).on("dblclick.zoom",S).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new V_(e,t.x,t.y)}function y(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new V_(t.k,i,r)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n,i){t.on("start.zoom",function(){x(this,arguments).event(i).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(i).end()}).tween("zoom",function(){var t=this,o=arguments,s=x(t,o).event(i),a=r.apply(t,o),l=null==n?m(a):"function"==typeof n?n.apply(t,o):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,o):e,d=h(c.invert(l).concat(u/c.k),f.invert(l).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=d(t),n=u/e[2];t=new V_(n,l[0]-e[0]*n,l[1]-e[1]*n)}s.zoom(null,t)}})}function x(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=r.apply(t,e),this.taps=0}function k(t,...e){if(i.apply(this,arguments)){var n=x(this,e).event(t),r=this.__zoom,a=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,s.apply(this,arguments)))),c=Re(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=r.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(r.k===a)return;n.mouse=[c,r.invert(c)],pr(this),n.start()}G_(t),n.wheel=setTimeout(h,150),n.zoom("mouse",o(y(b(r,a),n.mouse[0],n.mouse[1]),n.extent,u))}function h(){n.wheel=null,n.end()}}function E(t,...e){if(!n&&i.apply(this,arguments)){var r=x(this,e,!0).event(t),s=Le(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",d,!0),a=Re(t,l),l=t.currentTarget,c=t.clientX,h=t.clientY;Fe(t.view),K_(t),r.mouse=[a,this.__zoom.invert(a)],pr(this),r.start()}function f(t){if(G_(t),!r.moved){var e=t.clientX-c,n=t.clientY-h;r.moved=e*e+n*n>p}r.event(t).zoom("mouse",o(y(r.that.__zoom,r.mouse[0]=Re(t,l),r.mouse[1]),r.extent,u))}function d(t){s.on("mousemove.zoom mouseup.zoom",null),ze(t.view,r.moved),G_(t),r.event(t).end()}}function S(t,...e){if(i.apply(this,arguments)){var n=this.__zoom,s=Re(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(s),l=n.k*(t.shiftKey?.5:2),h=o(y(b(n,l),s,a),r.apply(this,e),u);G_(t),c>0?Le(this).transition().duration(c).call(_,h,s,t):Le(this).call(v.transform,h,s,t)}}function A(n,...r){if(i.apply(this,arguments)){var o,s,a,l,u=n.touches,c=u.length,h=x(this,r,n.changedTouches.length===c).event(n);for(K_(n),s=0;s<c;++s)l=[l=Re(a=u[s],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=l[0],t=setTimeout(function(){t=null},d)),pr(this),h.start())}}function T(t,...e){if(this.__zooming){var n,i,r,s,a=x(this,e).event(t),l=t.changedTouches,c=l.length;for(G_(t),n=0;n<c;++n)r=Re(i=l[n],this),a.touch0&&a.touch0[2]===i.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===i.identifier&&(a.touch1[0]=r);if(i=a.that.__zoom,a.touch1){var h=a.touch0[0],f=a.touch0[1],d=a.touch1[0],p=a.touch1[1],g=(g=d[0]-h[0])*g+(g=d[1]-h[1])*g,v=(v=p[0]-f[0])*v+(v=p[1]-f[1])*v;i=b(i,Math.sqrt(g/v)),r=[(h[0]+d[0])/2,(h[1]+d[1])/2],s=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(y(i,r,s),a.extent,u))}}function M(t,...i){if(this.__zooming){var r,o,s=x(this,i).event(t),a=t.changedTouches,l=a.length;for(K_(t),n&&clearTimeout(n),n=setTimeout(function(){n=null},d),r=0;r<l;++r)o=a[r],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=Re(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<g)){var u=Le(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return v.transform=function(t,e,n,i){var r=t.selection?t.selection():t;r.property("__zoom",J_),t!==r?_(t,e,n,i):r.interrupt().each(function(){x(this,arguments).event(i).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},v.scaleBy=function(t,e,n,i){v.scaleTo(t,function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n},n,i)},v.scaleTo=function(t,e,n,i){v.transform(t,function(){var t=r.apply(this,arguments),i=this.__zoom,s=null==n?m(t):"function"==typeof n?n.apply(this,arguments):n,a=i.invert(s),l="function"==typeof e?e.apply(this,arguments):e;return o(y(b(i,l),s,a),t,u)},n,i)},v.translateBy=function(t,e,n,i){v.transform(t,function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)},null,i)},v.translateTo=function(t,e,n,i,s){v.transform(t,function(){var t=r.apply(this,arguments),s=this.__zoom,a=null==i?m(t):"function"==typeof i?i.apply(this,arguments):i;return o(Y_.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)},i,s)},w.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Le(this.that).datum();f.call(t,this.that,new W_(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:f}),e)}},v.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:U_(+t),v):s},v.filter=function(t){return arguments.length?(i="function"==typeof t?t:U_(!!t),v):i},v.touchable=function(t){return arguments.length?(a="function"==typeof t?t:U_(!!t),v):a},v.extent=function(t){return arguments.length?(r="function"==typeof t?t:U_([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):r},v.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],v):[l[0],l[1]]},v.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],v):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(c=+t,v):c},v.interpolate=function(t){return arguments.length?(h=t,v):h},v.on=function(){var t=f.on.apply(f,arguments);return t===f?v:t},v.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,v):Math.sqrt(p)},v.tapDistance=function(t){return arguments.length?(g=+t,v):g},v},t.zoomIdentity=Y_,t.zoomTransform=X_,Object.defineProperty(t,"__esModule",{value:!0})});